Log file created at: 2021/07/23 13:55:14
Running on machine: gpu4
Binary: Built with gc go1.13.15 for linux/amd64
Log line format: [IWEF]mmdd hh:mm:ss.uuuuuu threadid file:line] msg
I0723 13:55:14.707845   27140 main.go:19]  "msg"="Celeste - DLT jobs scheduler"  "version"="0.0.1"
I0723 13:55:14.708783   27140 main.go:20]  "msg"="Starting service"  
I0723 13:55:14.714284   27140 placement_manager.go:65]  "msg"="Starting placement manager"  "scheduler"="default"
I0723 13:55:14.716202   27140 placement_manager.go:95]  "msg"="Started placement manager"  "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 13:55:14.716824   27140 jobmaster.go:82]  "msg"="Starting scheduler"  "gpuType"="default"
I0723 13:55:14.716938   27140 scheduler.go:124]  "msg"="Starting scheduler"  "scheduler"="default"
I0723 13:55:14.750855   27140 scheduler.go:432]  "msg"="Start watching mpijob"  "scheduler"="default"
I0723 13:55:20.706341   27140 jobmaster.go:155]  "msg"="Training job created"  "job"="tf2-keras-cifar10-inceptionv3-elastic-20210723-015520"
I0723 13:55:20.706537   27140 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-23T13:55:14.716776447+08:00" "lastResched"="2021-07-23T13:55:14.716776747+08:00" "received"="2021-07-23T13:55:20.705442457+08:00" "scheduler"="default"
I0723 13:55:20.707282   27140 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0723 13:55:20.707352   27140 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0723 13:55:20.709389   27140 ffdl_optimizer.go:129]  "msg"="Finished scheduling"  "FreeGPU"=8 "algorithm"="FfDLOptimizer" "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015520":4} "scheduler"="default"
I0723 13:55:20.709701   27140 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 13:55:20.710061   27140 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 13:55:20.710462   27140 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=["tf2-keras-cifar10-inceptionv3-elastic-20210723-015520"] "scheduler"="default"
I0723 13:55:20.735409   27140 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 13:55:20.737465   27140 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0723 13:55:20.737562   27140 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 13:55:20.737996   27140 placement_manager.go:250]  "msg"="Released slots"  "jobs"={} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 13:55:20.738614   27140 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{}] "scheduler"="default"
I0723 13:55:20.739361   27140 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=0
I0723 13:55:20.739688   27140 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015520":{}} "old"={} "scheduler"="default"
I0723 13:55:20.740078   27140 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=0 "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015520-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-015520-worker-1":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-015520-worker-2":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-015520-worker-3":"gpu3"} "old"={} "scheduler"="default" "workersToDelete"=0
I0723 13:55:20.740482   27140 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0723 13:55:20.740802   27140 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0723 13:55:20.822751   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-015520-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 13:55:20.833873   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-015520-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 13:55:20.842468   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-015520-worker-2" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 13:55:20.853288   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-015520-worker-3" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 13:55:20.868366   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-015520-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 13:55:27.676987   27140 jobmaster.go:155]  "msg"="Training job created"  "job"="tf2-keras-cifar10-resnet50-elastic-20210723-015527"
I0723 13:55:27.677153   27140 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-23T13:57:20.741138797+08:00" "lastResched"="2021-07-23T13:55:20.741138797+08:00" "received"="2021-07-23T13:55:27.676173867+08:00" "scheduler"="default"
I0723 13:55:32.656083   27140 jobmaster.go:155]  "msg"="Training job created"  "job"="tf2-keras-cifar10-inceptionv3-elastic-20210723-015532"
I0723 13:56:02.666341   27140 jobmaster.go:155]  "msg"="Training job created"  "job"="tf2-keras-cifar10-vgg16-elastic-20210723-015602"
I0723 13:56:29.582101   27140 jobmaster.go:155]  "msg"="Training job created"  "job"="tf2-keras-cifar10-vgg16-elastic-20210723-015629"
I0723 13:57:20.741270   27140 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0723 13:57:20.741363   27140 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0723 13:57:20.746870   27140 ffdl_optimizer.go:129]  "msg"="Finished scheduling"  "FreeGPU"=0 "algorithm"="FfDLOptimizer" "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015520":3,"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532":3,"tf2-keras-cifar10-resnet50-elastic-20210723-015527":2,"tf2-keras-cifar10-vgg16-elastic-20210723-015602":2,"tf2-keras-cifar10-vgg16-elastic-20210723-015629":2} "scheduler"="default"
I0723 13:57:20.747298   27140 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 13:57:20.747607   27140 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=["tf2-keras-cifar10-inceptionv3-elastic-20210723-015520"] "scheduler"="default"
I0723 13:57:20.765319   27140 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=["tf2-keras-cifar10-resnet50-elastic-20210723-015527","tf2-keras-cifar10-inceptionv3-elastic-20210723-015532","tf2-keras-cifar10-vgg16-elastic-20210723-015602","tf2-keras-cifar10-vgg16-elastic-20210723-015629"] "scheduler"="default"
I0723 13:57:20.819292   27140 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 13:57:20.822407   27140 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0723 13:57:20.822495   27140 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015520":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 13:57:20.822561   27140 placement_manager.go:250]  "msg"="Released slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015520":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 13:57:20.823161   27140 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{},{},{},{},{},{},{},{},{}] "scheduler"="default"
I0723 13:57:20.823665   27140 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=3
I0723 13:57:20.823957   27140 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015520":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532":{},"tf2-keras-cifar10-resnet50-elastic-20210723-015527":{},"tf2-keras-cifar10-vgg16-elastic-20210723-015602":{},"tf2-keras-cifar10-vgg16-elastic-20210723-015629":{}} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015520":{}} "scheduler"="default"
I0723 13:57:20.824365   27140 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=0 "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015520-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-015520-worker-1":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-015520-worker-2":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-worker-1":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-worker-2":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-015527-worker-0":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210723-015527-worker-1":"gpu5","tf2-keras-cifar10-vgg16-elastic-20210723-015602-worker-0":"gpu5","tf2-keras-cifar10-vgg16-elastic-20210723-015602-worker-1":"gpu5","tf2-keras-cifar10-vgg16-elastic-20210723-015629-worker-0":"gpu3","tf2-keras-cifar10-vgg16-elastic-20210723-015629-worker-1":"gpu4","tf2-keras-cifar10-vgg16-elastic-20210723-015629-worker-2":"gpu4"} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015520-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-015520-worker-1":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-015520-worker-2":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-015520-worker-3":"gpu3"} "scheduler"="default" "workersToDelete"=0
I0723 13:57:20.824752   27140 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0723 13:57:20.825015   27140 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0723 13:57:21.579160   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-015527-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 13:57:21.976703   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-015527-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 13:57:22.379699   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-015527-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 13:57:22.978343   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 13:57:23.376751   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 13:57:23.778783   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-worker-2" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 13:57:24.389694   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 13:57:24.790277   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-015602-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 13:57:25.187793   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-015602-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 13:57:25.587729   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-015602-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 13:57:26.377992   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-015629-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 13:57:26.576614   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-015629-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 13:57:27.270792   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-015629-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 13:58:04.588197   27140 jobmaster.go:155]  "msg"="Training job created"  "job"="tf2-keras-transformer-elastic-20210723-015804"
I0723 13:58:04.588401   27140 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-23T13:59:20.825301625+08:00" "lastResched"="2021-07-23T13:57:20.825301625+08:00" "received"="2021-07-23T13:58:04.587616507+08:00" "scheduler"="default"
I0723 13:59:20.825414   27140 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0723 13:59:20.825529   27140 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0723 13:59:20.833391   27140 ffdl_optimizer.go:129]  "msg"="Finished scheduling"  "FreeGPU"=0 "algorithm"="FfDLOptimizer" "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015520":3,"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532":3,"tf2-keras-cifar10-resnet50-elastic-20210723-015527":1,"tf2-keras-cifar10-vgg16-elastic-20210723-015602":1,"tf2-keras-cifar10-vgg16-elastic-20210723-015629":3,"tf2-keras-transformer-elastic-20210723-015804":1} "scheduler"="default"
I0723 13:59:20.833806   27140 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 13:59:20.834158   27140 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=["tf2-keras-cifar10-resnet50-elastic-20210723-015527","tf2-keras-cifar10-vgg16-elastic-20210723-015602"] "scheduler"="default"
I0723 13:59:20.882311   27140 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=["tf2-keras-transformer-elastic-20210723-015804"] "scheduler"="default"
I0723 13:59:20.895416   27140 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=["tf2-keras-cifar10-vgg16-elastic-20210723-015629"] "scheduler"="default"
I0723 13:59:20.916139   27140 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0723 13:59:20.916239   27140 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015520":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532":{},"tf2-keras-cifar10-resnet50-elastic-20210723-015527":{},"tf2-keras-cifar10-vgg16-elastic-20210723-015602":{},"tf2-keras-cifar10-vgg16-elastic-20210723-015629":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 13:59:20.916345   27140 placement_manager.go:250]  "msg"="Released slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015520":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532":{},"tf2-keras-cifar10-resnet50-elastic-20210723-015527":{},"tf2-keras-cifar10-vgg16-elastic-20210723-015602":{},"tf2-keras-cifar10-vgg16-elastic-20210723-015629":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 13:59:20.916773   27140 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{},{},{},{},{},{},{},{},{},{},{}] "scheduler"="default"
I0723 13:59:20.917167   27140 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=6
I0723 13:59:20.917577   27140 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015520":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532":{},"tf2-keras-cifar10-resnet50-elastic-20210723-015527":{},"tf2-keras-cifar10-vgg16-elastic-20210723-015602":{},"tf2-keras-cifar10-vgg16-elastic-20210723-015629":{},"tf2-keras-transformer-elastic-20210723-015804":{}} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015520":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532":{},"tf2-keras-cifar10-resnet50-elastic-20210723-015527":{},"tf2-keras-cifar10-vgg16-elastic-20210723-015602":{},"tf2-keras-cifar10-vgg16-elastic-20210723-015629":{}} "scheduler"="default"
I0723 13:59:20.918079   27140 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=2 "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015520-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-015520-worker-1":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-015520-worker-2":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-worker-1":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-worker-2":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210723-015527-worker-0":"gpu3","tf2-keras-cifar10-vgg16-elastic-20210723-015602-worker-0":"gpu5","tf2-keras-cifar10-vgg16-elastic-20210723-015629-worker-0":"gpu4","tf2-keras-cifar10-vgg16-elastic-20210723-015629-worker-1":"gpu4","tf2-keras-cifar10-vgg16-elastic-20210723-015629-worker-2":"gpu4","tf2-keras-transformer-elastic-20210723-015804-worker-0":"gpu4"} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015520-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-015520-worker-1":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-015520-worker-2":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-worker-1":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-worker-2":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-015527-worker-0":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210723-015527-worker-1":"gpu5","tf2-keras-cifar10-vgg16-elastic-20210723-015602-worker-0":"gpu5","tf2-keras-cifar10-vgg16-elastic-20210723-015602-worker-1":"gpu5","tf2-keras-cifar10-vgg16-elastic-20210723-015629-worker-0":"gpu3","tf2-keras-cifar10-vgg16-elastic-20210723-015629-worker-1":"gpu4","tf2-keras-cifar10-vgg16-elastic-20210723-015629-worker-2":"gpu4"} "scheduler"="default" "workersToDelete"=5
I0723 13:59:20.918595   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-015527-worker-0" "scheduler"="default"
I0723 13:59:20.923017   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-015527-launcher" "scheduler"="default"
I0723 13:59:20.927439   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-worker-0" "scheduler"="default"
I0723 13:59:20.932226   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-worker-1" "scheduler"="default"
I0723 13:59:20.937373   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-worker-2" "scheduler"="default"
I0723 13:59:20.942899   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-launcher" "scheduler"="default"
I0723 13:59:20.947421   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-015629-worker-0" "scheduler"="default"
I0723 13:59:20.952077   27140 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0723 13:59:20.952379   27140 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0723 13:59:22.668380   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-015804-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 13:59:23.069169   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-015804-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 13:59:23.266853   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-015629-worker-2" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 13:59:28.411703   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-015629-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 13:59:35.241435   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 13:59:35.613729   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 13:59:36.414985   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 13:59:37.214871   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-worker-2" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 13:59:41.113331   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-015527-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 13:59:41.918866   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-015527-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 14:08:41.850905   27140 scheduler.go:474]  "msg"="Training job completed"  "elaspedTotalSeconds"=730.158795674 "gpuTotalSeconds"=1920.055885406 "job"="tf2-keras-cifar10-vgg16-elastic-20210723-015629" "ranTotalSeconds"=680.019626945 "scheduler"="default" "waitedTotalSeconds"=50.139168729
I0723 14:08:41.851073   27140 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-23T14:01:20.952628997+08:00" "lastResched"="2021-07-23T13:59:20.952628997+08:00" "received"="2021-07-23T14:08:41.850957385+08:00" "scheduler"="default"
I0723 14:08:41.851588   27140 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0723 14:08:41.851662   27140 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0723 14:08:41.858531   27140 ffdl_optimizer.go:129]  "msg"="Finished scheduling"  "FreeGPU"=0 "algorithm"="FfDLOptimizer" "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015520":3,"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532":4,"tf2-keras-cifar10-resnet50-elastic-20210723-015527":3,"tf2-keras-cifar10-vgg16-elastic-20210723-015602":1,"tf2-keras-transformer-elastic-20210723-015804":1} "scheduler"="default"
I0723 14:08:41.858804   27140 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 14:08:41.858997   27140 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 14:08:41.859152   27140 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 14:08:41.859346   27140 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=["tf2-keras-cifar10-resnet50-elastic-20210723-015527","tf2-keras-cifar10-inceptionv3-elastic-20210723-015532"] "scheduler"="default"
I0723 14:08:41.887641   27140 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0723 14:08:41.887694   27140 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015520":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532":{},"tf2-keras-cifar10-resnet50-elastic-20210723-015527":{},"tf2-keras-cifar10-vgg16-elastic-20210723-015602":{},"tf2-keras-cifar10-vgg16-elastic-20210723-015629":{},"tf2-keras-transformer-elastic-20210723-015804":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 14:08:41.887727   27140 placement_manager.go:250]  "msg"="Released slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015520":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532":{},"tf2-keras-cifar10-resnet50-elastic-20210723-015527":{},"tf2-keras-cifar10-vgg16-elastic-20210723-015602":{},"tf2-keras-cifar10-vgg16-elastic-20210723-015629":{},"tf2-keras-transformer-elastic-20210723-015804":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 14:08:41.888047   27140 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{},{},{},{},{},{},{},{},{}] "scheduler"="default"
I0723 14:08:41.888301   27140 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=6
I0723 14:08:41.888520   27140 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015520":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532":{},"tf2-keras-cifar10-resnet50-elastic-20210723-015527":{},"tf2-keras-cifar10-vgg16-elastic-20210723-015602":{},"tf2-keras-transformer-elastic-20210723-015804":{}} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015520":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532":{},"tf2-keras-cifar10-resnet50-elastic-20210723-015527":{},"tf2-keras-cifar10-vgg16-elastic-20210723-015602":{},"tf2-keras-cifar10-vgg16-elastic-20210723-015629":{},"tf2-keras-transformer-elastic-20210723-015804":{}} "scheduler"="default"
I0723 14:08:41.888807   27140 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=2 "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015520-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-015520-worker-1":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-015520-worker-2":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-worker-1":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-worker-2":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-worker-3":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210723-015527-worker-0":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-015527-worker-1":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-015527-worker-2":"gpu4","tf2-keras-cifar10-vgg16-elastic-20210723-015602-worker-0":"gpu4","tf2-keras-transformer-elastic-20210723-015804-worker-0":"gpu3"} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015520-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-015520-worker-1":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-015520-worker-2":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-worker-1":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-worker-2":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210723-015527-worker-0":"gpu3","tf2-keras-cifar10-vgg16-elastic-20210723-015602-worker-0":"gpu5","tf2-keras-cifar10-vgg16-elastic-20210723-015629-worker-0":"gpu4","tf2-keras-cifar10-vgg16-elastic-20210723-015629-worker-1":"gpu4","tf2-keras-cifar10-vgg16-elastic-20210723-015629-worker-2":"gpu4","tf2-keras-transformer-elastic-20210723-015804-worker-0":"gpu4"} "scheduler"="default" "workersToDelete"=3
I0723 14:08:41.889040   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-015527-worker-0" "scheduler"="default"
I0723 14:08:41.892637   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-015602-worker-0" "scheduler"="default"
I0723 14:08:41.896701   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-015602-launcher" "scheduler"="default"
I0723 14:08:41.900911   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-015527-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 14:08:41.901628   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-015804-worker-0" "scheduler"="default"
I0723 14:08:41.912835   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-015804-launcher" "scheduler"="default"
I0723 14:08:41.920993   27140 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0723 14:08:41.921306   27140 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0723 14:08:42.237915   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-015527-worker-2" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 14:08:42.837441   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-worker-3" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 14:08:47.632758   27140 jobmaster.go:155]  "msg"="Training job created"  "job"="tf2-keras-transformer-elastic-20210723-020847"
I0723 14:08:47.632883   27140 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-23T14:10:41.921532048+08:00" "lastResched"="2021-07-23T14:08:41.921532048+08:00" "received"="2021-07-23T14:08:47.632214839+08:00" "scheduler"="default"
I0723 14:08:53.839599   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-015527-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 14:08:54.581124   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-015804-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 14:08:59.740761   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-015804-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 14:08:59.794444   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-015602-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 14:08:59.803746   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-015602-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 14:10:41.921670   27140 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0723 14:10:41.921772   27140 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0723 14:10:41.928423   27140 ffdl_optimizer.go:129]  "msg"="Finished scheduling"  "FreeGPU"=0 "algorithm"="FfDLOptimizer" "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015520":4,"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532":2,"tf2-keras-cifar10-resnet50-elastic-20210723-015527":3,"tf2-keras-cifar10-vgg16-elastic-20210723-015602":1,"tf2-keras-transformer-elastic-20210723-015804":1,"tf2-keras-transformer-elastic-20210723-020847":1} "scheduler"="default"
I0723 14:10:41.928728   27140 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 14:10:41.928966   27140 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=["tf2-keras-cifar10-inceptionv3-elastic-20210723-015532"] "scheduler"="default"
I0723 14:10:41.948814   27140 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=["tf2-keras-transformer-elastic-20210723-020847"] "scheduler"="default"
I0723 14:10:41.960365   27140 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=["tf2-keras-cifar10-inceptionv3-elastic-20210723-015520"] "scheduler"="default"
I0723 14:10:41.980425   27140 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0723 14:10:41.980516   27140 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015520":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532":{},"tf2-keras-cifar10-resnet50-elastic-20210723-015527":{},"tf2-keras-cifar10-vgg16-elastic-20210723-015602":{},"tf2-keras-transformer-elastic-20210723-015804":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 14:10:41.980605   27140 placement_manager.go:250]  "msg"="Released slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015520":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532":{},"tf2-keras-cifar10-resnet50-elastic-20210723-015527":{},"tf2-keras-cifar10-vgg16-elastic-20210723-015602":{},"tf2-keras-transformer-elastic-20210723-015804":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 14:10:41.981018   27140 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{},{},{},{},{},{},{},{},{},{},{}] "scheduler"="default"
I0723 14:10:41.981306   27140 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=9
I0723 14:10:41.981569   27140 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015520":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532":{},"tf2-keras-cifar10-resnet50-elastic-20210723-015527":{},"tf2-keras-cifar10-vgg16-elastic-20210723-015602":{},"tf2-keras-transformer-elastic-20210723-015804":{},"tf2-keras-transformer-elastic-20210723-020847":{}} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015520":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532":{},"tf2-keras-cifar10-resnet50-elastic-20210723-015527":{},"tf2-keras-cifar10-vgg16-elastic-20210723-015602":{},"tf2-keras-transformer-elastic-20210723-015804":{}} "scheduler"="default"
I0723 14:10:41.981949   27140 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=1 "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015520-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-015520-worker-1":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-015520-worker-2":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-015520-worker-3":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-worker-1":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210723-015527-worker-0":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-015527-worker-1":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-015527-worker-2":"gpu4","tf2-keras-cifar10-vgg16-elastic-20210723-015602-worker-0":"gpu4","tf2-keras-transformer-elastic-20210723-015804-worker-0":"gpu5","tf2-keras-transformer-elastic-20210723-020847-worker-0":"gpu5"} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015520-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-015520-worker-1":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-015520-worker-2":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-worker-1":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-worker-2":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-worker-3":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210723-015527-worker-0":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-015527-worker-1":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-015527-worker-2":"gpu4","tf2-keras-cifar10-vgg16-elastic-20210723-015602-worker-0":"gpu4","tf2-keras-transformer-elastic-20210723-015804-worker-0":"gpu3"} "scheduler"="default" "workersToDelete"=1
I0723 14:10:41.982193   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-015804-worker-0" "scheduler"="default"
I0723 14:10:41.986752   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-015804-launcher" "scheduler"="default"
I0723 14:10:41.991838   27140 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0723 14:10:41.992531   27140 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0723 14:10:42.370205   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-020847-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 14:10:42.764933   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-020847-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 14:10:42.962583   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-015520-worker-3" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 14:10:53.853858   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-015804-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 14:10:53.993717   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-015804-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 14:12:07.829458   27140 jobmaster.go:155]  "msg"="Training job created"  "job"="tf2-keras-cifar10-inceptionv3-elastic-20210723-021207"
I0723 14:12:07.829563   27140 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-23T14:12:41.993525321+08:00" "lastResched"="2021-07-23T14:10:41.993525321+08:00" "received"="2021-07-23T14:12:07.828905435+08:00" "scheduler"="default"
I0723 14:12:41.993681   27140 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0723 14:12:41.993796   27140 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0723 14:12:42.000116   27140 ffdl_optimizer.go:129]  "msg"="Finished scheduling"  "FreeGPU"=0 "algorithm"="FfDLOptimizer" "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015520":1,"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532":2,"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":3,"tf2-keras-cifar10-resnet50-elastic-20210723-015527":3,"tf2-keras-cifar10-vgg16-elastic-20210723-015602":1,"tf2-keras-transformer-elastic-20210723-015804":1,"tf2-keras-transformer-elastic-20210723-020847":1} "scheduler"="default"
I0723 14:12:42.000484   27140 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 14:12:42.000789   27140 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=["tf2-keras-cifar10-inceptionv3-elastic-20210723-015520"] "scheduler"="default"
I0723 14:12:42.020109   27140 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=["tf2-keras-cifar10-inceptionv3-elastic-20210723-021207"] "scheduler"="default"
I0723 14:12:42.037893   27140 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 14:12:42.041026   27140 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0723 14:12:42.041115   27140 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015520":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532":{},"tf2-keras-cifar10-resnet50-elastic-20210723-015527":{},"tf2-keras-cifar10-vgg16-elastic-20210723-015602":{},"tf2-keras-transformer-elastic-20210723-015804":{},"tf2-keras-transformer-elastic-20210723-020847":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 14:12:42.041211   27140 placement_manager.go:250]  "msg"="Released slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015520":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532":{},"tf2-keras-cifar10-resnet50-elastic-20210723-015527":{},"tf2-keras-cifar10-vgg16-elastic-20210723-015602":{},"tf2-keras-transformer-elastic-20210723-015804":{},"tf2-keras-transformer-elastic-20210723-020847":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 14:12:42.041564   27140 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{},{},{},{},{},{},{},{},{},{},{},{},{}] "scheduler"="default"
I0723 14:12:42.041879   27140 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=6
I0723 14:12:42.042210   27140 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015520":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":{},"tf2-keras-cifar10-resnet50-elastic-20210723-015527":{},"tf2-keras-cifar10-vgg16-elastic-20210723-015602":{},"tf2-keras-transformer-elastic-20210723-015804":{},"tf2-keras-transformer-elastic-20210723-020847":{}} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015520":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532":{},"tf2-keras-cifar10-resnet50-elastic-20210723-015527":{},"tf2-keras-cifar10-vgg16-elastic-20210723-015602":{},"tf2-keras-transformer-elastic-20210723-015804":{},"tf2-keras-transformer-elastic-20210723-020847":{}} "scheduler"="default"
I0723 14:12:42.042807   27140 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=3 "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015520-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-worker-1":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-1":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-2":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210723-015527-worker-0":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-015527-worker-1":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-015527-worker-2":"gpu4","tf2-keras-cifar10-vgg16-elastic-20210723-015602-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-015804-worker-0":"gpu4","tf2-keras-transformer-elastic-20210723-020847-worker-0":"gpu5"} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015520-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-015520-worker-1":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-015520-worker-2":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-015520-worker-3":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-worker-1":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210723-015527-worker-0":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-015527-worker-1":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-015527-worker-2":"gpu4","tf2-keras-cifar10-vgg16-elastic-20210723-015602-worker-0":"gpu4","tf2-keras-transformer-elastic-20210723-015804-worker-0":"gpu5","tf2-keras-transformer-elastic-20210723-020847-worker-0":"gpu5"} "scheduler"="default" "workersToDelete"=3
I0723 14:12:42.043266   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-015602-worker-0" "scheduler"="default"
I0723 14:12:42.048823   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-015602-launcher" "scheduler"="default"
I0723 14:12:42.058111   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-015804-worker-0" "scheduler"="default"
I0723 14:12:42.076154   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-015804-launcher" "scheduler"="default"
I0723 14:12:42.080512   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-015520-worker-0" "scheduler"="default"
I0723 14:12:42.107381   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-015520-launcher" "scheduler"="default"
I0723 14:12:42.141186   27140 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0723 14:12:42.141554   27140 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0723 14:12:43.033832   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 14:12:43.631675   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 14:12:44.232760   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-2" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 14:12:44.639100   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 14:12:49.271927   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-015602-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 14:12:49.318573   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-015602-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 14:12:54.536202   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-015520-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 14:12:59.751129   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-015804-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 14:12:59.794830   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-015804-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 14:13:05.926092   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-015520-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 14:15:29.145067   27140 scheduler.go:474]  "msg"="Training job completed"  "elaspedTotalSeconds"=1197.074140493 "gpuTotalSeconds"=2015.053592484 "job"="tf2-keras-cifar10-resnet50-elastic-20210723-015527" "ranTotalSeconds"=1085.029951847 "scheduler"="default" "waitedTotalSeconds"=112.044188646
I0723 14:15:29.145233   27140 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-23T14:14:42.141901678+08:00" "lastResched"="2021-07-23T14:12:42.141901678+08:00" "received"="2021-07-23T14:15:29.145110668+08:00" "scheduler"="default"
I0723 14:15:29.145717   27140 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0723 14:15:29.145804   27140 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0723 14:15:29.153237   27140 ffdl_optimizer.go:129]  "msg"="Finished scheduling"  "FreeGPU"=0 "algorithm"="FfDLOptimizer" "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015520":1,"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532":4,"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":2,"tf2-keras-cifar10-vgg16-elastic-20210723-015602":3,"tf2-keras-transformer-elastic-20210723-015804":1,"tf2-keras-transformer-elastic-20210723-020847":1} "scheduler"="default"
I0723 14:15:29.153638   27140 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 14:15:29.154035   27140 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=["tf2-keras-cifar10-inceptionv3-elastic-20210723-021207"] "scheduler"="default"
I0723 14:15:29.169874   27140 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 14:15:29.170118   27140 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=["tf2-keras-cifar10-inceptionv3-elastic-20210723-015532","tf2-keras-cifar10-vgg16-elastic-20210723-015602"] "scheduler"="default"
I0723 14:15:29.201872   27140 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0723 14:15:29.201959   27140 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015520":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":{},"tf2-keras-cifar10-resnet50-elastic-20210723-015527":{},"tf2-keras-cifar10-vgg16-elastic-20210723-015602":{},"tf2-keras-transformer-elastic-20210723-015804":{},"tf2-keras-transformer-elastic-20210723-020847":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 14:15:29.202021   27140 placement_manager.go:250]  "msg"="Released slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015520":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":{},"tf2-keras-cifar10-resnet50-elastic-20210723-015527":{},"tf2-keras-cifar10-vgg16-elastic-20210723-015602":{},"tf2-keras-transformer-elastic-20210723-015804":{},"tf2-keras-transformer-elastic-20210723-020847":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 14:15:29.202468   27140 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{},{},{},{},{},{},{},{},{},{},{}] "scheduler"="default"
I0723 14:15:29.202781   27140 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=4
I0723 14:15:29.203101   27140 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015520":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":{},"tf2-keras-cifar10-vgg16-elastic-20210723-015602":{},"tf2-keras-transformer-elastic-20210723-015804":{},"tf2-keras-transformer-elastic-20210723-020847":{}} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015520":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":{},"tf2-keras-cifar10-resnet50-elastic-20210723-015527":{},"tf2-keras-cifar10-vgg16-elastic-20210723-015602":{},"tf2-keras-transformer-elastic-20210723-015804":{},"tf2-keras-transformer-elastic-20210723-020847":{}} "scheduler"="default"
I0723 14:15:29.203454   27140 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=3 "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015520-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-worker-1":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-worker-2":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-worker-3":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-1":"gpu3","tf2-keras-cifar10-vgg16-elastic-20210723-015602-worker-0":"gpu4","tf2-keras-cifar10-vgg16-elastic-20210723-015602-worker-1":"gpu4","tf2-keras-cifar10-vgg16-elastic-20210723-015602-worker-2":"gpu4","tf2-keras-transformer-elastic-20210723-015804-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-020847-worker-0":"gpu3"} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015520-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-worker-1":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-1":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-2":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210723-015527-worker-0":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-015527-worker-1":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-015527-worker-2":"gpu4","tf2-keras-cifar10-vgg16-elastic-20210723-015602-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-015804-worker-0":"gpu4","tf2-keras-transformer-elastic-20210723-020847-worker-0":"gpu5"} "scheduler"="default" "workersToDelete"=4
I0723 14:15:29.203757   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-015602-worker-0" "scheduler"="default"
I0723 14:15:29.207823   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-015520-worker-0" "scheduler"="default"
I0723 14:15:29.212230   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-015520-launcher" "scheduler"="default"
I0723 14:15:29.218938   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-015804-worker-0" "scheduler"="default"
I0723 14:15:29.222289   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-015804-launcher" "scheduler"="default"
I0723 14:15:29.227447   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-020847-worker-0" "scheduler"="default"
I0723 14:15:29.231855   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-020847-launcher" "scheduler"="default"
I0723 14:15:29.237338   27140 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0723 14:15:29.237620   27140 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0723 14:15:30.136194   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-worker-2" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 14:15:30.535110   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-worker-3" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 14:15:30.737039   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-015602-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 14:15:31.336362   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-015602-worker-2" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 14:15:36.338499   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-015602-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 14:15:39.743664   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-015520-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 14:15:39.786978   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-020847-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 14:15:50.283361   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-015804-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 14:15:51.281721   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-015520-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 14:15:51.880710   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-020847-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 14:15:56.738152   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-015804-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 14:16:29.868004   27140 jobmaster.go:155]  "msg"="Training job created"  "job"="tf2-keras-cifar10-resnet50-elastic-20210723-021629"
I0723 14:16:29.868169   27140 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-23T14:17:29.237869581+08:00" "lastResched"="2021-07-23T14:15:29.237869581+08:00" "received"="2021-07-23T14:16:29.867424567+08:00" "scheduler"="default"
I0723 14:17:29.237994   27140 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0723 14:17:29.238074   27140 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0723 14:17:29.248138   27140 ffdl_optimizer.go:129]  "msg"="Finished scheduling"  "FreeGPU"=0 "algorithm"="FfDLOptimizer" "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015520":3,"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532":4,"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":1,"tf2-keras-cifar10-resnet50-elastic-20210723-021629":1,"tf2-keras-cifar10-vgg16-elastic-20210723-015602":1,"tf2-keras-transformer-elastic-20210723-015804":1,"tf2-keras-transformer-elastic-20210723-020847":1} "scheduler"="default"
I0723 14:17:29.250704   27140 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 14:17:29.254227   27140 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=["tf2-keras-cifar10-inceptionv3-elastic-20210723-021207","tf2-keras-cifar10-vgg16-elastic-20210723-015602"] "scheduler"="default"
I0723 14:17:29.297972   27140 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=["tf2-keras-cifar10-resnet50-elastic-20210723-021629"] "scheduler"="default"
I0723 14:17:29.309555   27140 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=["tf2-keras-cifar10-inceptionv3-elastic-20210723-015520"] "scheduler"="default"
I0723 14:17:29.331032   27140 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0723 14:17:29.331119   27140 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015520":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":{},"tf2-keras-cifar10-vgg16-elastic-20210723-015602":{},"tf2-keras-transformer-elastic-20210723-015804":{},"tf2-keras-transformer-elastic-20210723-020847":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 14:17:29.331192   27140 placement_manager.go:250]  "msg"="Released slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015520":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":{},"tf2-keras-cifar10-vgg16-elastic-20210723-015602":{},"tf2-keras-transformer-elastic-20210723-015804":{},"tf2-keras-transformer-elastic-20210723-020847":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 14:17:29.331559   27140 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{},{},{},{},{},{},{},{},{},{},{},{},{}] "scheduler"="default"
I0723 14:17:29.331862   27140 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=7
I0723 14:17:29.332159   27140 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015520":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":{},"tf2-keras-cifar10-resnet50-elastic-20210723-021629":{},"tf2-keras-cifar10-vgg16-elastic-20210723-015602":{},"tf2-keras-transformer-elastic-20210723-015804":{},"tf2-keras-transformer-elastic-20210723-020847":{}} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015520":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":{},"tf2-keras-cifar10-vgg16-elastic-20210723-015602":{},"tf2-keras-transformer-elastic-20210723-015804":{},"tf2-keras-transformer-elastic-20210723-020847":{}} "scheduler"="default"
I0723 14:17:29.332571   27140 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=2 "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015520-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-015520-worker-1":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-015520-worker-2":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-worker-1":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-worker-2":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-worker-3":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-0":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-021629-worker-0":"gpu3","tf2-keras-cifar10-vgg16-elastic-20210723-015602-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-015804-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-020847-worker-0":"gpu3"} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015520-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-worker-1":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-worker-2":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-worker-3":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-1":"gpu3","tf2-keras-cifar10-vgg16-elastic-20210723-015602-worker-0":"gpu4","tf2-keras-cifar10-vgg16-elastic-20210723-015602-worker-1":"gpu4","tf2-keras-cifar10-vgg16-elastic-20210723-015602-worker-2":"gpu4","tf2-keras-transformer-elastic-20210723-015804-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-020847-worker-0":"gpu3"} "scheduler"="default" "workersToDelete"=2
I0723 14:17:29.332830   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-015602-worker-0" "scheduler"="default"
I0723 14:17:29.336854   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-015602-launcher" "scheduler"="default"
I0723 14:17:29.340886   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-0" "scheduler"="default"
I0723 14:17:29.348085   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-launcher" "scheduler"="default"
I0723 14:17:29.352674   27140 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0723 14:17:29.352959   27140 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0723 14:17:31.088406   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-021629-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 14:17:31.288888   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-015520-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 14:17:31.489176   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-021629-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 14:17:31.687644   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-015520-worker-2" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 14:17:36.060373   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 14:17:43.852106   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 14:17:44.897618   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-015602-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 14:17:46.100745   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-015602-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 14:20:55.983468   27140 jobmaster.go:155]  "msg"="Training job created"  "job"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022055"
I0723 14:20:55.983574   27140 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-23T14:19:29.353146543+08:00" "lastResched"="2021-07-23T14:17:29.353146543+08:00" "received"="2021-07-23T14:20:55.98295304+08:00" "scheduler"="default"
I0723 14:20:55.988341   27140 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0723 14:20:55.988382   27140 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0723 14:20:55.997491   27140 ffdl_optimizer.go:129]  "msg"="Finished scheduling"  "FreeGPU"=0 "algorithm"="FfDLOptimizer" "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015520":3,"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532":1,"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":2,"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":1,"tf2-keras-cifar10-resnet50-elastic-20210723-021629":2,"tf2-keras-cifar10-vgg16-elastic-20210723-015602":1,"tf2-keras-transformer-elastic-20210723-015804":1,"tf2-keras-transformer-elastic-20210723-020847":1} "scheduler"="default"
I0723 14:20:56.000071   27140 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 14:20:56.002786   27140 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=["tf2-keras-cifar10-inceptionv3-elastic-20210723-015532"] "scheduler"="default"
I0723 14:20:56.021390   27140 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=["tf2-keras-cifar10-inceptionv3-elastic-20210723-022055"] "scheduler"="default"
I0723 14:20:56.030567   27140 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=["tf2-keras-cifar10-inceptionv3-elastic-20210723-021207","tf2-keras-cifar10-resnet50-elastic-20210723-021629"] "scheduler"="default"
I0723 14:20:56.067994   27140 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0723 14:20:56.068090   27140 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015520":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":{},"tf2-keras-cifar10-resnet50-elastic-20210723-021629":{},"tf2-keras-cifar10-vgg16-elastic-20210723-015602":{},"tf2-keras-transformer-elastic-20210723-015804":{},"tf2-keras-transformer-elastic-20210723-020847":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 14:20:56.068165   27140 placement_manager.go:250]  "msg"="Released slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015520":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":{},"tf2-keras-cifar10-resnet50-elastic-20210723-021629":{},"tf2-keras-cifar10-vgg16-elastic-20210723-015602":{},"tf2-keras-transformer-elastic-20210723-015804":{},"tf2-keras-transformer-elastic-20210723-020847":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 14:20:56.068595   27140 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}] "scheduler"="default"
I0723 14:20:56.068914   27140 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=6
I0723 14:20:56.069197   27140 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015520":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":{},"tf2-keras-cifar10-resnet50-elastic-20210723-021629":{},"tf2-keras-cifar10-vgg16-elastic-20210723-015602":{},"tf2-keras-transformer-elastic-20210723-015804":{},"tf2-keras-transformer-elastic-20210723-020847":{}} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015520":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":{},"tf2-keras-cifar10-resnet50-elastic-20210723-021629":{},"tf2-keras-cifar10-vgg16-elastic-20210723-015602":{},"tf2-keras-transformer-elastic-20210723-015804":{},"tf2-keras-transformer-elastic-20210723-020847":{}} "scheduler"="default"
I0723 14:20:56.069600   27140 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=1 "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015520-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-015520-worker-1":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-015520-worker-2":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-1":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-022055-worker-0":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-021629-worker-0":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210723-021629-worker-1":"gpu5","tf2-keras-cifar10-vgg16-elastic-20210723-015602-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-015804-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-020847-worker-0":"gpu3"} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015520-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-015520-worker-1":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-015520-worker-2":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-worker-1":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-worker-2":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-worker-3":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-0":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-021629-worker-0":"gpu3","tf2-keras-cifar10-vgg16-elastic-20210723-015602-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-015804-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-020847-worker-0":"gpu3"} "scheduler"="default" "workersToDelete"=3
I0723 14:20:56.069956   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-0" "scheduler"="default"
I0723 14:20:56.075742   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-021629-worker-0" "scheduler"="default"
I0723 14:20:56.081438   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-worker-0" "scheduler"="default"
I0723 14:20:56.085452   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-launcher" "scheduler"="default"
I0723 14:20:56.089236   27140 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0723 14:20:56.089443   27140 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0723 14:20:56.637627   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022055-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 14:20:57.035158   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022055-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 14:20:57.235158   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 14:20:58.235186   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-021629-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 14:21:10.723151   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 14:21:12.504531   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 14:21:13.840821   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-021629-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 14:21:14.000986   27140 jobmaster.go:155]  "msg"="Training job created"  "job"="tf2-keras-transformer-elastic-20210723-022114"
I0723 14:21:14.001136   27140 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-23T14:22:56.08962382+08:00" "lastResched"="2021-07-23T14:20:56.08962382+08:00" "received"="2021-07-23T14:21:14.000371413+08:00" "scheduler"="default"
I0723 14:21:15.299404   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 14:21:39.907045   27140 jobmaster.go:155]  "msg"="Training job created"  "job"="tf2-keras-cifar10-vgg16-elastic-20210723-022139"
I0723 14:22:50.296331   27140 scheduler.go:474]  "msg"="Training job completed"  "elaspedTotalSeconds"=1607.097749157 "gpuTotalSeconds"=1890.053164101 "job"="tf2-keras-cifar10-vgg16-elastic-20210723-015602" "ranTotalSeconds"=1530.042902072 "scheduler"="default" "waitedTotalSeconds"=77.054847085
I0723 14:22:56.089887   27140 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0723 14:22:56.090120   27140 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0723 14:22:56.097889   27140 ffdl_optimizer.go:129]  "msg"="Finished scheduling"  "FreeGPU"=0 "algorithm"="FfDLOptimizer" "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015520":3,"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532":1,"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":1,"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":1,"tf2-keras-cifar10-resnet50-elastic-20210723-021629":2,"tf2-keras-cifar10-vgg16-elastic-20210723-022139":1,"tf2-keras-transformer-elastic-20210723-015804":1,"tf2-keras-transformer-elastic-20210723-020847":1,"tf2-keras-transformer-elastic-20210723-022114":1} "scheduler"="default"
I0723 14:22:56.098341   27140 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 14:22:56.098590   27140 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=["tf2-keras-cifar10-inceptionv3-elastic-20210723-021207"] "scheduler"="default"
I0723 14:22:56.115316   27140 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=["tf2-keras-transformer-elastic-20210723-022114","tf2-keras-cifar10-vgg16-elastic-20210723-022139"] "scheduler"="default"
I0723 14:22:56.137826   27140 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 14:22:56.141572   27140 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0723 14:22:56.141642   27140 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015520":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":{},"tf2-keras-cifar10-resnet50-elastic-20210723-021629":{},"tf2-keras-cifar10-vgg16-elastic-20210723-015602":{},"tf2-keras-transformer-elastic-20210723-015804":{},"tf2-keras-transformer-elastic-20210723-020847":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 14:22:56.141698   27140 placement_manager.go:250]  "msg"="Released slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015520":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":{},"tf2-keras-cifar10-resnet50-elastic-20210723-021629":{},"tf2-keras-cifar10-vgg16-elastic-20210723-015602":{},"tf2-keras-transformer-elastic-20210723-015804":{},"tf2-keras-transformer-elastic-20210723-020847":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 14:22:56.142041   27140 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}] "scheduler"="default"
I0723 14:22:56.142368   27140 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=6
I0723 14:22:56.142638   27140 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015520":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":{},"tf2-keras-cifar10-resnet50-elastic-20210723-021629":{},"tf2-keras-cifar10-vgg16-elastic-20210723-022139":{},"tf2-keras-transformer-elastic-20210723-015804":{},"tf2-keras-transformer-elastic-20210723-020847":{},"tf2-keras-transformer-elastic-20210723-022114":{}} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015520":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":{},"tf2-keras-cifar10-resnet50-elastic-20210723-021629":{},"tf2-keras-cifar10-vgg16-elastic-20210723-015602":{},"tf2-keras-transformer-elastic-20210723-015804":{},"tf2-keras-transformer-elastic-20210723-020847":{}} "scheduler"="default"
I0723 14:22:56.142974   27140 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=3 "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015520-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-015520-worker-1":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-015520-worker-2":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-022055-worker-0":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210723-021629-worker-0":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210723-021629-worker-1":"gpu3","tf2-keras-cifar10-vgg16-elastic-20210723-022139-worker-0":"gpu5","tf2-keras-transformer-elastic-20210723-015804-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-020847-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-022114-worker-0":"gpu5"} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015520-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-015520-worker-1":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-015520-worker-2":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-1":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-022055-worker-0":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-021629-worker-0":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210723-021629-worker-1":"gpu5","tf2-keras-cifar10-vgg16-elastic-20210723-015602-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-015804-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-020847-worker-0":"gpu3"} "scheduler"="default" "workersToDelete"=4
I0723 14:22:56.143224   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022055-worker-0" "scheduler"="default"
I0723 14:22:56.150060   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022055-launcher" "scheduler"="default"
I0723 14:22:56.155419   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-worker-0" "scheduler"="default"
I0723 14:22:56.173927   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-launcher" "scheduler"="default"
I0723 14:22:56.178940   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-021629-worker-0" "scheduler"="default"
I0723 14:22:56.183641   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-021629-worker-1" "scheduler"="default"
I0723 14:22:56.187129   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-021629-launcher" "scheduler"="default"
I0723 14:22:56.191463   27140 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0723 14:22:56.191710   27140 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0723 14:22:56.532159   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-022114-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 14:22:56.927684   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-022114-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 14:22:58.126649   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-022139-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 14:22:58.529368   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-022139-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 14:23:08.897438   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-021629-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 14:23:09.698379   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-021629-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 14:23:10.918849   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 14:23:11.699466   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-021629-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 14:23:12.507562   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022055-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 14:23:14.355067   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 14:23:15.245383   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022055-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 14:23:31.043230   27140 jobmaster.go:155]  "msg"="Training job created"  "job"="tf2-keras-cifar10-vgg16-elastic-20210723-022331"
I0723 14:23:31.043348   27140 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-23T14:24:56.191916316+08:00" "lastResched"="2021-07-23T14:22:56.191916316+08:00" "received"="2021-07-23T14:23:31.042679115+08:00" "scheduler"="default"
I0723 14:24:14.999591   27140 jobmaster.go:155]  "msg"="Training job created"  "job"="tf2-keras-cifar10-resnet50-elastic-20210723-022414"
I0723 14:24:16.970577   27140 jobmaster.go:155]  "msg"="Training job created"  "job"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022416"
I0723 14:24:27.889769   27140 jobmaster.go:155]  "msg"="Training job created"  "job"="tf2-keras-transformer-elastic-20210723-022427"
I0723 14:24:30.803432   27140 jobmaster.go:155]  "msg"="Training job created"  "job"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022430"
I0723 14:24:56.191968   27140 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0723 14:24:56.192060   27140 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0723 14:24:56.202724   27140 ffdl_optimizer.go:129]  "msg"="Finished scheduling"  "FreeGPU"=0 "algorithm"="FfDLOptimizer" "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015520":1,"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532":1,"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":1,"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":1,"tf2-keras-cifar10-inceptionv3-elastic-20210723-022416":1,"tf2-keras-cifar10-inceptionv3-elastic-20210723-022430":0,"tf2-keras-cifar10-resnet50-elastic-20210723-021629":1,"tf2-keras-cifar10-resnet50-elastic-20210723-022414":1,"tf2-keras-cifar10-vgg16-elastic-20210723-022139":1,"tf2-keras-cifar10-vgg16-elastic-20210723-022331":1,"tf2-keras-transformer-elastic-20210723-015804":1,"tf2-keras-transformer-elastic-20210723-020847":1,"tf2-keras-transformer-elastic-20210723-022114":1,"tf2-keras-transformer-elastic-20210723-022427":0} "scheduler"="default"
I0723 14:24:56.203036   27140 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 14:24:56.203240   27140 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=["tf2-keras-cifar10-resnet50-elastic-20210723-021629","tf2-keras-cifar10-inceptionv3-elastic-20210723-015520"] "scheduler"="default"
I0723 14:24:56.251148   27140 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=["tf2-keras-cifar10-resnet50-elastic-20210723-022414","tf2-keras-cifar10-inceptionv3-elastic-20210723-022416","tf2-keras-cifar10-vgg16-elastic-20210723-022331"] "scheduler"="default"
I0723 14:24:56.272053   27140 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 14:24:56.277421   27140 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0723 14:24:56.277517   27140 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015520":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":{},"tf2-keras-cifar10-resnet50-elastic-20210723-021629":{},"tf2-keras-cifar10-vgg16-elastic-20210723-022139":{},"tf2-keras-transformer-elastic-20210723-015804":{},"tf2-keras-transformer-elastic-20210723-020847":{},"tf2-keras-transformer-elastic-20210723-022114":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 14:24:56.277595   27140 placement_manager.go:250]  "msg"="Released slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015520":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":{},"tf2-keras-cifar10-resnet50-elastic-20210723-021629":{},"tf2-keras-cifar10-vgg16-elastic-20210723-022139":{},"tf2-keras-transformer-elastic-20210723-015804":{},"tf2-keras-transformer-elastic-20210723-020847":{},"tf2-keras-transformer-elastic-20210723-022114":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 14:24:56.278084   27140 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}] "scheduler"="default"
I0723 14:24:56.278393   27140 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=5
I0723 14:24:56.278726   27140 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015520":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022416":{},"tf2-keras-cifar10-resnet50-elastic-20210723-021629":{},"tf2-keras-cifar10-resnet50-elastic-20210723-022414":{},"tf2-keras-cifar10-vgg16-elastic-20210723-022139":{},"tf2-keras-cifar10-vgg16-elastic-20210723-022331":{},"tf2-keras-transformer-elastic-20210723-015804":{},"tf2-keras-transformer-elastic-20210723-020847":{},"tf2-keras-transformer-elastic-20210723-022114":{}} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015520":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":{},"tf2-keras-cifar10-resnet50-elastic-20210723-021629":{},"tf2-keras-cifar10-vgg16-elastic-20210723-022139":{},"tf2-keras-transformer-elastic-20210723-015804":{},"tf2-keras-transformer-elastic-20210723-020847":{},"tf2-keras-transformer-elastic-20210723-022114":{}} "scheduler"="default"
I0723 14:24:56.279119   27140 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=4 "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015520-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-022055-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-022416-worker-0":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-021629-worker-0":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-022414-worker-0":"gpu5","tf2-keras-cifar10-vgg16-elastic-20210723-022139-worker-0":"gpu5","tf2-keras-cifar10-vgg16-elastic-20210723-022331-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-015804-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-020847-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-022114-worker-0":"gpu3"} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015520-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-015520-worker-1":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-015520-worker-2":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-022055-worker-0":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210723-021629-worker-0":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210723-021629-worker-1":"gpu3","tf2-keras-cifar10-vgg16-elastic-20210723-022139-worker-0":"gpu5","tf2-keras-transformer-elastic-20210723-015804-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-020847-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-022114-worker-0":"gpu5"} "scheduler"="default" "workersToDelete"=4
I0723 14:24:56.279407   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-022114-worker-0" "scheduler"="default"
I0723 14:24:56.283252   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-022114-launcher" "scheduler"="default"
I0723 14:24:56.286619   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-021629-worker-0" "scheduler"="default"
I0723 14:24:56.290120   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-021629-launcher" "scheduler"="default"
I0723 14:24:56.294651   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-worker-0" "scheduler"="default"
I0723 14:24:56.299869   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-launcher" "scheduler"="default"
I0723 14:24:56.304900   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022055-worker-0" "scheduler"="default"
I0723 14:24:56.310131   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022055-launcher" "scheduler"="default"
I0723 14:24:56.316561   27140 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0723 14:24:56.316813   27140 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0723 14:24:58.041158   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-022414-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 14:24:58.444355   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-022414-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 14:24:59.040668   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022416-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 14:24:59.640252   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022416-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 14:25:01.243778   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-022331-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 14:25:01.439461   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-022331-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 14:25:03.939916   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022055-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 14:25:03.969992   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-022114-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 14:25:04.108437   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022055-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 14:25:13.850073   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-021629-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 14:25:13.895203   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-021629-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 14:25:16.353592   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 14:25:18.738247   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-022114-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 14:25:19.955075   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 14:27:01.806060   27140 jobmaster.go:155]  "msg"="Training job created"  "job"="tf2-keras-cifar10-resnet50-elastic-20210723-022701"
I0723 14:27:01.806187   27140 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-23T14:26:56.31706598+08:00" "lastResched"="2021-07-23T14:24:56.31706598+08:00" "received"="2021-07-23T14:27:01.804321913+08:00" "scheduler"="default"
I0723 14:27:01.806698   27140 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0723 14:27:01.806781   27140 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0723 14:27:01.819250   27140 ffdl_optimizer.go:129]  "msg"="Finished scheduling"  "FreeGPU"=0 "algorithm"="FfDLOptimizer" "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015520":1,"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532":1,"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":1,"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":1,"tf2-keras-cifar10-inceptionv3-elastic-20210723-022416":1,"tf2-keras-cifar10-inceptionv3-elastic-20210723-022430":0,"tf2-keras-cifar10-resnet50-elastic-20210723-021629":1,"tf2-keras-cifar10-resnet50-elastic-20210723-022414":1,"tf2-keras-cifar10-resnet50-elastic-20210723-022701":0,"tf2-keras-cifar10-vgg16-elastic-20210723-022139":1,"tf2-keras-cifar10-vgg16-elastic-20210723-022331":1,"tf2-keras-transformer-elastic-20210723-015804":1,"tf2-keras-transformer-elastic-20210723-020847":1,"tf2-keras-transformer-elastic-20210723-022114":1,"tf2-keras-transformer-elastic-20210723-022427":0} "scheduler"="default"
I0723 14:27:01.819747   27140 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 14:27:01.820245   27140 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 14:27:01.820513   27140 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 14:27:01.820735   27140 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 14:27:01.820956   27140 scheduler.go:180]  "msg"="Nothing changed, skipped ajust placements"  "scheduler"="default"
I0723 14:27:01.820977   27140 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0723 14:35:56.019889   27140 scheduler.go:474]  "msg"="Training job completed"  "elaspedTotalSeconds"=2434.083469761 "gpuTotalSeconds"=5651.206674951 "job"="tf2-keras-cifar10-inceptionv3-elastic-20210723-015520" "ranTotalSeconds"=2434.083469761 "scheduler"="default" "waitedTotalSeconds"=0
I0723 14:35:56.020008   27140 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-23T14:29:01.821211295+08:00" "lastResched"="2021-07-23T14:27:01.821211295+08:00" "received"="2021-07-23T14:35:56.019924089+08:00" "scheduler"="default"
I0723 14:35:56.020413   27140 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0723 14:35:56.020525   27140 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0723 14:35:56.033187   27140 ffdl_optimizer.go:129]  "msg"="Finished scheduling"  "FreeGPU"=0 "algorithm"="FfDLOptimizer" "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532":1,"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":1,"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":1,"tf2-keras-cifar10-inceptionv3-elastic-20210723-022416":1,"tf2-keras-cifar10-inceptionv3-elastic-20210723-022430":0,"tf2-keras-cifar10-resnet50-elastic-20210723-021629":1,"tf2-keras-cifar10-resnet50-elastic-20210723-022414":1,"tf2-keras-cifar10-resnet50-elastic-20210723-022701":0,"tf2-keras-cifar10-vgg16-elastic-20210723-022139":1,"tf2-keras-cifar10-vgg16-elastic-20210723-022331":1,"tf2-keras-transformer-elastic-20210723-015804":1,"tf2-keras-transformer-elastic-20210723-020847":1,"tf2-keras-transformer-elastic-20210723-022114":1,"tf2-keras-transformer-elastic-20210723-022427":1} "scheduler"="default"
I0723 14:35:56.033500   27140 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 14:35:56.033790   27140 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 14:35:56.034022   27140 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=["tf2-keras-transformer-elastic-20210723-022427"] "scheduler"="default"
I0723 14:35:56.043960   27140 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 14:35:56.047565   27140 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0723 14:35:56.047623   27140 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015520":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022416":{},"tf2-keras-cifar10-resnet50-elastic-20210723-021629":{},"tf2-keras-cifar10-resnet50-elastic-20210723-022414":{},"tf2-keras-cifar10-vgg16-elastic-20210723-022139":{},"tf2-keras-cifar10-vgg16-elastic-20210723-022331":{},"tf2-keras-transformer-elastic-20210723-015804":{},"tf2-keras-transformer-elastic-20210723-020847":{},"tf2-keras-transformer-elastic-20210723-022114":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 14:35:56.047673   27140 placement_manager.go:250]  "msg"="Released slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015520":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022416":{},"tf2-keras-cifar10-resnet50-elastic-20210723-021629":{},"tf2-keras-cifar10-resnet50-elastic-20210723-022414":{},"tf2-keras-cifar10-vgg16-elastic-20210723-022139":{},"tf2-keras-cifar10-vgg16-elastic-20210723-022331":{},"tf2-keras-transformer-elastic-20210723-015804":{},"tf2-keras-transformer-elastic-20210723-020847":{},"tf2-keras-transformer-elastic-20210723-022114":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 14:35:56.048174   27140 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}] "scheduler"="default"
I0723 14:35:56.048416   27140 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=5
I0723 14:35:56.048668   27140 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022416":{},"tf2-keras-cifar10-resnet50-elastic-20210723-021629":{},"tf2-keras-cifar10-resnet50-elastic-20210723-022414":{},"tf2-keras-cifar10-vgg16-elastic-20210723-022139":{},"tf2-keras-cifar10-vgg16-elastic-20210723-022331":{},"tf2-keras-transformer-elastic-20210723-015804":{},"tf2-keras-transformer-elastic-20210723-020847":{},"tf2-keras-transformer-elastic-20210723-022114":{},"tf2-keras-transformer-elastic-20210723-022427":{}} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015520":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022416":{},"tf2-keras-cifar10-resnet50-elastic-20210723-021629":{},"tf2-keras-cifar10-resnet50-elastic-20210723-022414":{},"tf2-keras-cifar10-vgg16-elastic-20210723-022139":{},"tf2-keras-cifar10-vgg16-elastic-20210723-022331":{},"tf2-keras-transformer-elastic-20210723-015804":{},"tf2-keras-transformer-elastic-20210723-020847":{},"tf2-keras-transformer-elastic-20210723-022114":{}} "scheduler"="default"
I0723 14:35:56.048972   27140 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=6 "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-022055-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-022416-worker-0":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210723-021629-worker-0":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210723-022414-worker-0":"gpu3","tf2-keras-cifar10-vgg16-elastic-20210723-022139-worker-0":"gpu5","tf2-keras-cifar10-vgg16-elastic-20210723-022331-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-015804-worker-0":"gpu4","tf2-keras-transformer-elastic-20210723-020847-worker-0":"gpu4","tf2-keras-transformer-elastic-20210723-022114-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-022427-worker-0":"gpu5"} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015520-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-022055-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-022416-worker-0":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-021629-worker-0":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-022414-worker-0":"gpu5","tf2-keras-cifar10-vgg16-elastic-20210723-022139-worker-0":"gpu5","tf2-keras-cifar10-vgg16-elastic-20210723-022331-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-015804-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-020847-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-022114-worker-0":"gpu3"} "scheduler"="default" "workersToDelete"=6
I0723 14:35:56.049195   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-021629-worker-0" "scheduler"="default"
I0723 14:35:56.052275   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-021629-launcher" "scheduler"="default"
I0723 14:35:56.056096   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022416-worker-0" "scheduler"="default"
I0723 14:35:56.061254   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022416-launcher" "scheduler"="default"
I0723 14:35:56.082264   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-worker-0" "scheduler"="default"
I0723 14:35:56.088544   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-launcher" "scheduler"="default"
I0723 14:35:56.093901   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-020847-worker-0" "scheduler"="default"
I0723 14:35:56.097062   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-020847-launcher" "scheduler"="default"
I0723 14:35:56.100507   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-022414-worker-0" "scheduler"="default"
I0723 14:35:56.107787   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-022414-launcher" "scheduler"="default"
I0723 14:35:56.111709   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-015804-worker-0" "scheduler"="default"
I0723 14:35:56.254224   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-015804-launcher" "scheduler"="default"
I0723 14:35:56.454887   27140 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0723 14:35:56.455231   27140 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0723 14:35:56.614125   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-022427-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 14:35:57.013672   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-022427-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 14:36:03.537901   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-021629-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 14:36:09.746875   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022416-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 14:36:09.796635   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-022414-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 14:36:09.831071   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 14:36:10.233507   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-021629-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 14:36:10.633917   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-015804-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 14:36:11.831383   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-022414-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 14:36:12.828233   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 14:36:14.446303   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-015804-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 14:36:15.252063   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-020847-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 14:36:16.224193   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-020847-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 14:36:18.424943   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022416-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 14:40:08.757115   27140 jobmaster.go:155]  "msg"="Training job created"  "job"="tf2-keras-cifar10-vgg16-elastic-20210723-024008"
I0723 14:40:08.757195   27140 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-23T14:37:56.455510443+08:00" "lastResched"="2021-07-23T14:35:56.455510443+08:00" "received"="2021-07-23T14:40:08.756669307+08:00" "scheduler"="default"
I0723 14:40:08.757700   27140 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0723 14:40:08.757744   27140 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0723 14:40:08.770180   27140 ffdl_optimizer.go:129]  "msg"="Finished scheduling"  "FreeGPU"=0 "algorithm"="FfDLOptimizer" "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532":1,"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":1,"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":1,"tf2-keras-cifar10-inceptionv3-elastic-20210723-022416":1,"tf2-keras-cifar10-inceptionv3-elastic-20210723-022430":0,"tf2-keras-cifar10-resnet50-elastic-20210723-021629":1,"tf2-keras-cifar10-resnet50-elastic-20210723-022414":1,"tf2-keras-cifar10-resnet50-elastic-20210723-022701":0,"tf2-keras-cifar10-vgg16-elastic-20210723-022139":1,"tf2-keras-cifar10-vgg16-elastic-20210723-022331":1,"tf2-keras-cifar10-vgg16-elastic-20210723-024008":0,"tf2-keras-transformer-elastic-20210723-015804":1,"tf2-keras-transformer-elastic-20210723-020847":1,"tf2-keras-transformer-elastic-20210723-022114":1,"tf2-keras-transformer-elastic-20210723-022427":1} "scheduler"="default"
I0723 14:40:08.770566   27140 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 14:40:08.770800   27140 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 14:40:08.771013   27140 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 14:40:08.771323   27140 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 14:40:08.771541   27140 scheduler.go:180]  "msg"="Nothing changed, skipped ajust placements"  "scheduler"="default"
I0723 14:40:08.771570   27140 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0723 14:44:48.666457   27140 scheduler.go:474]  "msg"="Training job completed"  "elaspedTotalSeconds"=2800.220642294 "gpuTotalSeconds"=2725.084643526 "job"="tf2-keras-transformer-elastic-20210723-015804" "ranTotalSeconds"=2725.084643526 "scheduler"="default" "waitedTotalSeconds"=75.135998768
I0723 14:44:48.666666   27140 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-23T14:42:08.7717593+08:00" "lastResched"="2021-07-23T14:40:08.7717593+08:00" "received"="2021-07-23T14:44:48.666519407+08:00" "scheduler"="default"
I0723 14:44:48.667308   27140 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0723 14:44:48.667384   27140 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0723 14:44:48.680625   27140 ffdl_optimizer.go:129]  "msg"="Finished scheduling"  "FreeGPU"=0 "algorithm"="FfDLOptimizer" "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532":1,"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":1,"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":1,"tf2-keras-cifar10-inceptionv3-elastic-20210723-022416":1,"tf2-keras-cifar10-inceptionv3-elastic-20210723-022430":1,"tf2-keras-cifar10-resnet50-elastic-20210723-021629":1,"tf2-keras-cifar10-resnet50-elastic-20210723-022414":1,"tf2-keras-cifar10-resnet50-elastic-20210723-022701":0,"tf2-keras-cifar10-vgg16-elastic-20210723-022139":1,"tf2-keras-cifar10-vgg16-elastic-20210723-022331":1,"tf2-keras-cifar10-vgg16-elastic-20210723-024008":0,"tf2-keras-transformer-elastic-20210723-020847":1,"tf2-keras-transformer-elastic-20210723-022114":1,"tf2-keras-transformer-elastic-20210723-022427":1} "scheduler"="default"
I0723 14:44:48.681107   27140 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 14:44:48.681375   27140 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 14:44:48.681620   27140 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=["tf2-keras-cifar10-inceptionv3-elastic-20210723-022430"] "scheduler"="default"
I0723 14:44:48.690063   27140 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 14:44:48.695007   27140 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0723 14:44:48.695080   27140 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022416":{},"tf2-keras-cifar10-resnet50-elastic-20210723-021629":{},"tf2-keras-cifar10-resnet50-elastic-20210723-022414":{},"tf2-keras-cifar10-vgg16-elastic-20210723-022139":{},"tf2-keras-cifar10-vgg16-elastic-20210723-022331":{},"tf2-keras-transformer-elastic-20210723-015804":{},"tf2-keras-transformer-elastic-20210723-020847":{},"tf2-keras-transformer-elastic-20210723-022114":{},"tf2-keras-transformer-elastic-20210723-022427":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 14:44:48.695138   27140 placement_manager.go:250]  "msg"="Released slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022416":{},"tf2-keras-cifar10-resnet50-elastic-20210723-021629":{},"tf2-keras-cifar10-resnet50-elastic-20210723-022414":{},"tf2-keras-cifar10-vgg16-elastic-20210723-022139":{},"tf2-keras-cifar10-vgg16-elastic-20210723-022331":{},"tf2-keras-transformer-elastic-20210723-015804":{},"tf2-keras-transformer-elastic-20210723-020847":{},"tf2-keras-transformer-elastic-20210723-022114":{},"tf2-keras-transformer-elastic-20210723-022427":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 14:44:48.695688   27140 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}] "scheduler"="default"
I0723 14:44:48.696066   27140 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=5
I0723 14:44:48.696433   27140 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022416":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022430":{},"tf2-keras-cifar10-resnet50-elastic-20210723-021629":{},"tf2-keras-cifar10-resnet50-elastic-20210723-022414":{},"tf2-keras-cifar10-vgg16-elastic-20210723-022139":{},"tf2-keras-cifar10-vgg16-elastic-20210723-022331":{},"tf2-keras-transformer-elastic-20210723-020847":{},"tf2-keras-transformer-elastic-20210723-022114":{},"tf2-keras-transformer-elastic-20210723-022427":{}} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022416":{},"tf2-keras-cifar10-resnet50-elastic-20210723-021629":{},"tf2-keras-cifar10-resnet50-elastic-20210723-022414":{},"tf2-keras-cifar10-vgg16-elastic-20210723-022139":{},"tf2-keras-cifar10-vgg16-elastic-20210723-022331":{},"tf2-keras-transformer-elastic-20210723-015804":{},"tf2-keras-transformer-elastic-20210723-020847":{},"tf2-keras-transformer-elastic-20210723-022114":{},"tf2-keras-transformer-elastic-20210723-022427":{}} "scheduler"="default"
I0723 14:44:48.696912   27140 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=6 "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-022055-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-022416-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-022430-worker-0":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210723-021629-worker-0":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210723-022414-worker-0":"gpu3","tf2-keras-cifar10-vgg16-elastic-20210723-022139-worker-0":"gpu5","tf2-keras-cifar10-vgg16-elastic-20210723-022331-worker-0":"gpu4","tf2-keras-transformer-elastic-20210723-020847-worker-0":"gpu5","tf2-keras-transformer-elastic-20210723-022114-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-022427-worker-0":"gpu5"} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-022055-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-022416-worker-0":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210723-021629-worker-0":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210723-022414-worker-0":"gpu3","tf2-keras-cifar10-vgg16-elastic-20210723-022139-worker-0":"gpu5","tf2-keras-cifar10-vgg16-elastic-20210723-022331-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-015804-worker-0":"gpu4","tf2-keras-transformer-elastic-20210723-020847-worker-0":"gpu4","tf2-keras-transformer-elastic-20210723-022114-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-022427-worker-0":"gpu5"} "scheduler"="default" "workersToDelete"=6
I0723 14:44:48.697200   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-0" "scheduler"="default"
I0723 14:44:48.708866   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-launcher" "scheduler"="default"
I0723 14:44:48.729331   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022416-worker-0" "scheduler"="default"
I0723 14:44:48.754893   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022416-launcher" "scheduler"="default"
I0723 14:44:48.781102   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-021629-worker-0" "scheduler"="default"
I0723 14:44:48.798720   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-021629-launcher" "scheduler"="default"
I0723 14:44:48.806463   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022055-worker-0" "scheduler"="default"
I0723 14:44:48.816467   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022055-launcher" "scheduler"="default"
I0723 14:44:48.822405   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-020847-worker-0" "scheduler"="default"
I0723 14:44:48.835414   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-020847-launcher" "scheduler"="default"
I0723 14:44:48.840694   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-022331-worker-0" "scheduler"="default"
I0723 14:44:48.901830   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-022331-launcher" "scheduler"="default"
I0723 14:44:49.103595   27140 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0723 14:44:49.103875   27140 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0723 14:44:49.462376   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022430-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 14:44:49.903596   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022430-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 14:44:58.273829   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-021629-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 14:44:58.297113   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-021629-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 14:44:58.332298   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 14:44:59.744056   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022055-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 14:45:04.595330   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-020847-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 14:45:04.629301   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-022331-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 14:45:04.808082   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-020847-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 14:45:05.206363   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022416-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 14:45:05.562971   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 14:45:05.806970   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022055-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 14:45:06.360239   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022416-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 14:45:07.358954   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-022331-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 14:45:31.790125   27140 scheduler.go:474]  "msg"="Training job completed"  "elaspedTotalSeconds"=1429.903574705 "gpuTotalSeconds"=1355.046116704 "job"="tf2-keras-cifar10-vgg16-elastic-20210723-022139" "ranTotalSeconds"=1355.046116704 "scheduler"="default" "waitedTotalSeconds"=74.857458001
I0723 14:45:31.790314   27140 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-23T14:46:49.104074868+08:00" "lastResched"="2021-07-23T14:44:49.104074868+08:00" "received"="2021-07-23T14:45:31.790168944+08:00" "scheduler"="default"
I0723 14:46:13.806820   27140 scheduler.go:474]  "msg"="Training job completed"  "elaspedTotalSeconds"=1779.943484582 "gpuTotalSeconds"=1965.062485473 "job"="tf2-keras-cifar10-resnet50-elastic-20210723-021629" "ranTotalSeconds"=1725.056539929 "scheduler"="default" "waitedTotalSeconds"=54.886944653
I0723 14:46:18.697223   27140 jobmaster.go:155]  "msg"="Training job created"  "job"="tf2-keras-transformer-elastic-20210723-024618"
I0723 14:46:36.567115   27140 jobmaster.go:155]  "msg"="Training job created"  "job"="tf2-keras-cifar10-vgg16-elastic-20210723-024636"
I0723 14:46:49.104121   27140 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0723 14:46:49.104194   27140 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0723 14:46:49.116758   27140 ffdl_optimizer.go:129]  "msg"="Finished scheduling"  "FreeGPU"=0 "algorithm"="FfDLOptimizer" "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532":1,"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":1,"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":1,"tf2-keras-cifar10-inceptionv3-elastic-20210723-022416":1,"tf2-keras-cifar10-inceptionv3-elastic-20210723-022430":1,"tf2-keras-cifar10-resnet50-elastic-20210723-022414":1,"tf2-keras-cifar10-resnet50-elastic-20210723-022701":1,"tf2-keras-cifar10-vgg16-elastic-20210723-022331":1,"tf2-keras-cifar10-vgg16-elastic-20210723-024008":1,"tf2-keras-cifar10-vgg16-elastic-20210723-024636":0,"tf2-keras-transformer-elastic-20210723-020847":1,"tf2-keras-transformer-elastic-20210723-022114":1,"tf2-keras-transformer-elastic-20210723-022427":1,"tf2-keras-transformer-elastic-20210723-024618":0} "scheduler"="default"
I0723 14:46:49.117058   27140 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 14:46:49.117264   27140 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 14:46:49.117446   27140 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=["tf2-keras-cifar10-vgg16-elastic-20210723-024008","tf2-keras-cifar10-resnet50-elastic-20210723-022701"] "scheduler"="default"
I0723 14:46:49.143599   27140 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 14:46:49.148052   27140 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0723 14:46:49.148139   27140 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022416":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022430":{},"tf2-keras-cifar10-resnet50-elastic-20210723-021629":{},"tf2-keras-cifar10-resnet50-elastic-20210723-022414":{},"tf2-keras-cifar10-vgg16-elastic-20210723-022139":{},"tf2-keras-cifar10-vgg16-elastic-20210723-022331":{},"tf2-keras-transformer-elastic-20210723-020847":{},"tf2-keras-transformer-elastic-20210723-022114":{},"tf2-keras-transformer-elastic-20210723-022427":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 14:46:49.148211   27140 placement_manager.go:250]  "msg"="Released slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022416":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022430":{},"tf2-keras-cifar10-resnet50-elastic-20210723-021629":{},"tf2-keras-cifar10-resnet50-elastic-20210723-022414":{},"tf2-keras-cifar10-vgg16-elastic-20210723-022139":{},"tf2-keras-cifar10-vgg16-elastic-20210723-022331":{},"tf2-keras-transformer-elastic-20210723-020847":{},"tf2-keras-transformer-elastic-20210723-022114":{},"tf2-keras-transformer-elastic-20210723-022427":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 14:46:49.148807   27140 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}] "scheduler"="default"
I0723 14:46:49.149133   27140 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=5
I0723 14:46:49.149415   27140 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022416":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022430":{},"tf2-keras-cifar10-resnet50-elastic-20210723-022414":{},"tf2-keras-cifar10-resnet50-elastic-20210723-022701":{},"tf2-keras-cifar10-vgg16-elastic-20210723-022331":{},"tf2-keras-cifar10-vgg16-elastic-20210723-024008":{},"tf2-keras-transformer-elastic-20210723-020847":{},"tf2-keras-transformer-elastic-20210723-022114":{},"tf2-keras-transformer-elastic-20210723-022427":{}} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022416":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022430":{},"tf2-keras-cifar10-resnet50-elastic-20210723-021629":{},"tf2-keras-cifar10-resnet50-elastic-20210723-022414":{},"tf2-keras-cifar10-vgg16-elastic-20210723-022139":{},"tf2-keras-cifar10-vgg16-elastic-20210723-022331":{},"tf2-keras-transformer-elastic-20210723-020847":{},"tf2-keras-transformer-elastic-20210723-022114":{},"tf2-keras-transformer-elastic-20210723-022427":{}} "scheduler"="default"
I0723 14:46:49.149930   27140 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=5 "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-022055-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-022416-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-022430-worker-0":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-022414-worker-0":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210723-022701-worker-0":"gpu3","tf2-keras-cifar10-vgg16-elastic-20210723-022331-worker-0":"gpu5","tf2-keras-cifar10-vgg16-elastic-20210723-024008-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-020847-worker-0":"gpu5","tf2-keras-transformer-elastic-20210723-022114-worker-0":"gpu5","tf2-keras-transformer-elastic-20210723-022427-worker-0":"gpu5"} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-022055-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-022416-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-022430-worker-0":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210723-021629-worker-0":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210723-022414-worker-0":"gpu3","tf2-keras-cifar10-vgg16-elastic-20210723-022139-worker-0":"gpu5","tf2-keras-cifar10-vgg16-elastic-20210723-022331-worker-0":"gpu4","tf2-keras-transformer-elastic-20210723-020847-worker-0":"gpu5","tf2-keras-transformer-elastic-20210723-022114-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-022427-worker-0":"gpu5"} "scheduler"="default" "workersToDelete"=5
I0723 14:46:49.150304   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-0" "scheduler"="default"
I0723 14:46:49.165541   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-launcher" "scheduler"="default"
I0723 14:46:49.169891   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022055-worker-0" "scheduler"="default"
I0723 14:46:49.181172   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022055-launcher" "scheduler"="default"
I0723 14:46:49.185793   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-022331-worker-0" "scheduler"="default"
I0723 14:46:49.190544   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-022331-launcher" "scheduler"="default"
I0723 14:46:49.194479   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022430-worker-0" "scheduler"="default"
I0723 14:46:49.198782   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022430-launcher" "scheduler"="default"
I0723 14:46:49.201991   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-022114-worker-0" "scheduler"="default"
I0723 14:46:49.205915   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-022114-launcher" "scheduler"="default"
I0723 14:46:49.212675   27140 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0723 14:46:49.212903   27140 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0723 14:46:49.339371   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-024008-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 14:46:49.558129   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-022701-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 14:46:49.954945   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-024008-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 14:46:50.360766   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-022701-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 14:46:51.495075   27140 jobmaster.go:155]  "msg"="Training job created"  "job"="tf2-keras-cifar10-resnet50-elastic-20210723-024651"
I0723 14:46:51.495173   27140 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-23T14:48:49.213102341+08:00" "lastResched"="2021-07-23T14:46:49.213102341+08:00" "received"="2021-07-23T14:46:51.494601104+08:00" "scheduler"="default"
I0723 14:47:03.863105   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022430-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 14:47:03.898606   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-022114-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 14:47:03.909254   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-022114-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 14:47:05.328764   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 14:47:05.726128   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 14:47:06.123550   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-022331-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 14:47:12.341931   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022055-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 14:47:13.140497   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022055-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 14:47:14.735442   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-022331-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 14:47:15.735033   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022430-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 14:48:49.213188   27140 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0723 14:48:49.213292   27140 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0723 14:48:49.226875   27140 ffdl_optimizer.go:129]  "msg"="Finished scheduling"  "FreeGPU"=0 "algorithm"="FfDLOptimizer" "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532":1,"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":1,"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":1,"tf2-keras-cifar10-inceptionv3-elastic-20210723-022416":1,"tf2-keras-cifar10-inceptionv3-elastic-20210723-022430":1,"tf2-keras-cifar10-resnet50-elastic-20210723-022414":1,"tf2-keras-cifar10-resnet50-elastic-20210723-022701":1,"tf2-keras-cifar10-resnet50-elastic-20210723-024651":0,"tf2-keras-cifar10-vgg16-elastic-20210723-022331":1,"tf2-keras-cifar10-vgg16-elastic-20210723-024008":1,"tf2-keras-cifar10-vgg16-elastic-20210723-024636":0,"tf2-keras-transformer-elastic-20210723-020847":1,"tf2-keras-transformer-elastic-20210723-022114":1,"tf2-keras-transformer-elastic-20210723-022427":1,"tf2-keras-transformer-elastic-20210723-024618":0} "scheduler"="default"
I0723 14:48:49.227199   27140 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 14:48:49.227393   27140 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 14:48:49.227605   27140 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 14:48:49.227802   27140 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 14:48:49.228002   27140 scheduler.go:180]  "msg"="Nothing changed, skipped ajust placements"  "scheduler"="default"
I0723 14:48:49.228027   27140 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0723 14:48:54.519044   27140 jobmaster.go:155]  "msg"="Training job created"  "job"="tf2-keras-cifar10-resnet50-elastic-20210723-024854"
I0723 14:48:54.519200   27140 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-23T14:50:49.228201011+08:00" "lastResched"="2021-07-23T14:48:49.228201011+08:00" "received"="2021-07-23T14:48:54.518532652+08:00" "scheduler"="default"
I0723 14:49:19.440577   27140 jobmaster.go:155]  "msg"="Training job created"  "job"="tf2-keras-transformer-elastic-20210723-024919"
I0723 14:50:08.027386   27140 scheduler.go:474]  "msg"="Training job completed"  "elaspedTotalSeconds"=1549.817703573 "gpuTotalSeconds"=1510.049729326 "job"="tf2-keras-cifar10-resnet50-elastic-20210723-022414" "ranTotalSeconds"=1510.049729326 "scheduler"="default" "waitedTotalSeconds"=39.767974247
I0723 14:50:27.441187   27140 scheduler.go:474]  "msg"="Training job completed"  "elaspedTotalSeconds"=1613.774494727 "gpuTotalSeconds"=1530.050170817 "job"="tf2-keras-cifar10-vgg16-elastic-20210723-022331" "ranTotalSeconds"=1530.050170817 "scheduler"="default" "waitedTotalSeconds"=83.72432391
I0723 14:50:49.228295   27140 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0723 14:50:49.228360   27140 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0723 14:50:49.238506   27140 ffdl_optimizer.go:129]  "msg"="Finished scheduling"  "FreeGPU"=0 "algorithm"="FfDLOptimizer" "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532":1,"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":1,"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":1,"tf2-keras-cifar10-inceptionv3-elastic-20210723-022416":1,"tf2-keras-cifar10-inceptionv3-elastic-20210723-022430":1,"tf2-keras-cifar10-resnet50-elastic-20210723-022701":1,"tf2-keras-cifar10-resnet50-elastic-20210723-024651":0,"tf2-keras-cifar10-resnet50-elastic-20210723-024854":0,"tf2-keras-cifar10-vgg16-elastic-20210723-024008":1,"tf2-keras-cifar10-vgg16-elastic-20210723-024636":1,"tf2-keras-transformer-elastic-20210723-020847":1,"tf2-keras-transformer-elastic-20210723-022114":1,"tf2-keras-transformer-elastic-20210723-022427":1,"tf2-keras-transformer-elastic-20210723-024618":1,"tf2-keras-transformer-elastic-20210723-024919":0} "scheduler"="default"
I0723 14:50:49.238858   27140 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 14:50:49.239089   27140 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 14:50:49.239303   27140 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=["tf2-keras-cifar10-vgg16-elastic-20210723-024636","tf2-keras-transformer-elastic-20210723-024618"] "scheduler"="default"
I0723 14:50:49.258589   27140 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 14:50:49.263834   27140 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0723 14:50:49.263955   27140 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022416":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022430":{},"tf2-keras-cifar10-resnet50-elastic-20210723-022414":{},"tf2-keras-cifar10-resnet50-elastic-20210723-022701":{},"tf2-keras-cifar10-vgg16-elastic-20210723-022331":{},"tf2-keras-cifar10-vgg16-elastic-20210723-024008":{},"tf2-keras-transformer-elastic-20210723-020847":{},"tf2-keras-transformer-elastic-20210723-022114":{},"tf2-keras-transformer-elastic-20210723-022427":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 14:50:49.264051   27140 placement_manager.go:250]  "msg"="Released slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022416":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022430":{},"tf2-keras-cifar10-resnet50-elastic-20210723-022414":{},"tf2-keras-cifar10-resnet50-elastic-20210723-022701":{},"tf2-keras-cifar10-vgg16-elastic-20210723-022331":{},"tf2-keras-cifar10-vgg16-elastic-20210723-024008":{},"tf2-keras-transformer-elastic-20210723-020847":{},"tf2-keras-transformer-elastic-20210723-022114":{},"tf2-keras-transformer-elastic-20210723-022427":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 14:50:49.264660   27140 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}] "scheduler"="default"
I0723 14:50:49.265007   27140 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=4
I0723 14:50:49.265401   27140 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022416":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022430":{},"tf2-keras-cifar10-resnet50-elastic-20210723-022701":{},"tf2-keras-cifar10-vgg16-elastic-20210723-024008":{},"tf2-keras-cifar10-vgg16-elastic-20210723-024636":{},"tf2-keras-transformer-elastic-20210723-020847":{},"tf2-keras-transformer-elastic-20210723-022114":{},"tf2-keras-transformer-elastic-20210723-022427":{},"tf2-keras-transformer-elastic-20210723-024618":{}} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022416":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022430":{},"tf2-keras-cifar10-resnet50-elastic-20210723-022414":{},"tf2-keras-cifar10-resnet50-elastic-20210723-022701":{},"tf2-keras-cifar10-vgg16-elastic-20210723-022331":{},"tf2-keras-cifar10-vgg16-elastic-20210723-024008":{},"tf2-keras-transformer-elastic-20210723-020847":{},"tf2-keras-transformer-elastic-20210723-022114":{},"tf2-keras-transformer-elastic-20210723-022427":{}} "scheduler"="default"
I0723 14:50:49.265857   27140 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=6 "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-022055-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-022416-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-022430-worker-0":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-022701-worker-0":"gpu3","tf2-keras-cifar10-vgg16-elastic-20210723-024008-worker-0":"gpu5","tf2-keras-cifar10-vgg16-elastic-20210723-024636-worker-0":"gpu5","tf2-keras-transformer-elastic-20210723-020847-worker-0":"gpu5","tf2-keras-transformer-elastic-20210723-022114-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-022427-worker-0":"gpu4","tf2-keras-transformer-elastic-20210723-024618-worker-0":"gpu3"} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-022055-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-022416-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-022430-worker-0":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-022414-worker-0":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210723-022701-worker-0":"gpu3","tf2-keras-cifar10-vgg16-elastic-20210723-022331-worker-0":"gpu5","tf2-keras-cifar10-vgg16-elastic-20210723-024008-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-020847-worker-0":"gpu5","tf2-keras-transformer-elastic-20210723-022114-worker-0":"gpu5","tf2-keras-transformer-elastic-20210723-022427-worker-0":"gpu5"} "scheduler"="default" "workersToDelete"=6
I0723 14:50:49.266200   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022055-worker-0" "scheduler"="default"
I0723 14:50:49.279313   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022055-launcher" "scheduler"="default"
I0723 14:50:49.284920   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-0" "scheduler"="default"
I0723 14:50:49.292836   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-launcher" "scheduler"="default"
I0723 14:50:49.297403   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-022427-worker-0" "scheduler"="default"
I0723 14:50:49.300484   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-022427-launcher" "scheduler"="default"
I0723 14:50:49.304042   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-022114-worker-0" "scheduler"="default"
I0723 14:50:49.306897   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-022114-launcher" "scheduler"="default"
I0723 14:50:49.310657   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-024008-worker-0" "scheduler"="default"
I0723 14:50:49.313852   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-024008-launcher" "scheduler"="default"
I0723 14:50:49.317134   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-worker-0" "scheduler"="default"
I0723 14:50:49.462635   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-024636-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 14:50:49.472937   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-launcher" "scheduler"="default"
I0723 14:50:49.873748   27140 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0723 14:50:49.874071   27140 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0723 14:50:50.073271   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-024618-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 14:50:50.474384   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-024636-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 14:50:50.874059   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-024618-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 14:50:56.771999   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 14:50:56.786600   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022055-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 14:50:56.804782   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022055-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 14:50:58.309389   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 14:50:59.525688   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-022427-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 14:50:59.922059   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-022114-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 14:51:00.732756   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-022427-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 14:51:02.723864   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 14:51:03.730833   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-022114-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 14:51:05.500584   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-024008-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 14:51:06.700737   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-024008-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 14:51:07.501906   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 14:53:36.380575   27140 scheduler.go:474]  "msg"="Training job completed"  "elaspedTotalSeconds"=2687.247549976 "gpuTotalSeconds"=2575.136858191 "job"="tf2-keras-transformer-elastic-20210723-020847" "ranTotalSeconds"=2575.136858191 "scheduler"="default" "waitedTotalSeconds"=112.110691785
I0723 14:53:36.380774   27140 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-23T14:52:49.874268856+08:00" "lastResched"="2021-07-23T14:50:49.874268856+08:00" "received"="2021-07-23T14:53:36.380628684+08:00" "scheduler"="default"
I0723 14:53:36.381595   27140 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0723 14:53:36.381712   27140 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0723 14:53:36.395541   27140 ffdl_optimizer.go:129]  "msg"="Finished scheduling"  "FreeGPU"=0 "algorithm"="FfDLOptimizer" "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532":1,"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":1,"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":1,"tf2-keras-cifar10-inceptionv3-elastic-20210723-022416":1,"tf2-keras-cifar10-inceptionv3-elastic-20210723-022430":1,"tf2-keras-cifar10-resnet50-elastic-20210723-022701":1,"tf2-keras-cifar10-resnet50-elastic-20210723-024651":1,"tf2-keras-cifar10-resnet50-elastic-20210723-024854":0,"tf2-keras-cifar10-vgg16-elastic-20210723-024008":1,"tf2-keras-cifar10-vgg16-elastic-20210723-024636":1,"tf2-keras-transformer-elastic-20210723-022114":1,"tf2-keras-transformer-elastic-20210723-022427":1,"tf2-keras-transformer-elastic-20210723-024618":1,"tf2-keras-transformer-elastic-20210723-024919":0} "scheduler"="default"
I0723 14:53:36.395991   27140 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 14:53:36.396217   27140 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 14:53:36.396420   27140 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=["tf2-keras-cifar10-resnet50-elastic-20210723-024651"] "scheduler"="default"
I0723 14:53:36.406078   27140 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 14:53:36.410638   27140 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0723 14:53:36.410733   27140 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022416":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022430":{},"tf2-keras-cifar10-resnet50-elastic-20210723-022701":{},"tf2-keras-cifar10-vgg16-elastic-20210723-024008":{},"tf2-keras-cifar10-vgg16-elastic-20210723-024636":{},"tf2-keras-transformer-elastic-20210723-020847":{},"tf2-keras-transformer-elastic-20210723-022114":{},"tf2-keras-transformer-elastic-20210723-022427":{},"tf2-keras-transformer-elastic-20210723-024618":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 14:53:36.410808   27140 placement_manager.go:250]  "msg"="Released slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022416":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022430":{},"tf2-keras-cifar10-resnet50-elastic-20210723-022701":{},"tf2-keras-cifar10-vgg16-elastic-20210723-024008":{},"tf2-keras-cifar10-vgg16-elastic-20210723-024636":{},"tf2-keras-transformer-elastic-20210723-020847":{},"tf2-keras-transformer-elastic-20210723-022114":{},"tf2-keras-transformer-elastic-20210723-022427":{},"tf2-keras-transformer-elastic-20210723-024618":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 14:53:36.411204   27140 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}] "scheduler"="default"
I0723 14:53:36.411483   27140 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=5
I0723 14:53:36.411789   27140 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022416":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022430":{},"tf2-keras-cifar10-resnet50-elastic-20210723-022701":{},"tf2-keras-cifar10-resnet50-elastic-20210723-024651":{},"tf2-keras-cifar10-vgg16-elastic-20210723-024008":{},"tf2-keras-cifar10-vgg16-elastic-20210723-024636":{},"tf2-keras-transformer-elastic-20210723-022114":{},"tf2-keras-transformer-elastic-20210723-022427":{},"tf2-keras-transformer-elastic-20210723-024618":{}} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022416":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022430":{},"tf2-keras-cifar10-resnet50-elastic-20210723-022701":{},"tf2-keras-cifar10-vgg16-elastic-20210723-024008":{},"tf2-keras-cifar10-vgg16-elastic-20210723-024636":{},"tf2-keras-transformer-elastic-20210723-020847":{},"tf2-keras-transformer-elastic-20210723-022114":{},"tf2-keras-transformer-elastic-20210723-022427":{},"tf2-keras-transformer-elastic-20210723-024618":{}} "scheduler"="default"
I0723 14:53:36.412194   27140 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=6 "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-022055-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-022416-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-022430-worker-0":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-022701-worker-0":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210723-024651-worker-0":"gpu4","tf2-keras-cifar10-vgg16-elastic-20210723-024008-worker-0":"gpu5","tf2-keras-cifar10-vgg16-elastic-20210723-024636-worker-0":"gpu5","tf2-keras-transformer-elastic-20210723-022114-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-022427-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-024618-worker-0":"gpu5"} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-022055-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-022416-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-022430-worker-0":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-022701-worker-0":"gpu3","tf2-keras-cifar10-vgg16-elastic-20210723-024008-worker-0":"gpu5","tf2-keras-cifar10-vgg16-elastic-20210723-024636-worker-0":"gpu5","tf2-keras-transformer-elastic-20210723-020847-worker-0":"gpu5","tf2-keras-transformer-elastic-20210723-022114-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-022427-worker-0":"gpu4","tf2-keras-transformer-elastic-20210723-024618-worker-0":"gpu3"} "scheduler"="default" "workersToDelete"=6
I0723 14:53:36.412482   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-024618-worker-0" "scheduler"="default"
I0723 14:53:36.416988   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-024618-launcher" "scheduler"="default"
I0723 14:53:36.421505   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022055-worker-0" "scheduler"="default"
I0723 14:53:36.426312   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022055-launcher" "scheduler"="default"
I0723 14:53:36.437594   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022416-worker-0" "scheduler"="default"
I0723 14:53:36.444622   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022416-launcher" "scheduler"="default"
I0723 14:53:36.449466   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-022427-worker-0" "scheduler"="default"
I0723 14:53:36.453003   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-022427-launcher" "scheduler"="default"
I0723 14:53:36.459302   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-0" "scheduler"="default"
I0723 14:53:36.462885   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-launcher" "scheduler"="default"
I0723 14:53:36.466159   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-worker-0" "scheduler"="default"
I0723 14:53:36.576607   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-024651-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 14:53:36.618504   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-launcher" "scheduler"="default"
I0723 14:53:37.017949   27140 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0723 14:53:37.018232   27140 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0723 14:53:37.220026   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-024651-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 14:53:43.998940   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-024618-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 14:53:44.038108   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-024618-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 14:53:44.049303   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022055-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 14:53:44.956086   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022055-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 14:53:45.692418   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-022427-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 14:53:46.571333   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 14:53:47.968621   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 14:53:48.767257   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 14:53:49.088745   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-022427-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 14:53:49.892443   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022416-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 14:53:50.694344   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022416-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 14:53:51.499875   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 15:01:22.566502   27140 scheduler.go:474]  "msg"="Training job completed"  "elaspedTotalSeconds"=3947.240160506 "gpuTotalSeconds"=6835.260102505 "job"="tf2-keras-cifar10-inceptionv3-elastic-20210723-015532" "ranTotalSeconds"=3840.174971913 "scheduler"="default" "waitedTotalSeconds"=107.065188593
I0723 15:01:22.566625   27140 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-23T14:55:37.01845173+08:00" "lastResched"="2021-07-23T14:53:37.01845173+08:00" "received"="2021-07-23T15:01:22.566538816+08:00" "scheduler"="default"
I0723 15:01:22.567306   27140 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0723 15:01:22.567377   27140 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0723 15:01:22.577893   27140 ffdl_optimizer.go:129]  "msg"="Finished scheduling"  "FreeGPU"=0 "algorithm"="FfDLOptimizer" "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":1,"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":1,"tf2-keras-cifar10-inceptionv3-elastic-20210723-022416":1,"tf2-keras-cifar10-inceptionv3-elastic-20210723-022430":1,"tf2-keras-cifar10-resnet50-elastic-20210723-022701":1,"tf2-keras-cifar10-resnet50-elastic-20210723-024651":1,"tf2-keras-cifar10-resnet50-elastic-20210723-024854":1,"tf2-keras-cifar10-vgg16-elastic-20210723-024008":1,"tf2-keras-cifar10-vgg16-elastic-20210723-024636":1,"tf2-keras-transformer-elastic-20210723-022114":1,"tf2-keras-transformer-elastic-20210723-022427":1,"tf2-keras-transformer-elastic-20210723-024618":1,"tf2-keras-transformer-elastic-20210723-024919":0} "scheduler"="default"
I0723 15:01:22.578208   27140 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 15:01:22.578483   27140 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 15:01:22.578705   27140 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=["tf2-keras-cifar10-resnet50-elastic-20210723-024854"] "scheduler"="default"
I0723 15:01:22.588579   27140 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 15:01:22.592517   27140 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0723 15:01:22.592596   27140 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022416":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022430":{},"tf2-keras-cifar10-resnet50-elastic-20210723-022701":{},"tf2-keras-cifar10-resnet50-elastic-20210723-024651":{},"tf2-keras-cifar10-vgg16-elastic-20210723-024008":{},"tf2-keras-cifar10-vgg16-elastic-20210723-024636":{},"tf2-keras-transformer-elastic-20210723-022114":{},"tf2-keras-transformer-elastic-20210723-022427":{},"tf2-keras-transformer-elastic-20210723-024618":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 15:01:22.592667   27140 placement_manager.go:250]  "msg"="Released slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022416":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022430":{},"tf2-keras-cifar10-resnet50-elastic-20210723-022701":{},"tf2-keras-cifar10-resnet50-elastic-20210723-024651":{},"tf2-keras-cifar10-vgg16-elastic-20210723-024008":{},"tf2-keras-cifar10-vgg16-elastic-20210723-024636":{},"tf2-keras-transformer-elastic-20210723-022114":{},"tf2-keras-transformer-elastic-20210723-022427":{},"tf2-keras-transformer-elastic-20210723-024618":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 15:01:22.593083   27140 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}] "scheduler"="default"
I0723 15:01:22.593319   27140 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=8
I0723 15:01:22.593559   27140 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022416":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022430":{},"tf2-keras-cifar10-resnet50-elastic-20210723-022701":{},"tf2-keras-cifar10-resnet50-elastic-20210723-024651":{},"tf2-keras-cifar10-resnet50-elastic-20210723-024854":{},"tf2-keras-cifar10-vgg16-elastic-20210723-024008":{},"tf2-keras-cifar10-vgg16-elastic-20210723-024636":{},"tf2-keras-transformer-elastic-20210723-022114":{},"tf2-keras-transformer-elastic-20210723-022427":{},"tf2-keras-transformer-elastic-20210723-024618":{}} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022416":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022430":{},"tf2-keras-cifar10-resnet50-elastic-20210723-022701":{},"tf2-keras-cifar10-resnet50-elastic-20210723-024651":{},"tf2-keras-cifar10-vgg16-elastic-20210723-024008":{},"tf2-keras-cifar10-vgg16-elastic-20210723-024636":{},"tf2-keras-transformer-elastic-20210723-022114":{},"tf2-keras-transformer-elastic-20210723-022427":{},"tf2-keras-transformer-elastic-20210723-024618":{}} "scheduler"="default"
I0723 15:01:22.593915   27140 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=3 "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-022055-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-022416-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-022430-worker-0":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-022701-worker-0":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210723-024651-worker-0":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-024854-worker-0":"gpu4","tf2-keras-cifar10-vgg16-elastic-20210723-024008-worker-0":"gpu3","tf2-keras-cifar10-vgg16-elastic-20210723-024636-worker-0":"gpu5","tf2-keras-transformer-elastic-20210723-022114-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-022427-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-024618-worker-0":"gpu5"} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-015532-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-022055-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-022416-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-022430-worker-0":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-022701-worker-0":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210723-024651-worker-0":"gpu4","tf2-keras-cifar10-vgg16-elastic-20210723-024008-worker-0":"gpu5","tf2-keras-cifar10-vgg16-elastic-20210723-024636-worker-0":"gpu5","tf2-keras-transformer-elastic-20210723-022114-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-022427-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-024618-worker-0":"gpu5"} "scheduler"="default" "workersToDelete"=3
I0723 15:01:22.594182   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-024008-worker-0" "scheduler"="default"
I0723 15:01:22.598840   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-024008-launcher" "scheduler"="default"
I0723 15:01:22.602959   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022055-worker-0" "scheduler"="default"
I0723 15:01:22.612630   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022055-launcher" "scheduler"="default"
I0723 15:01:22.616309   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022416-worker-0" "scheduler"="default"
I0723 15:01:22.619980   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022416-launcher" "scheduler"="default"
I0723 15:01:22.624766   27140 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0723 15:01:22.625010   27140 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0723 15:01:22.764647   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-024854-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 15:01:23.166495   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-024854-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 15:01:33.846665   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022416-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 15:01:33.889840   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022416-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 15:01:37.136142   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022055-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 15:01:38.957106   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022055-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 15:01:40.416246   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-024008-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 15:01:41.210105   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-024008-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 15:06:20.461743   27140 scheduler.go:474]  "msg"="Training job completed"  "elaspedTotalSeconds"=2705.906165834 "gpuTotalSeconds"=2605.142660762 "job"="tf2-keras-transformer-elastic-20210723-022114" "ranTotalSeconds"=2605.142660762 "scheduler"="default" "waitedTotalSeconds"=100.763505072
I0723 15:06:20.461895   27140 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-23T15:03:22.625162145+08:00" "lastResched"="2021-07-23T15:01:22.625162145+08:00" "received"="2021-07-23T15:06:20.461781091+08:00" "scheduler"="default"
I0723 15:06:20.462277   27140 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0723 15:06:20.462397   27140 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0723 15:06:20.473464   27140 ffdl_optimizer.go:129]  "msg"="Finished scheduling"  "FreeGPU"=0 "algorithm"="FfDLOptimizer" "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":1,"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":1,"tf2-keras-cifar10-inceptionv3-elastic-20210723-022416":1,"tf2-keras-cifar10-inceptionv3-elastic-20210723-022430":1,"tf2-keras-cifar10-resnet50-elastic-20210723-022701":1,"tf2-keras-cifar10-resnet50-elastic-20210723-024651":1,"tf2-keras-cifar10-resnet50-elastic-20210723-024854":1,"tf2-keras-cifar10-vgg16-elastic-20210723-024008":1,"tf2-keras-cifar10-vgg16-elastic-20210723-024636":1,"tf2-keras-transformer-elastic-20210723-022427":1,"tf2-keras-transformer-elastic-20210723-024618":1,"tf2-keras-transformer-elastic-20210723-024919":1} "scheduler"="default"
I0723 15:06:20.473784   27140 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 15:06:20.474063   27140 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 15:06:20.474292   27140 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=["tf2-keras-transformer-elastic-20210723-024919"] "scheduler"="default"
I0723 15:06:20.481971   27140 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 15:06:20.485536   27140 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0723 15:06:20.485590   27140 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022416":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022430":{},"tf2-keras-cifar10-resnet50-elastic-20210723-022701":{},"tf2-keras-cifar10-resnet50-elastic-20210723-024651":{},"tf2-keras-cifar10-resnet50-elastic-20210723-024854":{},"tf2-keras-cifar10-vgg16-elastic-20210723-024008":{},"tf2-keras-cifar10-vgg16-elastic-20210723-024636":{},"tf2-keras-transformer-elastic-20210723-022114":{},"tf2-keras-transformer-elastic-20210723-022427":{},"tf2-keras-transformer-elastic-20210723-024618":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 15:06:20.485648   27140 placement_manager.go:250]  "msg"="Released slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022416":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022430":{},"tf2-keras-cifar10-resnet50-elastic-20210723-022701":{},"tf2-keras-cifar10-resnet50-elastic-20210723-024651":{},"tf2-keras-cifar10-resnet50-elastic-20210723-024854":{},"tf2-keras-cifar10-vgg16-elastic-20210723-024008":{},"tf2-keras-cifar10-vgg16-elastic-20210723-024636":{},"tf2-keras-transformer-elastic-20210723-022114":{},"tf2-keras-transformer-elastic-20210723-022427":{},"tf2-keras-transformer-elastic-20210723-024618":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 15:06:20.486004   27140 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}] "scheduler"="default"
I0723 15:06:20.486315   27140 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=5
I0723 15:06:20.486603   27140 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022416":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022430":{},"tf2-keras-cifar10-resnet50-elastic-20210723-022701":{},"tf2-keras-cifar10-resnet50-elastic-20210723-024651":{},"tf2-keras-cifar10-resnet50-elastic-20210723-024854":{},"tf2-keras-cifar10-vgg16-elastic-20210723-024008":{},"tf2-keras-cifar10-vgg16-elastic-20210723-024636":{},"tf2-keras-transformer-elastic-20210723-022427":{},"tf2-keras-transformer-elastic-20210723-024618":{},"tf2-keras-transformer-elastic-20210723-024919":{}} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022416":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022430":{},"tf2-keras-cifar10-resnet50-elastic-20210723-022701":{},"tf2-keras-cifar10-resnet50-elastic-20210723-024651":{},"tf2-keras-cifar10-resnet50-elastic-20210723-024854":{},"tf2-keras-cifar10-vgg16-elastic-20210723-024008":{},"tf2-keras-cifar10-vgg16-elastic-20210723-024636":{},"tf2-keras-transformer-elastic-20210723-022114":{},"tf2-keras-transformer-elastic-20210723-022427":{},"tf2-keras-transformer-elastic-20210723-024618":{}} "scheduler"="default"
I0723 15:06:20.487011   27140 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=6 "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-022055-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-022416-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-022430-worker-0":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-022701-worker-0":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210723-024651-worker-0":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210723-024854-worker-0":"gpu4","tf2-keras-cifar10-vgg16-elastic-20210723-024008-worker-0":"gpu3","tf2-keras-cifar10-vgg16-elastic-20210723-024636-worker-0":"gpu5","tf2-keras-transformer-elastic-20210723-022427-worker-0":"gpu4","tf2-keras-transformer-elastic-20210723-024618-worker-0":"gpu5","tf2-keras-transformer-elastic-20210723-024919-worker-0":"gpu3"} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-022055-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-022416-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-022430-worker-0":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-022701-worker-0":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210723-024651-worker-0":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-024854-worker-0":"gpu4","tf2-keras-cifar10-vgg16-elastic-20210723-024008-worker-0":"gpu3","tf2-keras-cifar10-vgg16-elastic-20210723-024636-worker-0":"gpu5","tf2-keras-transformer-elastic-20210723-022114-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-022427-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-024618-worker-0":"gpu5"} "scheduler"="default" "workersToDelete"=6
I0723 15:06:20.487246   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022416-worker-0" "scheduler"="default"
I0723 15:06:20.493683   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022416-launcher" "scheduler"="default"
I0723 15:06:20.501018   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022055-worker-0" "scheduler"="default"
I0723 15:06:20.505257   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022055-launcher" "scheduler"="default"
I0723 15:06:20.509933   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-024651-worker-0" "scheduler"="default"
I0723 15:06:20.514367   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-024651-launcher" "scheduler"="default"
I0723 15:06:20.517836   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-022427-worker-0" "scheduler"="default"
I0723 15:06:20.522403   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-022427-launcher" "scheduler"="default"
I0723 15:06:20.526283   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-022701-worker-0" "scheduler"="default"
I0723 15:06:20.530515   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-022701-launcher" "scheduler"="default"
I0723 15:06:20.536234   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-0" "scheduler"="default"
I0723 15:06:20.692471   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-launcher" "scheduler"="default"
I0723 15:06:20.852528   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-024919-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 15:06:20.892374   27140 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0723 15:06:20.892666   27140 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0723 15:06:21.296653   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-024919-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 15:06:28.742183   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-022427-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 15:06:29.548080   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-022701-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 15:06:30.655273   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 15:06:31.453594   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 15:06:31.822443   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-024651-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 15:06:32.254544   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022055-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 15:06:32.619841   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022416-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 15:06:33.057195   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-022701-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 15:06:34.055526   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022055-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 15:06:34.866415   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-024651-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 15:06:37.030971   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022416-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 15:06:40.238119   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-022427-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 15:11:04.496619   27140 scheduler.go:474]  "msg"="Training job completed"  "elaspedTotalSeconds"=1851.159796822 "gpuTotalSeconds"=1455.104324439 "job"="tf2-keras-cifar10-vgg16-elastic-20210723-024008" "ranTotalSeconds"=1455.104324439 "scheduler"="default" "waitedTotalSeconds"=396.055472383
I0723 15:11:04.496779   27140 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-23T15:08:20.892910939+08:00" "lastResched"="2021-07-23T15:06:20.892910939+08:00" "received"="2021-07-23T15:11:04.496660679+08:00" "scheduler"="default"
I0723 15:11:04.497232   27140 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0723 15:11:04.497346   27140 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0723 15:11:04.508259   27140 ffdl_optimizer.go:129]  "msg"="Finished scheduling"  "FreeGPU"=0 "algorithm"="FfDLOptimizer" "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":1,"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":1,"tf2-keras-cifar10-inceptionv3-elastic-20210723-022416":2,"tf2-keras-cifar10-inceptionv3-elastic-20210723-022430":1,"tf2-keras-cifar10-resnet50-elastic-20210723-022701":1,"tf2-keras-cifar10-resnet50-elastic-20210723-024651":1,"tf2-keras-cifar10-resnet50-elastic-20210723-024854":1,"tf2-keras-cifar10-vgg16-elastic-20210723-024636":1,"tf2-keras-transformer-elastic-20210723-022427":1,"tf2-keras-transformer-elastic-20210723-024618":1,"tf2-keras-transformer-elastic-20210723-024919":1} "scheduler"="default"
I0723 15:11:04.508614   27140 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 15:11:04.508851   27140 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 15:11:04.509114   27140 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 15:11:04.509363   27140 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=["tf2-keras-cifar10-inceptionv3-elastic-20210723-022416"] "scheduler"="default"
I0723 15:11:04.528231   27140 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0723 15:11:04.528330   27140 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022416":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022430":{},"tf2-keras-cifar10-resnet50-elastic-20210723-022701":{},"tf2-keras-cifar10-resnet50-elastic-20210723-024651":{},"tf2-keras-cifar10-resnet50-elastic-20210723-024854":{},"tf2-keras-cifar10-vgg16-elastic-20210723-024008":{},"tf2-keras-cifar10-vgg16-elastic-20210723-024636":{},"tf2-keras-transformer-elastic-20210723-022427":{},"tf2-keras-transformer-elastic-20210723-024618":{},"tf2-keras-transformer-elastic-20210723-024919":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 15:11:04.528422   27140 placement_manager.go:250]  "msg"="Released slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022416":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022430":{},"tf2-keras-cifar10-resnet50-elastic-20210723-022701":{},"tf2-keras-cifar10-resnet50-elastic-20210723-024651":{},"tf2-keras-cifar10-resnet50-elastic-20210723-024854":{},"tf2-keras-cifar10-vgg16-elastic-20210723-024008":{},"tf2-keras-cifar10-vgg16-elastic-20210723-024636":{},"tf2-keras-transformer-elastic-20210723-022427":{},"tf2-keras-transformer-elastic-20210723-024618":{},"tf2-keras-transformer-elastic-20210723-024919":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 15:11:04.528881   27140 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}] "scheduler"="default"
I0723 15:11:04.529160   27140 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=7
I0723 15:11:04.529432   27140 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022416":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022430":{},"tf2-keras-cifar10-resnet50-elastic-20210723-022701":{},"tf2-keras-cifar10-resnet50-elastic-20210723-024651":{},"tf2-keras-cifar10-resnet50-elastic-20210723-024854":{},"tf2-keras-cifar10-vgg16-elastic-20210723-024636":{},"tf2-keras-transformer-elastic-20210723-022427":{},"tf2-keras-transformer-elastic-20210723-024618":{},"tf2-keras-transformer-elastic-20210723-024919":{}} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022416":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022430":{},"tf2-keras-cifar10-resnet50-elastic-20210723-022701":{},"tf2-keras-cifar10-resnet50-elastic-20210723-024651":{},"tf2-keras-cifar10-resnet50-elastic-20210723-024854":{},"tf2-keras-cifar10-vgg16-elastic-20210723-024008":{},"tf2-keras-cifar10-vgg16-elastic-20210723-024636":{},"tf2-keras-transformer-elastic-20210723-022427":{},"tf2-keras-transformer-elastic-20210723-024618":{},"tf2-keras-transformer-elastic-20210723-024919":{}} "scheduler"="default"
I0723 15:11:04.529799   27140 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=4 "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-022055-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-022416-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-022416-worker-1":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-022430-worker-0":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-022701-worker-0":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210723-024651-worker-0":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210723-024854-worker-0":"gpu5","tf2-keras-cifar10-vgg16-elastic-20210723-024636-worker-0":"gpu4","tf2-keras-transformer-elastic-20210723-022427-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-024618-worker-0":"gpu5","tf2-keras-transformer-elastic-20210723-024919-worker-0":"gpu4"} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-022055-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-022416-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-022430-worker-0":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-022701-worker-0":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210723-024651-worker-0":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210723-024854-worker-0":"gpu4","tf2-keras-cifar10-vgg16-elastic-20210723-024008-worker-0":"gpu3","tf2-keras-cifar10-vgg16-elastic-20210723-024636-worker-0":"gpu5","tf2-keras-transformer-elastic-20210723-022427-worker-0":"gpu4","tf2-keras-transformer-elastic-20210723-024618-worker-0":"gpu5","tf2-keras-transformer-elastic-20210723-024919-worker-0":"gpu3"} "scheduler"="default" "workersToDelete"=4
I0723 15:11:04.530078   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-024636-worker-0" "scheduler"="default"
I0723 15:11:04.536733   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-024636-launcher" "scheduler"="default"
I0723 15:11:04.541304   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-022427-worker-0" "scheduler"="default"
I0723 15:11:04.545719   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-022427-launcher" "scheduler"="default"
I0723 15:11:04.550205   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-024919-worker-0" "scheduler"="default"
I0723 15:11:04.553618   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022416-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 15:11:04.555315   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-024919-launcher" "scheduler"="default"
I0723 15:11:04.564724   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-024854-worker-0" "scheduler"="default"
I0723 15:11:04.588597   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-024854-launcher" "scheduler"="default"
I0723 15:11:04.595210   27140 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0723 15:11:04.595488   27140 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0723 15:11:13.839691   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-024919-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 15:11:14.981936   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-022427-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 15:11:15.572724   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-024919-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 15:11:19.736145   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-024636-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 15:11:19.773369   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-024636-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 15:11:24.592993   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-022427-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 15:11:24.633150   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-024854-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 15:11:24.968050   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-024854-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 15:12:05.044622   27140 scheduler.go:474]  "msg"="Training job completed"  "elaspedTotalSeconds"=2703.11302377 "gpuTotalSeconds"=1520.106533202 "job"="tf2-keras-cifar10-resnet50-elastic-20210723-022701" "ranTotalSeconds"=1520.106533202 "scheduler"="default" "waitedTotalSeconds"=1183.006490568
I0723 15:12:05.044776   27140 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-23T15:13:04.595754703+08:00" "lastResched"="2021-07-23T15:11:04.595754703+08:00" "received"="2021-07-23T15:12:05.044649271+08:00" "scheduler"="default"
I0723 15:13:04.595815   27140 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0723 15:13:04.595853   27140 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0723 15:13:04.605867   27140 ffdl_optimizer.go:129]  "msg"="Finished scheduling"  "FreeGPU"=0 "algorithm"="FfDLOptimizer" "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":1,"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":2,"tf2-keras-cifar10-inceptionv3-elastic-20210723-022416":2,"tf2-keras-cifar10-inceptionv3-elastic-20210723-022430":1,"tf2-keras-cifar10-resnet50-elastic-20210723-024651":1,"tf2-keras-cifar10-resnet50-elastic-20210723-024854":1,"tf2-keras-cifar10-vgg16-elastic-20210723-024636":1,"tf2-keras-transformer-elastic-20210723-022427":1,"tf2-keras-transformer-elastic-20210723-024618":1,"tf2-keras-transformer-elastic-20210723-024919":1} "scheduler"="default"
I0723 15:13:04.606300   27140 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 15:13:04.606640   27140 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 15:13:04.606883   27140 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 15:13:04.607147   27140 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=["tf2-keras-cifar10-inceptionv3-elastic-20210723-022055"] "scheduler"="default"
I0723 15:13:04.629480   27140 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0723 15:13:04.629625   27140 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022416":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022430":{},"tf2-keras-cifar10-resnet50-elastic-20210723-022701":{},"tf2-keras-cifar10-resnet50-elastic-20210723-024651":{},"tf2-keras-cifar10-resnet50-elastic-20210723-024854":{},"tf2-keras-cifar10-vgg16-elastic-20210723-024636":{},"tf2-keras-transformer-elastic-20210723-022427":{},"tf2-keras-transformer-elastic-20210723-024618":{},"tf2-keras-transformer-elastic-20210723-024919":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 15:13:04.629767   27140 placement_manager.go:250]  "msg"="Released slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022416":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022430":{},"tf2-keras-cifar10-resnet50-elastic-20210723-022701":{},"tf2-keras-cifar10-resnet50-elastic-20210723-024651":{},"tf2-keras-cifar10-resnet50-elastic-20210723-024854":{},"tf2-keras-cifar10-vgg16-elastic-20210723-024636":{},"tf2-keras-transformer-elastic-20210723-022427":{},"tf2-keras-transformer-elastic-20210723-024618":{},"tf2-keras-transformer-elastic-20210723-024919":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 15:13:04.630255   27140 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}] "scheduler"="default"
I0723 15:13:04.630639   27140 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=7
I0723 15:13:04.630932   27140 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022416":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022430":{},"tf2-keras-cifar10-resnet50-elastic-20210723-024651":{},"tf2-keras-cifar10-resnet50-elastic-20210723-024854":{},"tf2-keras-cifar10-vgg16-elastic-20210723-024636":{},"tf2-keras-transformer-elastic-20210723-022427":{},"tf2-keras-transformer-elastic-20210723-024618":{},"tf2-keras-transformer-elastic-20210723-024919":{}} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022416":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022430":{},"tf2-keras-cifar10-resnet50-elastic-20210723-022701":{},"tf2-keras-cifar10-resnet50-elastic-20210723-024651":{},"tf2-keras-cifar10-resnet50-elastic-20210723-024854":{},"tf2-keras-cifar10-vgg16-elastic-20210723-024636":{},"tf2-keras-transformer-elastic-20210723-022427":{},"tf2-keras-transformer-elastic-20210723-024618":{},"tf2-keras-transformer-elastic-20210723-024919":{}} "scheduler"="default"
I0723 15:13:04.631337   27140 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=3 "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-022055-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-022055-worker-1":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-022416-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-022416-worker-1":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-022430-worker-0":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210723-024651-worker-0":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210723-024854-worker-0":"gpu5","tf2-keras-cifar10-vgg16-elastic-20210723-024636-worker-0":"gpu4","tf2-keras-transformer-elastic-20210723-022427-worker-0":"gpu4","tf2-keras-transformer-elastic-20210723-024618-worker-0":"gpu5","tf2-keras-transformer-elastic-20210723-024919-worker-0":"gpu4"} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-022055-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-022416-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-022416-worker-1":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-022430-worker-0":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-022701-worker-0":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210723-024651-worker-0":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210723-024854-worker-0":"gpu5","tf2-keras-cifar10-vgg16-elastic-20210723-024636-worker-0":"gpu4","tf2-keras-transformer-elastic-20210723-022427-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-024618-worker-0":"gpu5","tf2-keras-transformer-elastic-20210723-024919-worker-0":"gpu4"} "scheduler"="default" "workersToDelete"=4
I0723 15:13:04.631653   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022055-worker-0" "scheduler"="default"
I0723 15:13:04.646333   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-022427-worker-0" "scheduler"="default"
I0723 15:13:04.650916   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-022427-launcher" "scheduler"="default"
I0723 15:13:04.656014   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-0" "scheduler"="default"
I0723 15:13:04.660160   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-launcher" "scheduler"="default"
I0723 15:13:04.664879   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022430-worker-0" "scheduler"="default"
I0723 15:13:04.667373   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022055-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 15:13:04.669052   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022430-launcher" "scheduler"="default"
I0723 15:13:04.675421   27140 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0723 15:13:04.675619   27140 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0723 15:13:14.588991   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 15:13:19.752286   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-022427-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 15:13:23.844539   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-022427-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 15:13:23.884861   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 15:13:25.349637   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022055-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 15:13:26.132310   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022430-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 15:13:26.935240   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022430-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 15:14:00.473389   27140 scheduler.go:474]  "msg"="Training job completed"  "elaspedTotalSeconds"=1643.355431761 "gpuTotalSeconds"=1395.103971679 "job"="tf2-keras-cifar10-vgg16-elastic-20210723-024636" "ranTotalSeconds"=1395.103971679 "scheduler"="default" "waitedTotalSeconds"=248.251460082
I0723 15:14:00.473514   27140 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-23T15:15:04.675751718+08:00" "lastResched"="2021-07-23T15:13:04.675751718+08:00" "received"="2021-07-23T15:14:00.473426772+08:00" "scheduler"="default"
I0723 15:15:04.675810   27140 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0723 15:15:04.675848   27140 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0723 15:15:04.685323   27140 ffdl_optimizer.go:129]  "msg"="Finished scheduling"  "FreeGPU"=0 "algorithm"="FfDLOptimizer" "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":1,"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":2,"tf2-keras-cifar10-inceptionv3-elastic-20210723-022416":3,"tf2-keras-cifar10-inceptionv3-elastic-20210723-022430":1,"tf2-keras-cifar10-resnet50-elastic-20210723-024651":1,"tf2-keras-cifar10-resnet50-elastic-20210723-024854":1,"tf2-keras-transformer-elastic-20210723-022427":1,"tf2-keras-transformer-elastic-20210723-024618":1,"tf2-keras-transformer-elastic-20210723-024919":1} "scheduler"="default"
I0723 15:15:04.685802   27140 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 15:15:04.686049   27140 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 15:15:04.686240   27140 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 15:15:04.686447   27140 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=["tf2-keras-cifar10-inceptionv3-elastic-20210723-022416"] "scheduler"="default"
I0723 15:15:04.706342   27140 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0723 15:15:04.706426   27140 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022416":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022430":{},"tf2-keras-cifar10-resnet50-elastic-20210723-024651":{},"tf2-keras-cifar10-resnet50-elastic-20210723-024854":{},"tf2-keras-cifar10-vgg16-elastic-20210723-024636":{},"tf2-keras-transformer-elastic-20210723-022427":{},"tf2-keras-transformer-elastic-20210723-024618":{},"tf2-keras-transformer-elastic-20210723-024919":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 15:15:04.706484   27140 placement_manager.go:250]  "msg"="Released slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022416":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022430":{},"tf2-keras-cifar10-resnet50-elastic-20210723-024651":{},"tf2-keras-cifar10-resnet50-elastic-20210723-024854":{},"tf2-keras-cifar10-vgg16-elastic-20210723-024636":{},"tf2-keras-transformer-elastic-20210723-022427":{},"tf2-keras-transformer-elastic-20210723-024618":{},"tf2-keras-transformer-elastic-20210723-024919":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 15:15:04.707002   27140 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}] "scheduler"="default"
I0723 15:15:04.707311   27140 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=6
I0723 15:15:04.707580   27140 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022416":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022430":{},"tf2-keras-cifar10-resnet50-elastic-20210723-024651":{},"tf2-keras-cifar10-resnet50-elastic-20210723-024854":{},"tf2-keras-transformer-elastic-20210723-022427":{},"tf2-keras-transformer-elastic-20210723-024618":{},"tf2-keras-transformer-elastic-20210723-024919":{}} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022416":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022430":{},"tf2-keras-cifar10-resnet50-elastic-20210723-024651":{},"tf2-keras-cifar10-resnet50-elastic-20210723-024854":{},"tf2-keras-cifar10-vgg16-elastic-20210723-024636":{},"tf2-keras-transformer-elastic-20210723-022427":{},"tf2-keras-transformer-elastic-20210723-024618":{},"tf2-keras-transformer-elastic-20210723-024919":{}} "scheduler"="default"
I0723 15:15:04.707863   27140 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=3 "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-022055-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-022055-worker-1":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-022416-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-022416-worker-1":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-022416-worker-2":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-022430-worker-0":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210723-024651-worker-0":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210723-024854-worker-0":"gpu5","tf2-keras-transformer-elastic-20210723-022427-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-024618-worker-0":"gpu5","tf2-keras-transformer-elastic-20210723-024919-worker-0":"gpu4"} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-022055-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-022055-worker-1":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-022416-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-022416-worker-1":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-022430-worker-0":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210723-024651-worker-0":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210723-024854-worker-0":"gpu5","tf2-keras-cifar10-vgg16-elastic-20210723-024636-worker-0":"gpu4","tf2-keras-transformer-elastic-20210723-022427-worker-0":"gpu4","tf2-keras-transformer-elastic-20210723-024618-worker-0":"gpu5","tf2-keras-transformer-elastic-20210723-024919-worker-0":"gpu4"} "scheduler"="default" "workersToDelete"=5
I0723 15:15:04.708157   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-022427-worker-0" "scheduler"="default"
I0723 15:15:04.712776   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-022427-launcher" "scheduler"="default"
I0723 15:15:04.725623   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-024651-worker-0" "scheduler"="default"
I0723 15:15:04.730017   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-024651-launcher" "scheduler"="default"
I0723 15:15:04.734092   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-0" "scheduler"="default"
I0723 15:15:04.738029   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-launcher" "scheduler"="default"
I0723 15:15:04.740507   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022416-worker-2" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 15:15:04.741936   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022416-worker-0" "scheduler"="default"
I0723 15:15:04.747218   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022416-worker-1" "scheduler"="default"
I0723 15:15:04.752602   27140 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0723 15:15:04.752852   27140 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0723 15:15:11.833730   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-024651-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 15:15:11.863369   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-024651-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 15:15:13.210093   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-022427-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 15:15:13.245317   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 15:15:13.254173   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022416-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 15:15:17.035892   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022416-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 15:15:24.603935   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-022427-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 15:15:24.646329   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 15:20:03.842033   27140 scheduler.go:474]  "msg"="Training job completed"  "elaspedTotalSeconds"=1988.439217003 "gpuTotalSeconds"=1585.053604269 "job"="tf2-keras-cifar10-resnet50-elastic-20210723-024651" "ranTotalSeconds"=1585.053604269 "scheduler"="default" "waitedTotalSeconds"=403.385612734
I0723 15:20:03.842195   27140 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-23T15:17:04.753083779+08:00" "lastResched"="2021-07-23T15:15:04.753083779+08:00" "received"="2021-07-23T15:20:03.842087083+08:00" "scheduler"="default"
I0723 15:20:03.842750   27140 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0723 15:20:03.842825   27140 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0723 15:20:03.851952   27140 ffdl_optimizer.go:129]  "msg"="Finished scheduling"  "FreeGPU"=0 "algorithm"="FfDLOptimizer" "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":1,"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":3,"tf2-keras-cifar10-inceptionv3-elastic-20210723-022416":1,"tf2-keras-cifar10-inceptionv3-elastic-20210723-022430":3,"tf2-keras-cifar10-resnet50-elastic-20210723-024854":1,"tf2-keras-transformer-elastic-20210723-022427":1,"tf2-keras-transformer-elastic-20210723-024618":1,"tf2-keras-transformer-elastic-20210723-024919":1} "scheduler"="default"
I0723 15:20:03.852266   27140 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 15:20:03.852540   27140 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=["tf2-keras-cifar10-inceptionv3-elastic-20210723-022416"] "scheduler"="default"
I0723 15:20:03.867225   27140 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 15:20:03.867533   27140 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=["tf2-keras-cifar10-inceptionv3-elastic-20210723-022055","tf2-keras-cifar10-inceptionv3-elastic-20210723-022430"] "scheduler"="default"
I0723 15:20:03.894803   27140 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0723 15:20:03.895022   27140 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022416":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022430":{},"tf2-keras-cifar10-resnet50-elastic-20210723-024651":{},"tf2-keras-cifar10-resnet50-elastic-20210723-024854":{},"tf2-keras-transformer-elastic-20210723-022427":{},"tf2-keras-transformer-elastic-20210723-024618":{},"tf2-keras-transformer-elastic-20210723-024919":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 15:20:03.895163   27140 placement_manager.go:250]  "msg"="Released slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022416":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022430":{},"tf2-keras-cifar10-resnet50-elastic-20210723-024651":{},"tf2-keras-cifar10-resnet50-elastic-20210723-024854":{},"tf2-keras-transformer-elastic-20210723-022427":{},"tf2-keras-transformer-elastic-20210723-024618":{},"tf2-keras-transformer-elastic-20210723-024919":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 15:20:03.895820   27140 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}] "scheduler"="default"
I0723 15:20:03.896211   27140 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=7
I0723 15:20:03.896571   27140 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022416":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022430":{},"tf2-keras-cifar10-resnet50-elastic-20210723-024854":{},"tf2-keras-transformer-elastic-20210723-022427":{},"tf2-keras-transformer-elastic-20210723-024618":{},"tf2-keras-transformer-elastic-20210723-024919":{}} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022416":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022430":{},"tf2-keras-cifar10-resnet50-elastic-20210723-024651":{},"tf2-keras-cifar10-resnet50-elastic-20210723-024854":{},"tf2-keras-transformer-elastic-20210723-022427":{},"tf2-keras-transformer-elastic-20210723-024618":{},"tf2-keras-transformer-elastic-20210723-024919":{}} "scheduler"="default"
I0723 15:20:03.896943   27140 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=1 "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-022055-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-022055-worker-1":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-022055-worker-2":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-022416-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-022430-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-022430-worker-1":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-022430-worker-2":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-024854-worker-0":"gpu5","tf2-keras-transformer-elastic-20210723-022427-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-024618-worker-0":"gpu5","tf2-keras-transformer-elastic-20210723-024919-worker-0":"gpu5"} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-022055-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-022055-worker-1":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-022416-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-022416-worker-1":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-022416-worker-2":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-022430-worker-0":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210723-024651-worker-0":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210723-024854-worker-0":"gpu5","tf2-keras-transformer-elastic-20210723-022427-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-024618-worker-0":"gpu5","tf2-keras-transformer-elastic-20210723-024919-worker-0":"gpu4"} "scheduler"="default" "workersToDelete"=2
I0723 15:20:03.897186   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-024919-worker-0" "scheduler"="default"
I0723 15:20:03.901244   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-024919-launcher" "scheduler"="default"
I0723 15:20:03.906936   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022430-worker-0" "scheduler"="default"
I0723 15:20:03.911316   27140 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0723 15:20:03.911554   27140 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0723 15:20:04.236002   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022055-worker-2" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 15:20:04.832807   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022430-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 15:20:05.232913   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022430-worker-2" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 15:20:14.606350   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-024919-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 15:20:14.642298   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-024919-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 15:20:19.725571   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022430-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 15:23:49.655676   27140 scheduler.go:474]  "msg"="Training job completed"  "elaspedTotalSeconds"=3557.05205787 "gpuTotalSeconds"=2870.151626971 "job"="tf2-keras-transformer-elastic-20210723-022427" "ranTotalSeconds"=2870.151626971 "scheduler"="default" "waitedTotalSeconds"=686.900430899
I0723 15:23:49.655875   27140 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-23T15:22:03.911769674+08:00" "lastResched"="2021-07-23T15:20:03.911769674+08:00" "received"="2021-07-23T15:23:49.655754196+08:00" "scheduler"="default"
I0723 15:23:49.656296   27140 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0723 15:23:49.656323   27140 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0723 15:23:49.664408   27140 ffdl_optimizer.go:129]  "msg"="Finished scheduling"  "FreeGPU"=0 "algorithm"="FfDLOptimizer" "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":4,"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":2,"tf2-keras-cifar10-inceptionv3-elastic-20210723-022416":1,"tf2-keras-cifar10-inceptionv3-elastic-20210723-022430":2,"tf2-keras-cifar10-resnet50-elastic-20210723-024854":1,"tf2-keras-transformer-elastic-20210723-024618":1,"tf2-keras-transformer-elastic-20210723-024919":1} "scheduler"="default"
I0723 15:23:49.664760   27140 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 15:23:49.664948   27140 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=["tf2-keras-cifar10-inceptionv3-elastic-20210723-022055","tf2-keras-cifar10-inceptionv3-elastic-20210723-022430"] "scheduler"="default"
I0723 15:23:49.686744   27140 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 15:23:49.687050   27140 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=["tf2-keras-cifar10-inceptionv3-elastic-20210723-021207"] "scheduler"="default"
I0723 15:23:49.702822   27140 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0723 15:23:49.702898   27140 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022416":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022430":{},"tf2-keras-cifar10-resnet50-elastic-20210723-024854":{},"tf2-keras-transformer-elastic-20210723-022427":{},"tf2-keras-transformer-elastic-20210723-024618":{},"tf2-keras-transformer-elastic-20210723-024919":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 15:23:49.702968   27140 placement_manager.go:250]  "msg"="Released slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022416":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022430":{},"tf2-keras-cifar10-resnet50-elastic-20210723-024854":{},"tf2-keras-transformer-elastic-20210723-022427":{},"tf2-keras-transformer-elastic-20210723-024618":{},"tf2-keras-transformer-elastic-20210723-024919":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 15:23:49.703406   27140 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{},{},{},{},{},{},{},{},{},{},{},{},{}] "scheduler"="default"
I0723 15:23:49.703710   27140 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=5
I0723 15:23:49.703999   27140 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022416":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022430":{},"tf2-keras-cifar10-resnet50-elastic-20210723-024854":{},"tf2-keras-transformer-elastic-20210723-024618":{},"tf2-keras-transformer-elastic-20210723-024919":{}} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022416":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022430":{},"tf2-keras-cifar10-resnet50-elastic-20210723-024854":{},"tf2-keras-transformer-elastic-20210723-022427":{},"tf2-keras-transformer-elastic-20210723-024618":{},"tf2-keras-transformer-elastic-20210723-024919":{}} "scheduler"="default"
I0723 15:23:49.704366   27140 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=2 "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-1":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-2":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-3":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-022055-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-022055-worker-1":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-022416-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-022430-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-022430-worker-1":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210723-024854-worker-0":"gpu5","tf2-keras-transformer-elastic-20210723-024618-worker-0":"gpu5","tf2-keras-transformer-elastic-20210723-024919-worker-0":"gpu5"} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-022055-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-022055-worker-1":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-022055-worker-2":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-022416-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-022430-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-022430-worker-1":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-022430-worker-2":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-024854-worker-0":"gpu5","tf2-keras-transformer-elastic-20210723-022427-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-024618-worker-0":"gpu5","tf2-keras-transformer-elastic-20210723-024919-worker-0":"gpu5"} "scheduler"="default" "workersToDelete"=4
I0723 15:23:49.704641   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022430-worker-0" "scheduler"="default"
I0723 15:23:49.709914   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022430-worker-1" "scheduler"="default"
I0723 15:23:49.713459   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022430-launcher" "scheduler"="default"
I0723 15:23:49.720121   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022416-worker-0" "scheduler"="default"
I0723 15:23:49.724310   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022416-launcher" "scheduler"="default"
I0723 15:23:49.728192   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-0" "scheduler"="default"
I0723 15:23:49.732667   27140 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0723 15:23:49.732926   27140 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0723 15:23:50.852025   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 15:23:51.249360   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-2" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 15:23:51.448907   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-3" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 15:23:59.747406   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022430-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 15:23:59.794084   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 15:24:03.824194   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022416-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 15:24:07.648888   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022430-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 15:24:09.230080   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022430-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 15:24:10.832637   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022416-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 15:25:52.396409   27140 scheduler.go:474]  "msg"="Training job completed"  "elaspedTotalSeconds"=2215.428453975 "gpuTotalSeconds"=1470.050787537 "job"="tf2-keras-cifar10-resnet50-elastic-20210723-024854" "ranTotalSeconds"=1470.050787537 "scheduler"="default" "waitedTotalSeconds"=745.377666438
I0723 15:25:52.396567   27140 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-23T15:25:49.733164073+08:00" "lastResched"="2021-07-23T15:23:49.733164073+08:00" "received"="2021-07-23T15:25:52.396455753+08:00" "scheduler"="default"
I0723 15:25:52.397201   27140 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0723 15:25:52.397253   27140 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0723 15:25:52.403765   27140 ffdl_optimizer.go:129]  "msg"="Finished scheduling"  "FreeGPU"=0 "algorithm"="FfDLOptimizer" "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":2,"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":2,"tf2-keras-cifar10-inceptionv3-elastic-20210723-022416":4,"tf2-keras-cifar10-inceptionv3-elastic-20210723-022430":2,"tf2-keras-transformer-elastic-20210723-024618":1,"tf2-keras-transformer-elastic-20210723-024919":1} "scheduler"="default"
I0723 15:25:52.404139   27140 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 15:25:52.404369   27140 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=["tf2-keras-cifar10-inceptionv3-elastic-20210723-021207"] "scheduler"="default"
I0723 15:25:52.419061   27140 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 15:25:52.419324   27140 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=["tf2-keras-cifar10-inceptionv3-elastic-20210723-022416"] "scheduler"="default"
I0723 15:25:52.450498   27140 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0723 15:25:52.450580   27140 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022416":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022430":{},"tf2-keras-cifar10-resnet50-elastic-20210723-024854":{},"tf2-keras-transformer-elastic-20210723-024618":{},"tf2-keras-transformer-elastic-20210723-024919":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 15:25:52.450645   27140 placement_manager.go:250]  "msg"="Released slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022416":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022430":{},"tf2-keras-cifar10-resnet50-elastic-20210723-024854":{},"tf2-keras-transformer-elastic-20210723-024618":{},"tf2-keras-transformer-elastic-20210723-024919":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 15:25:52.451074   27140 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{},{},{},{},{},{},{},{},{},{},{}] "scheduler"="default"
I0723 15:25:52.451311   27140 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=5
I0723 15:25:52.451552   27140 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022416":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022430":{},"tf2-keras-transformer-elastic-20210723-024618":{},"tf2-keras-transformer-elastic-20210723-024919":{}} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022416":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022430":{},"tf2-keras-cifar10-resnet50-elastic-20210723-024854":{},"tf2-keras-transformer-elastic-20210723-024618":{},"tf2-keras-transformer-elastic-20210723-024919":{}} "scheduler"="default"
I0723 15:25:52.451920   27140 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=3 "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-1":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-022055-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-022055-worker-1":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-022416-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-022416-worker-1":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-022416-worker-2":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-022416-worker-3":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-022430-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-022430-worker-1":"gpu4","tf2-keras-transformer-elastic-20210723-024618-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-024919-worker-0":"gpu3"} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-1":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-2":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-3":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-022055-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-022055-worker-1":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-022416-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-022430-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-022430-worker-1":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210723-024854-worker-0":"gpu5","tf2-keras-transformer-elastic-20210723-024618-worker-0":"gpu5","tf2-keras-transformer-elastic-20210723-024919-worker-0":"gpu5"} "scheduler"="default" "workersToDelete"=4
I0723 15:25:52.452187   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-024919-worker-0" "scheduler"="default"
I0723 15:25:52.456937   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-024919-launcher" "scheduler"="default"
I0723 15:25:52.503413   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022430-worker-0" "scheduler"="default"
I0723 15:25:52.514464   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022430-worker-1" "scheduler"="default"
I0723 15:25:52.528904   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022430-launcher" "scheduler"="default"
I0723 15:25:52.581585   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-024618-worker-0" "scheduler"="default"
I0723 15:25:52.587813   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-024618-launcher" "scheduler"="default"
I0723 15:25:52.593761   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022416-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 15:25:52.603062   27140 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0723 15:25:52.603312   27140 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0723 15:25:53.188858   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022416-worker-2" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 15:25:53.587671   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022416-worker-3" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 15:26:00.943801   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-024618-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 15:26:01.749376   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-024618-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 15:26:02.130795   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-024919-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 15:26:03.336382   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022430-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 15:26:04.603400   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-024919-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 15:26:04.809325   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022430-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 15:26:05.811863   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022430-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 15:31:28.371571   27140 scheduler.go:474]  "msg"="Training job completed"  "elaspedTotalSeconds"=4027.987982453 "gpuTotalSeconds"=5835.25282043 "job"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022416" "ranTotalSeconds"=3990.191000554 "scheduler"="default" "waitedTotalSeconds"=37.796981899
I0723 15:31:28.371699   27140 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-23T15:27:52.603545389+08:00" "lastResched"="2021-07-23T15:25:52.603545389+08:00" "received"="2021-07-23T15:31:28.371622654+08:00" "scheduler"="default"
I0723 15:31:28.372221   27140 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0723 15:31:28.372292   27140 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0723 15:31:28.377304   27140 ffdl_optimizer.go:129]  "msg"="Finished scheduling"  "FreeGPU"=0 "algorithm"="FfDLOptimizer" "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":4,"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":2,"tf2-keras-cifar10-inceptionv3-elastic-20210723-022430":4,"tf2-keras-transformer-elastic-20210723-024618":1,"tf2-keras-transformer-elastic-20210723-024919":1} "scheduler"="default"
I0723 15:31:28.377493   27140 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 15:31:28.377704   27140 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 15:31:28.377900   27140 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 15:31:28.378075   27140 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=["tf2-keras-cifar10-inceptionv3-elastic-20210723-022430","tf2-keras-cifar10-inceptionv3-elastic-20210723-021207"] "scheduler"="default"
I0723 15:31:28.407582   27140 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0723 15:31:28.407646   27140 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022416":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022430":{},"tf2-keras-transformer-elastic-20210723-024618":{},"tf2-keras-transformer-elastic-20210723-024919":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 15:31:28.407697   27140 placement_manager.go:250]  "msg"="Released slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022416":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022430":{},"tf2-keras-transformer-elastic-20210723-024618":{},"tf2-keras-transformer-elastic-20210723-024919":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 15:31:28.408035   27140 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{},{},{},{},{},{},{},{},{}] "scheduler"="default"
I0723 15:31:28.408300   27140 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=6
I0723 15:31:28.408602   27140 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022430":{},"tf2-keras-transformer-elastic-20210723-024618":{},"tf2-keras-transformer-elastic-20210723-024919":{}} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022416":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022430":{},"tf2-keras-transformer-elastic-20210723-024618":{},"tf2-keras-transformer-elastic-20210723-024919":{}} "scheduler"="default"
I0723 15:31:28.408956   27140 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=0 "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-1":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-2":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-3":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-022055-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-022055-worker-1":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-022430-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-022430-worker-1":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-022430-worker-2":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-022430-worker-3":"gpu4","tf2-keras-transformer-elastic-20210723-024618-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-024919-worker-0":"gpu3"} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-1":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-022055-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-022055-worker-1":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-022416-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-022416-worker-1":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-022416-worker-2":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-022416-worker-3":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-022430-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-022430-worker-1":"gpu4","tf2-keras-transformer-elastic-20210723-024618-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-024919-worker-0":"gpu3"} "scheduler"="default" "workersToDelete"=2
I0723 15:31:28.409253   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-0" "scheduler"="default"
I0723 15:31:28.412991   27140 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-1" "scheduler"="default"
I0723 15:31:28.417258   27140 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0723 15:31:28.417600   27140 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0723 15:31:28.764685   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022430-worker-2" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 15:31:29.164803   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022430-worker-3" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 15:31:29.764515   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-2" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 15:31:30.164914   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-3" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 15:31:31.479525   27140 scheduler.go:474]  "msg"="Training job completed"  "elaspedTotalSeconds"=4233.975354312 "gpuTotalSeconds"=5569.021547899 "job"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022055" "ranTotalSeconds"=4233.975354312 "scheduler"="default" "waitedTotalSeconds"=0
I0723 15:31:31.479645   27140 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-23T15:33:28.417854739+08:00" "lastResched"="2021-07-23T15:31:28.417854739+08:00" "received"="2021-07-23T15:31:31.479555275+08:00" "scheduler"="default"
I0723 15:31:45.215393   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 15:31:46.020648   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 15:32:52.521616   27140 scheduler.go:474]  "msg"="Training job completed"  "elaspedTotalSeconds"=2791.263746862 "gpuTotalSeconds"=2525.14240774 "job"="tf2-keras-transformer-elastic-20210723-024618" "ranTotalSeconds"=2525.14240774 "scheduler"="default" "waitedTotalSeconds"=266.121339122
I0723 15:33:28.417997   27140 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0723 15:33:28.418097   27140 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0723 15:33:28.422677   27140 ffdl_optimizer.go:129]  "msg"="Finished scheduling"  "FreeGPU"=0 "algorithm"="FfDLOptimizer" "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":4,"tf2-keras-cifar10-inceptionv3-elastic-20210723-022430":4,"tf2-keras-transformer-elastic-20210723-024919":4} "scheduler"="default"
I0723 15:33:28.423102   27140 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 15:33:28.423335   27140 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 15:33:28.423541   27140 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 15:33:28.423734   27140 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=["tf2-keras-transformer-elastic-20210723-024919"] "scheduler"="default"
I0723 15:33:28.442360   27140 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0723 15:33:28.442451   27140 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022430":{},"tf2-keras-transformer-elastic-20210723-024618":{},"tf2-keras-transformer-elastic-20210723-024919":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 15:33:28.442552   27140 placement_manager.go:250]  "msg"="Released slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022430":{},"tf2-keras-transformer-elastic-20210723-024618":{},"tf2-keras-transformer-elastic-20210723-024919":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 15:33:28.443125   27140 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{},{},{},{},{}] "scheduler"="default"
I0723 15:33:28.443485   27140 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=9
I0723 15:33:28.443828   27140 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022430":{},"tf2-keras-transformer-elastic-20210723-024919":{}} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022055":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-022430":{},"tf2-keras-transformer-elastic-20210723-024618":{},"tf2-keras-transformer-elastic-20210723-024919":{}} "scheduler"="default"
I0723 15:33:28.444251   27140 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=0 "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-1":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-2":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-3":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-022430-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-022430-worker-1":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-022430-worker-2":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-022430-worker-3":"gpu4","tf2-keras-transformer-elastic-20210723-024919-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-024919-worker-1":"gpu3","tf2-keras-transformer-elastic-20210723-024919-worker-2":"gpu3","tf2-keras-transformer-elastic-20210723-024919-worker-3":"gpu3"} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-1":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-2":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-021207-worker-3":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-022055-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-022055-worker-1":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-022430-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-022430-worker-1":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-022430-worker-2":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-022430-worker-3":"gpu4","tf2-keras-transformer-elastic-20210723-024618-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-024919-worker-0":"gpu3"} "scheduler"="default" "workersToDelete"=0
I0723 15:33:28.444655   27140 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0723 15:33:28.444884   27140 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0723 15:33:28.474710   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-024919-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 15:33:28.506960   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-024919-worker-2" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 15:33:28.516454   27140 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-024919-worker-3" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 15:34:44.807894   27140 scheduler.go:474]  "msg"="Training job completed"  "elaspedTotalSeconds"=4952.13415669 "gpuTotalSeconds"=6785.276358006 "job"="tf2-keras-cifar10-inceptionv3-elastic-20210723-021207" "ranTotalSeconds"=4920.216995712 "scheduler"="default" "waitedTotalSeconds"=31.917160978
I0723 15:34:44.808066   27140 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-23T15:35:28.445103073+08:00" "lastResched"="2021-07-23T15:33:28.445103073+08:00" "received"="2021-07-23T15:34:44.807942103+08:00" "scheduler"="default"
I0723 15:35:28.445193   27140 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0723 15:35:28.445264   27140 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0723 15:35:28.447624   27140 ffdl_optimizer.go:129]  "msg"="Finished scheduling"  "FreeGPU"=4 "algorithm"="FfDLOptimizer" "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-022430":4,"tf2-keras-transformer-elastic-20210723-024919":4} "scheduler"="default"
I0723 15:35:28.447870   27140 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 15:35:28.448079   27140 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 15:35:28.448263   27140 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 15:35:28.448455   27140 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 15:35:28.448663   27140 scheduler.go:180]  "msg"="Nothing changed, skipped ajust placements"  "scheduler"="default"
I0723 15:35:28.448679   27140 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0723 15:39:23.343935   27140 scheduler.go:474]  "msg"="Training job completed"  "elaspedTotalSeconds"=4489.168997473 "gpuTotalSeconds"=5610.236745778 "job"="tf2-keras-cifar10-inceptionv3-elastic-20210723-022430" "ranTotalSeconds"=3275.163304551 "scheduler"="default" "waitedTotalSeconds"=1214.005692922
I0723 15:39:23.344163   27140 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-23T15:37:28.448858229+08:00" "lastResched"="2021-07-23T15:35:28.448858229+08:00" "received"="2021-07-23T15:39:23.344004364+08:00" "scheduler"="default"
I0723 15:39:23.344664   27140 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0723 15:39:23.344714   27140 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0723 15:39:23.347069   27140 ffdl_optimizer.go:129]  "msg"="Finished scheduling"  "FreeGPU"=8 "algorithm"="FfDLOptimizer" "result"={"tf2-keras-transformer-elastic-20210723-024919":4} "scheduler"="default"
I0723 15:39:23.347367   27140 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 15:39:23.347593   27140 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 15:39:23.347816   27140 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 15:39:23.348023   27140 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 15:39:23.348306   27140 scheduler.go:180]  "msg"="Nothing changed, skipped ajust placements"  "scheduler"="default"
I0723 15:39:23.348337   27140 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0723 15:41:25.063779   27140 scheduler.go:474]  "msg"="Training job completed"  "elaspedTotalSeconds"=3125.537475188 "gpuTotalSeconds"=3545.118765119 "job"="tf2-keras-transformer-elastic-20210723-024919" "ranTotalSeconds"=2105.070583787 "scheduler"="default" "waitedTotalSeconds"=1020.466891401
I0723 15:41:25.063944   27140 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-23T15:41:23.34857275+08:00" "lastResched"="2021-07-23T15:39:23.34857275+08:00" "received"="2021-07-23T15:41:25.063827229+08:00" "scheduler"="default"
I0723 15:41:25.064850   27140 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0723 15:41:25.064895   27140 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0723 15:41:25.065346   27140 ffdl_optimizer.go:40]  "msg"="Finished scheduling"  "FreeGPU"=12 "algorithm"="FfDLOptimizer" "result"={} "scheduler"="default"
I0723 15:41:25.065654   27140 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 15:41:25.065922   27140 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 15:41:25.066168   27140 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 15:41:25.066413   27140 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 15:41:25.066658   27140 scheduler.go:180]  "msg"="Nothing changed, skipped ajust placements"  "scheduler"="default"
I0723 15:41:25.066687   27140 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
