Log file created at: 2021/07/23 11:02:58
Running on machine: gpu4
Binary: Built with gc go1.13.15 for linux/amd64
Log line format: [IWEF]mmdd hh:mm:ss.uuuuuu threadid file:line] msg
I0723 11:02:58.122972   13823 main.go:19]  "msg"="Celeste - DLT jobs scheduler"  "version"="0.0.1"
I0723 11:02:58.123891   13823 main.go:20]  "msg"="Starting service"  
I0723 11:02:58.129090   13823 placement_manager.go:65]  "msg"="Starting placement manager"  "scheduler"="default"
I0723 11:02:58.129817   13823 placement_manager.go:95]  "msg"="Started placement manager"  "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 11:02:58.130429   13823 jobmaster.go:82]  "msg"="Starting scheduler"  "gpuType"="default"
I0723 11:02:58.130524   13823 scheduler.go:124]  "msg"="Starting scheduler"  "scheduler"="default"
I0723 11:02:58.158384   13823 scheduler.go:432]  "msg"="Start watching mpijob"  "scheduler"="default"
I0723 11:03:04.874309   13823 jobmaster.go:155]  "msg"="Training job created"  "job"="tf2-keras-cifar10-inceptionv3-elastic-20210723-110304"
I0723 11:03:04.874506   13823 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-23T11:02:58.130401046+08:00" "lastResched"="2021-07-23T11:02:58.13040127+08:00" "received"="2021-07-23T11:03:04.873602757+08:00" "scheduler"="default"
I0723 11:03:04.874993   13823 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0723 11:03:04.875060   13823 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0723 11:03:04.877218   13823 elastic_tiresias.go:160]  "msg"="Finished scheduling"  "algorithm"="ElasticTiresias" "compactionThreshold"=4 "freeGpu"=8 "promoteKnob"=4 "queueNum"=2 "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":4} "scheduler"="default" "thresholds"=
I0723 11:03:04.877582   13823 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 11:03:04.877857   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 11:03:04.878158   13823 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=["tf2-keras-cifar10-inceptionv3-elastic-20210723-110304"] "scheduler"="default"
I0723 11:03:04.898873   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 11:03:04.900772   13823 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0723 11:03:04.900933   13823 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 11:03:04.900982   13823 placement_manager.go:250]  "msg"="Released slots"  "jobs"={} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 11:03:04.901365   13823 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{}] "scheduler"="default"
I0723 11:03:04.901631   13823 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=0
I0723 11:03:04.901916   13823 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":{}} "old"={} "scheduler"="default"
I0723 11:03:04.902249   13823 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=0 "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-1":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-2":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-3":"gpu3"} "old"={} "scheduler"="default" "workersToDelete"=0
I0723 11:03:04.902507   13823 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0723 11:03:04.902832   13823 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0723 11:03:04.991249   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 11:03:05.003141   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 11:03:05.016889   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-2" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 11:03:05.027517   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-3" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 11:03:05.038251   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 11:03:11.848697   13823 jobmaster.go:155]  "msg"="Training job created"  "job"="tf2-keras-cifar10-resnet50-elastic-20210723-110311"
I0723 11:03:11.848844   13823 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-23T11:05:04.90306975+08:00" "lastResched"="2021-07-23T11:03:04.90306975+08:00" "received"="2021-07-23T11:03:11.848031017+08:00" "scheduler"="default"
I0723 11:03:16.821847   13823 jobmaster.go:155]  "msg"="Training job created"  "job"="tf2-keras-cifar10-inceptionv3-elastic-20210723-110316"
I0723 11:03:46.764110   13823 jobmaster.go:155]  "msg"="Training job created"  "job"="tf2-keras-cifar10-vgg16-elastic-20210723-110346"
I0723 11:04:13.763419   13823 jobmaster.go:155]  "msg"="Training job created"  "job"="tf2-keras-cifar10-vgg16-elastic-20210723-110413"
I0723 11:05:04.903145   13823 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0723 11:05:04.903211   13823 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0723 11:05:04.909495   13823 elastic_tiresias.go:160]  "msg"="Finished scheduling"  "algorithm"="ElasticTiresias" "compactionThreshold"=4 "freeGpu"=0 "promoteKnob"=4 "queueNum"=2 "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":3,"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":3,"tf2-keras-cifar10-resnet50-elastic-20210723-110311":2,"tf2-keras-cifar10-vgg16-elastic-20210723-110346":2,"tf2-keras-cifar10-vgg16-elastic-20210723-110413":2} "scheduler"="default" "thresholds"=
I0723 11:05:04.909858   13823 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 11:05:04.910140   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=["tf2-keras-cifar10-inceptionv3-elastic-20210723-110304"] "scheduler"="default"
I0723 11:05:04.923370   13823 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=["tf2-keras-cifar10-resnet50-elastic-20210723-110311","tf2-keras-cifar10-inceptionv3-elastic-20210723-110316","tf2-keras-cifar10-vgg16-elastic-20210723-110346","tf2-keras-cifar10-vgg16-elastic-20210723-110413"] "scheduler"="default"
I0723 11:05:04.965463   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 11:05:04.968565   13823 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0723 11:05:04.968643   13823 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 11:05:04.968696   13823 placement_manager.go:250]  "msg"="Released slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 11:05:04.969101   13823 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{},{},{},{},{},{},{},{},{}] "scheduler"="default"
I0723 11:05:04.969532   13823 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=3
I0723 11:05:04.969896   13823 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":{},"tf2-keras-cifar10-resnet50-elastic-20210723-110311":{},"tf2-keras-cifar10-vgg16-elastic-20210723-110346":{},"tf2-keras-cifar10-vgg16-elastic-20210723-110413":{}} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":{}} "scheduler"="default"
I0723 11:05:04.970291   13823 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=0 "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-1":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-2":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-1":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-2":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-110311-worker-0":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-110311-worker-1":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210723-110311-worker-2":"gpu3","tf2-keras-cifar10-vgg16-elastic-20210723-110346-worker-0":"gpu5","tf2-keras-cifar10-vgg16-elastic-20210723-110346-worker-1":"gpu5","tf2-keras-cifar10-vgg16-elastic-20210723-110413-worker-0":"gpu5","tf2-keras-cifar10-vgg16-elastic-20210723-110413-worker-1":"gpu5"} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-1":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-2":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-3":"gpu3"} "scheduler"="default" "workersToDelete"=0
I0723 11:05:04.970682   13823 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0723 11:05:04.971014   13823 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0723 11:05:05.538778   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-110311-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 11:05:06.134903   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-110311-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 11:05:06.537452   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-110311-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 11:05:07.139167   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 11:05:07.536283   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 11:05:07.937679   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-2" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 11:05:08.347925   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 11:05:08.750166   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-110346-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 11:05:09.145489   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-110346-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 11:05:09.545976   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-110346-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 11:05:10.338182   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-110413-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 11:05:10.747813   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-110413-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 11:05:11.148017   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-110413-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 11:05:48.815543   13823 jobmaster.go:155]  "msg"="Training job created"  "job"="tf2-keras-transformer-elastic-20210723-110548"
I0723 11:05:48.815681   13823 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-23T11:07:04.971350169+08:00" "lastResched"="2021-07-23T11:05:04.971350169+08:00" "received"="2021-07-23T11:05:48.814995531+08:00" "scheduler"="default"
I0723 11:07:04.971463   13823 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0723 11:07:04.971574   13823 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0723 11:07:04.977284   13823 elastic_tiresias.go:160]  "msg"="Finished scheduling"  "algorithm"="ElasticTiresias" "compactionThreshold"=4 "freeGpu"=0 "promoteKnob"=4 "queueNum"=2 "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":2,"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":2,"tf2-keras-cifar10-resnet50-elastic-20210723-110311":2,"tf2-keras-cifar10-vgg16-elastic-20210723-110346":2,"tf2-keras-cifar10-vgg16-elastic-20210723-110413":2,"tf2-keras-transformer-elastic-20210723-110548":2} "scheduler"="default" "thresholds"=
I0723 11:07:04.977504   13823 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 11:07:04.977797   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=["tf2-keras-cifar10-inceptionv3-elastic-20210723-110304","tf2-keras-cifar10-inceptionv3-elastic-20210723-110316"] "scheduler"="default"
I0723 11:07:05.018742   13823 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=["tf2-keras-transformer-elastic-20210723-110548"] "scheduler"="default"
I0723 11:07:05.028799   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 11:07:05.032411   13823 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0723 11:07:05.032525   13823 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":{},"tf2-keras-cifar10-resnet50-elastic-20210723-110311":{},"tf2-keras-cifar10-vgg16-elastic-20210723-110346":{},"tf2-keras-cifar10-vgg16-elastic-20210723-110413":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 11:07:05.032610   13823 placement_manager.go:250]  "msg"="Released slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":{},"tf2-keras-cifar10-resnet50-elastic-20210723-110311":{},"tf2-keras-cifar10-vgg16-elastic-20210723-110346":{},"tf2-keras-cifar10-vgg16-elastic-20210723-110413":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 11:07:05.033146   13823 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{},{},{},{},{},{},{},{},{},{},{}] "scheduler"="default"
I0723 11:07:05.033470   13823 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=7
I0723 11:07:05.033893   13823 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":{},"tf2-keras-cifar10-resnet50-elastic-20210723-110311":{},"tf2-keras-cifar10-vgg16-elastic-20210723-110346":{},"tf2-keras-cifar10-vgg16-elastic-20210723-110413":{},"tf2-keras-transformer-elastic-20210723-110548":{}} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":{},"tf2-keras-cifar10-resnet50-elastic-20210723-110311":{},"tf2-keras-cifar10-vgg16-elastic-20210723-110346":{},"tf2-keras-cifar10-vgg16-elastic-20210723-110413":{}} "scheduler"="default"
I0723 11:07:05.034417   13823 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=1 "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-1":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-1":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-110311-worker-0":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210723-110311-worker-1":"gpu3","tf2-keras-cifar10-vgg16-elastic-20210723-110346-worker-0":"gpu4","tf2-keras-cifar10-vgg16-elastic-20210723-110346-worker-1":"gpu4","tf2-keras-cifar10-vgg16-elastic-20210723-110413-worker-0":"gpu5","tf2-keras-cifar10-vgg16-elastic-20210723-110413-worker-1":"gpu5","tf2-keras-transformer-elastic-20210723-110548-worker-0":"gpu5","tf2-keras-transformer-elastic-20210723-110548-worker-1":"gpu5"} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-1":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-2":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-1":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-2":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-110311-worker-0":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-110311-worker-1":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210723-110311-worker-2":"gpu3","tf2-keras-cifar10-vgg16-elastic-20210723-110346-worker-0":"gpu5","tf2-keras-cifar10-vgg16-elastic-20210723-110346-worker-1":"gpu5","tf2-keras-cifar10-vgg16-elastic-20210723-110413-worker-0":"gpu5","tf2-keras-cifar10-vgg16-elastic-20210723-110413-worker-1":"gpu5"} "scheduler"="default" "workersToDelete"=3
I0723 11:07:05.034768   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-110311-worker-0" "scheduler"="default"
I0723 11:07:05.039467   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-110346-worker-0" "scheduler"="default"
I0723 11:07:05.048348   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-110346-worker-1" "scheduler"="default"
I0723 11:07:05.061370   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-110346-launcher" "scheduler"="default"
I0723 11:07:05.065993   13823 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0723 11:07:05.066233   13823 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0723 11:07:06.818123   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-110548-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 11:07:07.215128   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-110548-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 11:07:07.615697   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-110548-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 11:07:13.331710   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-110346-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 11:07:14.134929   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-110346-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 11:07:14.922467   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-110346-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 11:07:18.002663   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-110311-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 11:15:08.151693   13823 scheduler.go:559]  "msg"="Priority demoted to training job"  "job"="tf2-keras-cifar10-inceptionv3-elastic-20210723-110304" "priority"=1 "scheduler"="default"
I0723 11:15:08.151773   13823 scheduler.go:573]  "msg"="Priority changed"  "scheduler"="default"
I0723 11:15:08.151865   13823 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-23T11:09:05.066429788+08:00" "lastResched"="2021-07-23T11:07:05.066429788+08:00" "received"="2021-07-23T11:15:08.151782439+08:00" "scheduler"="default"
I0723 11:15:08.151896   13823 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0723 11:15:08.151949   13823 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0723 11:15:08.159308   13823 elastic_tiresias.go:160]  "msg"="Finished scheduling"  "algorithm"="ElasticTiresias" "compactionThreshold"=4 "freeGpu"=0 "promoteKnob"=4 "queueNum"=2 "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":2,"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":2,"tf2-keras-cifar10-resnet50-elastic-20210723-110311":2,"tf2-keras-cifar10-vgg16-elastic-20210723-110346":2,"tf2-keras-cifar10-vgg16-elastic-20210723-110413":2,"tf2-keras-transformer-elastic-20210723-110548":2} "scheduler"="default" "thresholds"=
I0723 11:15:08.159624   13823 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 11:15:08.159840   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 11:15:08.160115   13823 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 11:15:08.160297   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 11:15:08.160495   13823 scheduler.go:180]  "msg"="Nothing changed, skipped ajust placements"  "scheduler"="default"
I0723 11:15:08.160535   13823 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0723 11:16:31.972201   13823 jobmaster.go:155]  "msg"="Training job created"  "job"="tf2-keras-transformer-elastic-20210723-111631"
I0723 11:16:31.972273   13823 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-23T11:17:08.16076123+08:00" "lastResched"="2021-07-23T11:15:08.16076123+08:00" "received"="2021-07-23T11:16:31.971673597+08:00" "scheduler"="default"
I0723 11:17:08.160845   13823 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0723 11:17:08.160924   13823 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0723 11:17:08.168767   13823 elastic_tiresias.go:160]  "msg"="Finished scheduling"  "algorithm"="ElasticTiresias" "compactionThreshold"=4 "freeGpu"=0 "promoteKnob"=4 "queueNum"=2 "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":0,"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":2,"tf2-keras-cifar10-resnet50-elastic-20210723-110311":2,"tf2-keras-cifar10-vgg16-elastic-20210723-110346":2,"tf2-keras-cifar10-vgg16-elastic-20210723-110413":2,"tf2-keras-transformer-elastic-20210723-110548":2,"tf2-keras-transformer-elastic-20210723-111631":2} "scheduler"="default" "thresholds"=
I0723 11:17:08.169056   13823 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=["tf2-keras-cifar10-inceptionv3-elastic-20210723-110304"] "scheduler"="default"
I0723 11:17:08.180421   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 11:17:08.180694   13823 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=["tf2-keras-transformer-elastic-20210723-111631"] "scheduler"="default"
I0723 11:17:08.207889   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 11:17:08.210153   13823 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0723 11:17:08.210204   13823 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":{},"tf2-keras-cifar10-resnet50-elastic-20210723-110311":{},"tf2-keras-cifar10-vgg16-elastic-20210723-110346":{},"tf2-keras-cifar10-vgg16-elastic-20210723-110413":{},"tf2-keras-transformer-elastic-20210723-110548":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 11:17:08.210246   13823 placement_manager.go:250]  "msg"="Released slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":{},"tf2-keras-cifar10-resnet50-elastic-20210723-110311":{},"tf2-keras-cifar10-vgg16-elastic-20210723-110346":{},"tf2-keras-cifar10-vgg16-elastic-20210723-110413":{},"tf2-keras-transformer-elastic-20210723-110548":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 11:17:08.210636   13823 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{},{},{},{},{},{},{},{},{},{},{},{},{}] "scheduler"="default"
I0723 11:17:08.210913   13823 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=6
I0723 11:17:08.211185   13823 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":{},"tf2-keras-cifar10-resnet50-elastic-20210723-110311":{},"tf2-keras-cifar10-vgg16-elastic-20210723-110346":{},"tf2-keras-cifar10-vgg16-elastic-20210723-110413":{},"tf2-keras-transformer-elastic-20210723-110548":{},"tf2-keras-transformer-elastic-20210723-111631":{}} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":{},"tf2-keras-cifar10-resnet50-elastic-20210723-110311":{},"tf2-keras-cifar10-vgg16-elastic-20210723-110346":{},"tf2-keras-cifar10-vgg16-elastic-20210723-110413":{},"tf2-keras-transformer-elastic-20210723-110548":{}} "scheduler"="default"
I0723 11:17:08.211643   13823 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=2 "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-1":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210723-110311-worker-0":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210723-110311-worker-1":"gpu3","tf2-keras-cifar10-vgg16-elastic-20210723-110346-worker-0":"gpu4","tf2-keras-cifar10-vgg16-elastic-20210723-110346-worker-1":"gpu4","tf2-keras-cifar10-vgg16-elastic-20210723-110413-worker-0":"gpu4","tf2-keras-cifar10-vgg16-elastic-20210723-110413-worker-1":"gpu4","tf2-keras-transformer-elastic-20210723-110548-worker-0":"gpu5","tf2-keras-transformer-elastic-20210723-110548-worker-1":"gpu5","tf2-keras-transformer-elastic-20210723-111631-worker-0":"gpu5","tf2-keras-transformer-elastic-20210723-111631-worker-1":"gpu5"} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-1":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-1":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-110311-worker-0":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210723-110311-worker-1":"gpu3","tf2-keras-cifar10-vgg16-elastic-20210723-110346-worker-0":"gpu4","tf2-keras-cifar10-vgg16-elastic-20210723-110346-worker-1":"gpu4","tf2-keras-cifar10-vgg16-elastic-20210723-110413-worker-0":"gpu5","tf2-keras-cifar10-vgg16-elastic-20210723-110413-worker-1":"gpu5","tf2-keras-transformer-elastic-20210723-110548-worker-0":"gpu5","tf2-keras-transformer-elastic-20210723-110548-worker-1":"gpu5"} "scheduler"="default" "workersToDelete"=4
I0723 11:17:08.211902   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-110413-worker-0" "scheduler"="default"
I0723 11:17:08.216993   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-110413-worker-1" "scheduler"="default"
I0723 11:17:08.221517   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-110413-launcher" "scheduler"="default"
I0723 11:17:08.234000   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-0" "scheduler"="default"
I0723 11:17:08.237952   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-1" "scheduler"="default"
I0723 11:17:08.242630   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-launcher" "scheduler"="default"
I0723 11:17:08.249335   13823 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0723 11:17:08.249690   13823 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0723 11:17:08.252582   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-111631-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 11:17:08.289490   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-111631-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 11:17:08.620581   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-111631-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 11:17:16.064704   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-110413-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 11:17:18.224925   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-110413-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 11:17:24.590875   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 11:17:24.623408   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 11:17:24.637105   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 11:17:30.393498   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-110413-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 11:18:24.339769   13823 scheduler.go:474]  "msg"="Training job completed"  "elaspedTotalSeconds"=876.393118006 "gpuTotalSeconds"=1600.045652808 "job"="tf2-keras-cifar10-vgg16-elastic-20210723-110346" "ranTotalSeconds"=800.022826404 "scheduler"="default" "waitedTotalSeconds"=76.370291602
I0723 11:18:24.339928   13823 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-23T11:19:08.250072496+08:00" "lastResched"="2021-07-23T11:17:08.250072496+08:00" "received"="2021-07-23T11:18:24.339818916+08:00" "scheduler"="default"
I0723 11:19:03.158222   13823 scheduler.go:559]  "msg"="Priority demoted to training job"  "job"="tf2-keras-cifar10-inceptionv3-elastic-20210723-110316" "priority"=1 "scheduler"="default"
I0723 11:19:03.158280   13823 scheduler.go:573]  "msg"="Priority changed"  "scheduler"="default"
I0723 11:19:08.250130   13823 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0723 11:19:08.250195   13823 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0723 11:19:08.257937   13823 elastic_tiresias.go:160]  "msg"="Finished scheduling"  "algorithm"="ElasticTiresias" "compactionThreshold"=4 "freeGpu"=0 "promoteKnob"=4 "queueNum"=2 "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":2,"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":2,"tf2-keras-cifar10-resnet50-elastic-20210723-110311":2,"tf2-keras-cifar10-vgg16-elastic-20210723-110413":2,"tf2-keras-transformer-elastic-20210723-110548":2,"tf2-keras-transformer-elastic-20210723-111631":2} "scheduler"="default" "thresholds"=
I0723 11:19:08.258258   13823 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 11:19:08.258511   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 11:19:08.258761   13823 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=["tf2-keras-cifar10-inceptionv3-elastic-20210723-110304"] "scheduler"="default"
I0723 11:19:08.270350   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 11:19:08.274011   13823 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0723 11:19:08.274088   13823 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":{},"tf2-keras-cifar10-resnet50-elastic-20210723-110311":{},"tf2-keras-cifar10-vgg16-elastic-20210723-110346":{},"tf2-keras-cifar10-vgg16-elastic-20210723-110413":{},"tf2-keras-transformer-elastic-20210723-110548":{},"tf2-keras-transformer-elastic-20210723-111631":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 11:19:08.274154   13823 placement_manager.go:250]  "msg"="Released slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":{},"tf2-keras-cifar10-resnet50-elastic-20210723-110311":{},"tf2-keras-cifar10-vgg16-elastic-20210723-110346":{},"tf2-keras-cifar10-vgg16-elastic-20210723-110413":{},"tf2-keras-transformer-elastic-20210723-110548":{},"tf2-keras-transformer-elastic-20210723-111631":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 11:19:08.274595   13823 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{},{},{},{},{},{},{},{},{},{},{}] "scheduler"="default"
I0723 11:19:08.274930   13823 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=8
I0723 11:19:08.275238   13823 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":{},"tf2-keras-cifar10-resnet50-elastic-20210723-110311":{},"tf2-keras-cifar10-vgg16-elastic-20210723-110413":{},"tf2-keras-transformer-elastic-20210723-110548":{},"tf2-keras-transformer-elastic-20210723-111631":{}} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":{},"tf2-keras-cifar10-resnet50-elastic-20210723-110311":{},"tf2-keras-cifar10-vgg16-elastic-20210723-110346":{},"tf2-keras-cifar10-vgg16-elastic-20210723-110413":{},"tf2-keras-transformer-elastic-20210723-110548":{},"tf2-keras-transformer-elastic-20210723-111631":{}} "scheduler"="default"
I0723 11:19:08.275638   13823 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=1 "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-1":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-1":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-110311-worker-0":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210723-110311-worker-1":"gpu3","tf2-keras-cifar10-vgg16-elastic-20210723-110413-worker-0":"gpu4","tf2-keras-cifar10-vgg16-elastic-20210723-110413-worker-1":"gpu4","tf2-keras-transformer-elastic-20210723-110548-worker-0":"gpu5","tf2-keras-transformer-elastic-20210723-110548-worker-1":"gpu5","tf2-keras-transformer-elastic-20210723-111631-worker-0":"gpu5","tf2-keras-transformer-elastic-20210723-111631-worker-1":"gpu5"} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-1":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210723-110311-worker-0":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210723-110311-worker-1":"gpu3","tf2-keras-cifar10-vgg16-elastic-20210723-110346-worker-0":"gpu4","tf2-keras-cifar10-vgg16-elastic-20210723-110346-worker-1":"gpu4","tf2-keras-cifar10-vgg16-elastic-20210723-110413-worker-0":"gpu4","tf2-keras-cifar10-vgg16-elastic-20210723-110413-worker-1":"gpu4","tf2-keras-transformer-elastic-20210723-110548-worker-0":"gpu5","tf2-keras-transformer-elastic-20210723-110548-worker-1":"gpu5","tf2-keras-transformer-elastic-20210723-111631-worker-0":"gpu5","tf2-keras-transformer-elastic-20210723-111631-worker-1":"gpu5"} "scheduler"="default" "workersToDelete"=2
I0723 11:19:08.276032   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-0" "scheduler"="default"
I0723 11:19:08.281095   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-1" "scheduler"="default"
I0723 11:19:08.285940   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-launcher" "scheduler"="default"
I0723 11:19:08.308396   13823 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0723 11:19:08.308879   13823 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0723 11:19:08.330828   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 11:19:08.360955   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 11:19:08.369734   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 11:19:09.576896   13823 scheduler.go:474]  "msg"="Training job completed"  "elaspedTotalSeconds"=894.394894137 "gpuTotalSeconds"=1690.047837982 "job"="tf2-keras-cifar10-vgg16-elastic-20210723-110413" "ranTotalSeconds"=845.023918991 "scheduler"="default" "waitedTotalSeconds"=49.370975146
I0723 11:19:09.577064   13823 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-23T11:21:08.309251301+08:00" "lastResched"="2021-07-23T11:19:08.309251301+08:00" "received"="2021-07-23T11:19:09.576929249+08:00" "scheduler"="default"
I0723 11:19:13.158594   13823 scheduler.go:565]  "msg"="Priority promoted to training job"  "job"="tf2-keras-cifar10-inceptionv3-elastic-20210723-110304" "priority"=0 "scheduler"="default"
I0723 11:19:13.158648   13823 scheduler.go:573]  "msg"="Priority changed"  "scheduler"="default"
I0723 11:19:15.946370   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 11:19:15.995159   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 11:19:16.003896   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 11:19:52.017847   13823 jobmaster.go:155]  "msg"="Training job created"  "job"="tf2-keras-cifar10-inceptionv3-elastic-20210723-111952"
I0723 11:20:03.160041   13823 scheduler.go:559]  "msg"="Priority demoted to training job"  "job"="tf2-keras-cifar10-resnet50-elastic-20210723-110311" "priority"=1 "scheduler"="default"
I0723 11:20:03.160112   13823 scheduler.go:573]  "msg"="Priority changed"  "scheduler"="default"
I0723 11:20:57.271929   13823 scheduler.go:474]  "msg"="Training job completed"  "elaspedTotalSeconds"=1061.312483514 "gpuTotalSeconds"=1900.05358427 "job"="tf2-keras-cifar10-resnet50-elastic-20210723-110311" "ranTotalSeconds"=950.026792135 "scheduler"="default" "waitedTotalSeconds"=111.285691379
I0723 11:21:08.309326   13823 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0723 11:21:08.309385   13823 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0723 11:21:08.315152   13823 elastic_tiresias.go:160]  "msg"="Finished scheduling"  "algorithm"="ElasticTiresias" "compactionThreshold"=4 "freeGpu"=0 "promoteKnob"=4 "queueNum"=2 "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":3,"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":2,"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":3,"tf2-keras-transformer-elastic-20210723-110548":2,"tf2-keras-transformer-elastic-20210723-111631":2} "scheduler"="default" "thresholds"=
I0723 11:21:08.315385   13823 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 11:21:08.315585   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 11:21:08.315767   13823 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=["tf2-keras-cifar10-inceptionv3-elastic-20210723-111952"] "scheduler"="default"
I0723 11:21:08.328210   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=["tf2-keras-cifar10-inceptionv3-elastic-20210723-110304"] "scheduler"="default"
I0723 11:21:08.351740   13823 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0723 11:21:08.351821   13823 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":{},"tf2-keras-cifar10-resnet50-elastic-20210723-110311":{},"tf2-keras-cifar10-vgg16-elastic-20210723-110413":{},"tf2-keras-transformer-elastic-20210723-110548":{},"tf2-keras-transformer-elastic-20210723-111631":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 11:21:08.351883   13823 placement_manager.go:250]  "msg"="Released slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":{},"tf2-keras-cifar10-resnet50-elastic-20210723-110311":{},"tf2-keras-cifar10-vgg16-elastic-20210723-110413":{},"tf2-keras-transformer-elastic-20210723-110548":{},"tf2-keras-transformer-elastic-20210723-111631":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 11:21:08.352308   13823 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{},{},{},{},{},{},{},{},{}] "scheduler"="default"
I0723 11:21:08.352712   13823 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=5
I0723 11:21:08.352985   13823 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":{},"tf2-keras-transformer-elastic-20210723-110548":{},"tf2-keras-transformer-elastic-20210723-111631":{}} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":{},"tf2-keras-cifar10-resnet50-elastic-20210723-110311":{},"tf2-keras-cifar10-vgg16-elastic-20210723-110413":{},"tf2-keras-transformer-elastic-20210723-110548":{},"tf2-keras-transformer-elastic-20210723-111631":{}} "scheduler"="default"
I0723 11:21:08.353380   13823 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=1 "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-1":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-2":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-1":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-1":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-2":"gpu5","tf2-keras-transformer-elastic-20210723-110548-worker-0":"gpu4","tf2-keras-transformer-elastic-20210723-110548-worker-1":"gpu4","tf2-keras-transformer-elastic-20210723-111631-worker-0":"gpu5","tf2-keras-transformer-elastic-20210723-111631-worker-1":"gpu3","tf2-keras-transformer-elastic-20210723-111631-worker-2":"gpu3"} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-1":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-1":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-110311-worker-0":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210723-110311-worker-1":"gpu3","tf2-keras-cifar10-vgg16-elastic-20210723-110413-worker-0":"gpu4","tf2-keras-cifar10-vgg16-elastic-20210723-110413-worker-1":"gpu4","tf2-keras-transformer-elastic-20210723-110548-worker-0":"gpu5","tf2-keras-transformer-elastic-20210723-110548-worker-1":"gpu5","tf2-keras-transformer-elastic-20210723-111631-worker-0":"gpu5","tf2-keras-transformer-elastic-20210723-111631-worker-1":"gpu5"} "scheduler"="default" "workersToDelete"=3
I0723 11:21:08.353792   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-111631-worker-1" "scheduler"="default"
I0723 11:21:08.367380   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-110548-worker-0" "scheduler"="default"
I0723 11:21:08.372234   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-110548-worker-1" "scheduler"="default"
I0723 11:21:08.380752   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-110548-launcher" "scheduler"="default"
I0723 11:21:08.389805   13823 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0723 11:21:08.390047   13823 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0723 11:21:08.393772   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-2" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 11:21:08.423612   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 11:21:08.737252   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 11:21:09.161304   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-2" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 11:21:09.563049   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 11:21:18.158782   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-110548-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 11:21:18.958866   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-110548-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 11:21:19.751658   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-111631-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 11:21:20.548337   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-110548-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 11:22:03.163182   13823 scheduler.go:559]  "msg"="Priority demoted to training job"  "job"="tf2-keras-transformer-elastic-20210723-110548" "priority"=1 "scheduler"="default"
I0723 11:22:03.163267   13823 scheduler.go:573]  "msg"="Priority changed"  "scheduler"="default"
I0723 11:22:03.163357   13823 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-23T11:23:08.390265482+08:00" "lastResched"="2021-07-23T11:21:08.390265482+08:00" "received"="2021-07-23T11:22:03.163282419+08:00" "scheduler"="default"
I0723 11:23:08.390314   13823 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0723 11:23:08.390366   13823 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0723 11:23:08.395472   13823 elastic_tiresias.go:160]  "msg"="Finished scheduling"  "algorithm"="ElasticTiresias" "compactionThreshold"=4 "freeGpu"=0 "promoteKnob"=4 "queueNum"=2 "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":3,"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":2,"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":3,"tf2-keras-transformer-elastic-20210723-110548":2,"tf2-keras-transformer-elastic-20210723-111631":2} "scheduler"="default" "thresholds"=
I0723 11:23:08.395730   13823 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 11:23:08.395903   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 11:23:08.396064   13823 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 11:23:08.396262   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 11:23:08.396437   13823 scheduler.go:180]  "msg"="Nothing changed, skipped ajust placements"  "scheduler"="default"
I0723 11:23:08.396453   13823 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0723 11:24:14.146239   13823 jobmaster.go:155]  "msg"="Training job created"  "job"="tf2-keras-cifar10-resnet50-elastic-20210723-112414"
I0723 11:24:14.146372   13823 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-23T11:25:08.39661684+08:00" "lastResched"="2021-07-23T11:23:08.39661684+08:00" "received"="2021-07-23T11:24:14.145632947+08:00" "scheduler"="default"
I0723 11:25:08.396679   13823 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0723 11:25:08.396735   13823 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0723 11:25:08.402581   13823 elastic_tiresias.go:160]  "msg"="Finished scheduling"  "algorithm"="ElasticTiresias" "compactionThreshold"=4 "freeGpu"=0 "promoteKnob"=4 "queueNum"=2 "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":2,"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":2,"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":2,"tf2-keras-cifar10-resnet50-elastic-20210723-112414":2,"tf2-keras-transformer-elastic-20210723-110548":2,"tf2-keras-transformer-elastic-20210723-111631":2} "scheduler"="default" "thresholds"=
I0723 11:25:08.402833   13823 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 11:25:08.403065   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=["tf2-keras-cifar10-inceptionv3-elastic-20210723-111952","tf2-keras-cifar10-inceptionv3-elastic-20210723-110304"] "scheduler"="default"
I0723 11:25:08.435674   13823 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=["tf2-keras-cifar10-resnet50-elastic-20210723-112414"] "scheduler"="default"
I0723 11:25:08.444705   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 11:25:08.447618   13823 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0723 11:25:08.447718   13823 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":{},"tf2-keras-transformer-elastic-20210723-110548":{},"tf2-keras-transformer-elastic-20210723-111631":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 11:25:08.447791   13823 placement_manager.go:250]  "msg"="Released slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":{},"tf2-keras-transformer-elastic-20210723-110548":{},"tf2-keras-transformer-elastic-20210723-111631":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 11:25:08.448310   13823 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{},{},{},{},{},{},{},{},{},{},{}] "scheduler"="default"
I0723 11:25:08.448686   13823 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=6
I0723 11:25:08.449008   13823 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":{},"tf2-keras-cifar10-resnet50-elastic-20210723-112414":{},"tf2-keras-transformer-elastic-20210723-110548":{},"tf2-keras-transformer-elastic-20210723-111631":{}} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":{},"tf2-keras-transformer-elastic-20210723-110548":{},"tf2-keras-transformer-elastic-20210723-111631":{}} "scheduler"="default"
I0723 11:25:08.449424   13823 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=2 "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-1":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-1":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-1":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210723-112414-worker-0":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210723-112414-worker-1":"gpu5","tf2-keras-transformer-elastic-20210723-110548-worker-0":"gpu4","tf2-keras-transformer-elastic-20210723-110548-worker-1":"gpu4","tf2-keras-transformer-elastic-20210723-111631-worker-0":"gpu4","tf2-keras-transformer-elastic-20210723-111631-worker-1":"gpu4"} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-1":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-2":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-1":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-1":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-2":"gpu5","tf2-keras-transformer-elastic-20210723-110548-worker-0":"gpu4","tf2-keras-transformer-elastic-20210723-110548-worker-1":"gpu4","tf2-keras-transformer-elastic-20210723-111631-worker-0":"gpu5","tf2-keras-transformer-elastic-20210723-111631-worker-1":"gpu3","tf2-keras-transformer-elastic-20210723-111631-worker-2":"gpu3"} "scheduler"="default" "workersToDelete"=4
I0723 11:25:08.449738   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-0" "scheduler"="default"
I0723 11:25:08.454282   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-1" "scheduler"="default"
I0723 11:25:08.459045   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-launcher" "scheduler"="default"
I0723 11:25:08.464184   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-111631-worker-0" "scheduler"="default"
I0723 11:25:08.468273   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-111631-worker-1" "scheduler"="default"
I0723 11:25:08.476750   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-111631-launcher" "scheduler"="default"
I0723 11:25:08.482004   13823 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0723 11:25:08.482299   13823 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0723 11:25:10.235833   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-112414-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 11:25:10.635758   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-112414-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 11:25:11.036936   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-112414-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 11:25:16.546784   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-111631-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 11:25:20.603593   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-111631-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 11:25:21.417378   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-111631-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 11:25:25.788924   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 11:25:26.574823   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 11:25:27.376760   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 11:28:40.203763   13823 jobmaster.go:155]  "msg"="Training job created"  "job"="tf2-keras-cifar10-inceptionv3-elastic-20210723-112840"
I0723 11:28:40.203898   13823 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-23T11:27:08.482581875+08:00" "lastResched"="2021-07-23T11:25:08.482581875+08:00" "received"="2021-07-23T11:28:40.203200379+08:00" "scheduler"="default"
I0723 11:28:40.204349   13823 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0723 11:28:40.204411   13823 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0723 11:28:40.211928   13823 elastic_tiresias.go:160]  "msg"="Finished scheduling"  "algorithm"="ElasticTiresias" "compactionThreshold"=4 "freeGpu"=0 "promoteKnob"=4 "queueNum"=2 "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":2,"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":2,"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":2,"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":2,"tf2-keras-cifar10-resnet50-elastic-20210723-112414":2,"tf2-keras-transformer-elastic-20210723-110548":0,"tf2-keras-transformer-elastic-20210723-111631":2} "scheduler"="default" "thresholds"=
I0723 11:28:40.212235   13823 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=["tf2-keras-transformer-elastic-20210723-110548"] "scheduler"="default"
I0723 11:28:40.223730   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 11:28:40.224008   13823 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=["tf2-keras-cifar10-inceptionv3-elastic-20210723-112840"] "scheduler"="default"
I0723 11:28:40.239397   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 11:28:40.242096   13823 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0723 11:28:40.242163   13823 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":{},"tf2-keras-cifar10-resnet50-elastic-20210723-112414":{},"tf2-keras-transformer-elastic-20210723-110548":{},"tf2-keras-transformer-elastic-20210723-111631":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 11:28:40.242230   13823 placement_manager.go:250]  "msg"="Released slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":{},"tf2-keras-cifar10-resnet50-elastic-20210723-112414":{},"tf2-keras-transformer-elastic-20210723-110548":{},"tf2-keras-transformer-elastic-20210723-111631":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 11:28:40.242666   13823 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{},{},{},{},{},{},{},{},{},{},{},{},{}] "scheduler"="default"
I0723 11:28:40.243028   13823 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=8
I0723 11:28:40.243498   13823 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":{},"tf2-keras-cifar10-resnet50-elastic-20210723-112414":{},"tf2-keras-transformer-elastic-20210723-111631":{}} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":{},"tf2-keras-cifar10-resnet50-elastic-20210723-112414":{},"tf2-keras-transformer-elastic-20210723-110548":{},"tf2-keras-transformer-elastic-20210723-111631":{}} "scheduler"="default"
I0723 11:28:40.243913   13823 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=1 "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-1":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-1":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-1":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-1":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210723-112414-worker-0":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210723-112414-worker-1":"gpu5","tf2-keras-transformer-elastic-20210723-111631-worker-0":"gpu4","tf2-keras-transformer-elastic-20210723-111631-worker-1":"gpu4"} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-1":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-1":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-1":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210723-112414-worker-0":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210723-112414-worker-1":"gpu5","tf2-keras-transformer-elastic-20210723-110548-worker-0":"gpu4","tf2-keras-transformer-elastic-20210723-110548-worker-1":"gpu4","tf2-keras-transformer-elastic-20210723-111631-worker-0":"gpu4","tf2-keras-transformer-elastic-20210723-111631-worker-1":"gpu4"} "scheduler"="default" "workersToDelete"=2
I0723 11:28:40.244229   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-0" "scheduler"="default"
I0723 11:28:40.253819   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-1" "scheduler"="default"
I0723 11:28:40.258130   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-launcher" "scheduler"="default"
I0723 11:28:40.264744   13823 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0723 11:28:40.265007   13823 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0723 11:28:40.304061   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 11:28:40.336496   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 11:28:40.345240   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 11:28:53.855601   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 11:28:53.885002   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 11:28:53.896139   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 11:28:58.135530   13823 jobmaster.go:155]  "msg"="Training job created"  "job"="tf2-keras-transformer-elastic-20210723-112858"
I0723 11:28:58.135668   13823 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-23T11:30:40.265305446+08:00" "lastResched"="2021-07-23T11:28:40.265305446+08:00" "received"="2021-07-23T11:28:58.134932662+08:00" "scheduler"="default"
I0723 11:29:24.091119   13823 jobmaster.go:155]  "msg"="Training job created"  "job"="tf2-keras-cifar10-vgg16-elastic-20210723-112924"
I0723 11:30:40.265389   13823 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0723 11:30:40.265454   13823 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0723 11:30:40.274252   13823 elastic_tiresias.go:160]  "msg"="Finished scheduling"  "algorithm"="ElasticTiresias" "compactionThreshold"=4 "freeGpu"=0 "promoteKnob"=4 "queueNum"=2 "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":2,"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":0,"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":2,"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":2,"tf2-keras-cifar10-resnet50-elastic-20210723-112414":2,"tf2-keras-cifar10-vgg16-elastic-20210723-112924":0,"tf2-keras-transformer-elastic-20210723-110548":0,"tf2-keras-transformer-elastic-20210723-111631":2,"tf2-keras-transformer-elastic-20210723-112858":2} "scheduler"="default" "thresholds"=
I0723 11:30:40.274532   13823 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=["tf2-keras-cifar10-inceptionv3-elastic-20210723-110316"] "scheduler"="default"
I0723 11:30:40.283675   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 11:30:40.283986   13823 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=["tf2-keras-transformer-elastic-20210723-112858"] "scheduler"="default"
I0723 11:30:40.294670   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 11:30:40.296823   13823 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0723 11:30:40.296869   13823 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":{},"tf2-keras-cifar10-resnet50-elastic-20210723-112414":{},"tf2-keras-transformer-elastic-20210723-111631":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 11:30:40.296904   13823 placement_manager.go:250]  "msg"="Released slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":{},"tf2-keras-cifar10-resnet50-elastic-20210723-112414":{},"tf2-keras-transformer-elastic-20210723-111631":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 11:30:40.297312   13823 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}] "scheduler"="default"
I0723 11:30:40.297554   13823 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=6
I0723 11:30:40.297789   13823 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":{},"tf2-keras-cifar10-resnet50-elastic-20210723-112414":{},"tf2-keras-transformer-elastic-20210723-111631":{},"tf2-keras-transformer-elastic-20210723-112858":{}} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":{},"tf2-keras-cifar10-resnet50-elastic-20210723-112414":{},"tf2-keras-transformer-elastic-20210723-111631":{}} "scheduler"="default"
I0723 11:30:40.298106   13823 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=2 "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-1":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-1":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-1":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210723-112414-worker-0":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-112414-worker-1":"gpu4","tf2-keras-transformer-elastic-20210723-111631-worker-0":"gpu4","tf2-keras-transformer-elastic-20210723-111631-worker-1":"gpu4","tf2-keras-transformer-elastic-20210723-112858-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-112858-worker-1":"gpu3"} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-1":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-1":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-1":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-1":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210723-112414-worker-0":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210723-112414-worker-1":"gpu5","tf2-keras-transformer-elastic-20210723-111631-worker-0":"gpu4","tf2-keras-transformer-elastic-20210723-111631-worker-1":"gpu4"} "scheduler"="default" "workersToDelete"=4
I0723 11:30:40.298304   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-112414-worker-0" "scheduler"="default"
I0723 11:30:40.307138   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-112414-worker-1" "scheduler"="default"
I0723 11:30:40.311960   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-112414-launcher" "scheduler"="default"
I0723 11:30:40.317994   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-0" "scheduler"="default"
I0723 11:30:40.322575   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-1" "scheduler"="default"
I0723 11:30:40.328074   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-launcher" "scheduler"="default"
I0723 11:30:40.333588   13823 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0723 11:30:40.333918   13823 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0723 11:30:40.349554   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-112858-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 11:30:40.501704   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-112858-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 11:30:41.105284   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-112858-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 11:30:46.891339   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 11:30:53.843407   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 11:30:53.876159   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 11:31:00.384329   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-112414-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 11:31:01.588489   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-112414-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 11:31:02.779737   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-112414-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 11:31:15.068479   13823 jobmaster.go:155]  "msg"="Training job created"  "job"="tf2-keras-cifar10-vgg16-elastic-20210723-113115"
I0723 11:31:15.068584   13823 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-23T11:32:40.334174689+08:00" "lastResched"="2021-07-23T11:30:40.334174689+08:00" "received"="2021-07-23T11:31:15.068088152+08:00" "scheduler"="default"
I0723 11:31:59.076069   13823 jobmaster.go:155]  "msg"="Training job created"  "job"="tf2-keras-cifar10-resnet50-elastic-20210723-113159"
I0723 11:32:00.997007   13823 jobmaster.go:155]  "msg"="Training job created"  "job"="tf2-keras-cifar10-inceptionv3-elastic-20210723-113200"
I0723 11:32:08.180188   13823 scheduler.go:559]  "msg"="Priority demoted to training job"  "job"="tf2-keras-transformer-elastic-20210723-111631" "priority"=1 "scheduler"="default"
I0723 11:32:08.180255   13823 scheduler.go:559]  "msg"="Priority demoted to training job"  "job"="tf2-keras-cifar10-inceptionv3-elastic-20210723-110304" "priority"=1 "scheduler"="default"
I0723 11:32:08.180291   13823 scheduler.go:573]  "msg"="Priority changed"  "scheduler"="default"
I0723 11:32:11.919177   13823 jobmaster.go:155]  "msg"="Training job created"  "job"="tf2-keras-transformer-elastic-20210723-113211"
I0723 11:32:14.837633   13823 jobmaster.go:155]  "msg"="Training job created"  "job"="tf2-keras-cifar10-inceptionv3-elastic-20210723-113214"
I0723 11:32:40.334310   13823 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0723 11:32:40.334371   13823 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0723 11:32:40.347391   13823 elastic_tiresias.go:160]  "msg"="Finished scheduling"  "algorithm"="ElasticTiresias" "compactionThreshold"=4 "freeGpu"=0 "promoteKnob"=4 "queueNum"=2 "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":0,"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":0,"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":2,"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":2,"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":0,"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":0,"tf2-keras-cifar10-resnet50-elastic-20210723-112414":2,"tf2-keras-cifar10-resnet50-elastic-20210723-113159":0,"tf2-keras-cifar10-vgg16-elastic-20210723-112924":2,"tf2-keras-cifar10-vgg16-elastic-20210723-113115":2,"tf2-keras-transformer-elastic-20210723-110548":0,"tf2-keras-transformer-elastic-20210723-111631":0,"tf2-keras-transformer-elastic-20210723-112858":2,"tf2-keras-transformer-elastic-20210723-113211":0} "scheduler"="default" "thresholds"=
I0723 11:32:40.347988   13823 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=["tf2-keras-cifar10-inceptionv3-elastic-20210723-110304","tf2-keras-transformer-elastic-20210723-111631"] "scheduler"="default"
I0723 11:32:40.370284   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 11:32:40.370614   13823 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=["tf2-keras-cifar10-vgg16-elastic-20210723-113115","tf2-keras-cifar10-vgg16-elastic-20210723-112924"] "scheduler"="default"
I0723 11:32:40.398294   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 11:32:40.401409   13823 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0723 11:32:40.401553   13823 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":{},"tf2-keras-cifar10-resnet50-elastic-20210723-112414":{},"tf2-keras-transformer-elastic-20210723-111631":{},"tf2-keras-transformer-elastic-20210723-112858":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 11:32:40.401630   13823 placement_manager.go:250]  "msg"="Released slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":{},"tf2-keras-cifar10-resnet50-elastic-20210723-112414":{},"tf2-keras-transformer-elastic-20210723-111631":{},"tf2-keras-transformer-elastic-20210723-112858":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 11:32:40.402126   13823 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}] "scheduler"="default"
I0723 11:32:40.402382   13823 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=6
I0723 11:32:40.402650   13823 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":{},"tf2-keras-cifar10-resnet50-elastic-20210723-112414":{},"tf2-keras-cifar10-vgg16-elastic-20210723-112924":{},"tf2-keras-cifar10-vgg16-elastic-20210723-113115":{},"tf2-keras-transformer-elastic-20210723-112858":{}} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":{},"tf2-keras-cifar10-resnet50-elastic-20210723-112414":{},"tf2-keras-transformer-elastic-20210723-111631":{},"tf2-keras-transformer-elastic-20210723-112858":{}} "scheduler"="default"
I0723 11:32:40.403002   13823 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=1 "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-1":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-1":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210723-112414-worker-0":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-112414-worker-1":"gpu4","tf2-keras-cifar10-vgg16-elastic-20210723-112924-worker-0":"gpu5","tf2-keras-cifar10-vgg16-elastic-20210723-112924-worker-1":"gpu5","tf2-keras-cifar10-vgg16-elastic-20210723-113115-worker-0":"gpu3","tf2-keras-cifar10-vgg16-elastic-20210723-113115-worker-1":"gpu3","tf2-keras-transformer-elastic-20210723-112858-worker-0":"gpu4","tf2-keras-transformer-elastic-20210723-112858-worker-1":"gpu4"} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-1":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-1":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-1":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210723-112414-worker-0":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-112414-worker-1":"gpu4","tf2-keras-transformer-elastic-20210723-111631-worker-0":"gpu4","tf2-keras-transformer-elastic-20210723-111631-worker-1":"gpu4","tf2-keras-transformer-elastic-20210723-112858-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-112858-worker-1":"gpu3"} "scheduler"="default" "workersToDelete"=2
I0723 11:32:40.403269   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-112858-worker-0" "scheduler"="default"
I0723 11:32:40.407862   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-112858-worker-1" "scheduler"="default"
I0723 11:32:40.412330   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-112858-launcher" "scheduler"="default"
I0723 11:32:40.430178   13823 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0723 11:32:40.430500   13823 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0723 11:32:40.600990   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-113115-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 11:32:40.799978   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-112924-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 11:32:40.996553   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-113115-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 11:32:41.412568   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-112924-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 11:32:41.809755   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-113115-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 11:32:42.214175   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-112924-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 11:32:49.754418   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-112858-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 11:32:49.901328   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-112858-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 11:32:49.929493   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-112858-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 11:34:08.184208   13823 scheduler.go:559]  "msg"="Priority demoted to training job"  "job"="tf2-keras-cifar10-inceptionv3-elastic-20210723-111952" "priority"=1 "scheduler"="default"
I0723 11:34:08.184304   13823 scheduler.go:573]  "msg"="Priority changed"  "scheduler"="default"
I0723 11:34:08.184414   13823 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-23T11:34:40.430742284+08:00" "lastResched"="2021-07-23T11:32:40.430742284+08:00" "received"="2021-07-23T11:34:08.184316096+08:00" "scheduler"="default"
I0723 11:34:40.430786   13823 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0723 11:34:40.430839   13823 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0723 11:34:40.443242   13823 elastic_tiresias.go:160]  "msg"="Finished scheduling"  "algorithm"="ElasticTiresias" "compactionThreshold"=4 "freeGpu"=0 "promoteKnob"=4 "queueNum"=2 "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":0,"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":0,"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":0,"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":2,"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":0,"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":0,"tf2-keras-cifar10-resnet50-elastic-20210723-112414":2,"tf2-keras-cifar10-resnet50-elastic-20210723-113159":2,"tf2-keras-cifar10-vgg16-elastic-20210723-112924":2,"tf2-keras-cifar10-vgg16-elastic-20210723-113115":2,"tf2-keras-transformer-elastic-20210723-110548":0,"tf2-keras-transformer-elastic-20210723-111631":0,"tf2-keras-transformer-elastic-20210723-112858":2,"tf2-keras-transformer-elastic-20210723-113211":0} "scheduler"="default" "thresholds"=
I0723 11:34:40.443606   13823 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=["tf2-keras-cifar10-inceptionv3-elastic-20210723-111952"] "scheduler"="default"
I0723 11:34:40.454192   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 11:34:40.454483   13823 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=["tf2-keras-cifar10-resnet50-elastic-20210723-113159"] "scheduler"="default"
I0723 11:34:40.471117   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 11:34:40.473724   13823 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0723 11:34:40.473781   13823 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":{},"tf2-keras-cifar10-resnet50-elastic-20210723-112414":{},"tf2-keras-cifar10-vgg16-elastic-20210723-112924":{},"tf2-keras-cifar10-vgg16-elastic-20210723-113115":{},"tf2-keras-transformer-elastic-20210723-112858":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 11:34:40.473838   13823 placement_manager.go:250]  "msg"="Released slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":{},"tf2-keras-cifar10-resnet50-elastic-20210723-112414":{},"tf2-keras-cifar10-vgg16-elastic-20210723-112924":{},"tf2-keras-cifar10-vgg16-elastic-20210723-113115":{},"tf2-keras-transformer-elastic-20210723-112858":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 11:34:40.474157   13823 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}] "scheduler"="default"
I0723 11:34:40.474366   13823 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=8
I0723 11:34:40.474599   13823 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":{},"tf2-keras-cifar10-resnet50-elastic-20210723-112414":{},"tf2-keras-cifar10-resnet50-elastic-20210723-113159":{},"tf2-keras-cifar10-vgg16-elastic-20210723-112924":{},"tf2-keras-cifar10-vgg16-elastic-20210723-113115":{},"tf2-keras-transformer-elastic-20210723-112858":{}} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":{},"tf2-keras-cifar10-resnet50-elastic-20210723-112414":{},"tf2-keras-cifar10-vgg16-elastic-20210723-112924":{},"tf2-keras-cifar10-vgg16-elastic-20210723-113115":{},"tf2-keras-transformer-elastic-20210723-112858":{}} "scheduler"="default"
I0723 11:34:40.474978   13823 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=1 "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-1":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210723-112414-worker-0":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210723-112414-worker-1":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210723-113159-worker-0":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-113159-worker-1":"gpu4","tf2-keras-cifar10-vgg16-elastic-20210723-112924-worker-0":"gpu5","tf2-keras-cifar10-vgg16-elastic-20210723-112924-worker-1":"gpu5","tf2-keras-cifar10-vgg16-elastic-20210723-113115-worker-0":"gpu3","tf2-keras-cifar10-vgg16-elastic-20210723-113115-worker-1":"gpu3","tf2-keras-transformer-elastic-20210723-112858-worker-0":"gpu4","tf2-keras-transformer-elastic-20210723-112858-worker-1":"gpu4"} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-1":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-1":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210723-112414-worker-0":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-112414-worker-1":"gpu4","tf2-keras-cifar10-vgg16-elastic-20210723-112924-worker-0":"gpu5","tf2-keras-cifar10-vgg16-elastic-20210723-112924-worker-1":"gpu5","tf2-keras-cifar10-vgg16-elastic-20210723-113115-worker-0":"gpu3","tf2-keras-cifar10-vgg16-elastic-20210723-113115-worker-1":"gpu3","tf2-keras-transformer-elastic-20210723-112858-worker-0":"gpu4","tf2-keras-transformer-elastic-20210723-112858-worker-1":"gpu4"} "scheduler"="default" "workersToDelete"=2
I0723 11:34:40.475215   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-112414-worker-0" "scheduler"="default"
I0723 11:34:40.479103   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-112414-worker-1" "scheduler"="default"
I0723 11:34:40.488702   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-112414-launcher" "scheduler"="default"
I0723 11:34:40.502817   13823 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0723 11:34:40.503130   13823 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0723 11:34:40.532328   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-113159-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 11:34:40.567237   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-113159-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 11:34:40.678113   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-113159-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 11:34:45.929270   13823 jobmaster.go:155]  "msg"="Training job created"  "job"="tf2-keras-cifar10-resnet50-elastic-20210723-113445"
I0723 11:34:45.929383   13823 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-23T11:36:40.503375531+08:00" "lastResched"="2021-07-23T11:34:40.503375531+08:00" "received"="2021-07-23T11:34:45.928648244+08:00" "scheduler"="default"
I0723 11:34:49.750902   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-112414-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 11:34:54.599235   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-112414-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 11:34:54.661448   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-112414-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 11:36:40.503439   13823 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0723 11:36:40.503488   13823 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0723 11:36:40.516582   13823 elastic_tiresias.go:160]  "msg"="Finished scheduling"  "algorithm"="ElasticTiresias" "compactionThreshold"=4 "freeGpu"=0 "promoteKnob"=4 "queueNum"=2 "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":0,"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":0,"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":0,"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":2,"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":0,"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":0,"tf2-keras-cifar10-resnet50-elastic-20210723-112414":2,"tf2-keras-cifar10-resnet50-elastic-20210723-113159":2,"tf2-keras-cifar10-resnet50-elastic-20210723-113445":0,"tf2-keras-cifar10-vgg16-elastic-20210723-112924":2,"tf2-keras-cifar10-vgg16-elastic-20210723-113115":2,"tf2-keras-transformer-elastic-20210723-110548":0,"tf2-keras-transformer-elastic-20210723-111631":0,"tf2-keras-transformer-elastic-20210723-112858":2,"tf2-keras-transformer-elastic-20210723-113211":0} "scheduler"="default" "thresholds"=
I0723 11:36:40.516925   13823 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 11:36:40.517200   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 11:36:40.517423   13823 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 11:36:40.517634   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 11:36:40.517878   13823 scheduler.go:180]  "msg"="Nothing changed, skipped ajust placements"  "scheduler"="default"
I0723 11:36:40.517909   13823 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0723 11:40:08.195819   13823 scheduler.go:559]  "msg"="Priority demoted to training job"  "job"="tf2-keras-cifar10-resnet50-elastic-20210723-112414" "priority"=1 "scheduler"="default"
I0723 11:40:08.195888   13823 scheduler.go:573]  "msg"="Priority changed"  "scheduler"="default"
I0723 11:40:08.195975   13823 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-23T11:38:40.518102542+08:00" "lastResched"="2021-07-23T11:36:40.518102542+08:00" "received"="2021-07-23T11:40:08.195898883+08:00" "scheduler"="default"
I0723 11:40:08.196009   13823 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0723 11:40:08.196037   13823 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0723 11:40:08.209737   13823 elastic_tiresias.go:160]  "msg"="Finished scheduling"  "algorithm"="ElasticTiresias" "compactionThreshold"=4 "freeGpu"=0 "promoteKnob"=4 "queueNum"=2 "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":0,"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":0,"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":0,"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":2,"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":2,"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":0,"tf2-keras-cifar10-resnet50-elastic-20210723-112414":0,"tf2-keras-cifar10-resnet50-elastic-20210723-113159":2,"tf2-keras-cifar10-resnet50-elastic-20210723-113445":0,"tf2-keras-cifar10-vgg16-elastic-20210723-112924":2,"tf2-keras-cifar10-vgg16-elastic-20210723-113115":2,"tf2-keras-transformer-elastic-20210723-110548":0,"tf2-keras-transformer-elastic-20210723-111631":0,"tf2-keras-transformer-elastic-20210723-112858":2,"tf2-keras-transformer-elastic-20210723-113211":0} "scheduler"="default" "thresholds"=
I0723 11:40:08.210047   13823 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=["tf2-keras-cifar10-resnet50-elastic-20210723-112414"] "scheduler"="default"
I0723 11:40:08.219694   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 11:40:08.219927   13823 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=["tf2-keras-cifar10-inceptionv3-elastic-20210723-113200"] "scheduler"="default"
I0723 11:40:08.235090   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 11:40:08.237420   13823 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0723 11:40:08.237480   13823 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":{},"tf2-keras-cifar10-resnet50-elastic-20210723-112414":{},"tf2-keras-cifar10-resnet50-elastic-20210723-113159":{},"tf2-keras-cifar10-vgg16-elastic-20210723-112924":{},"tf2-keras-cifar10-vgg16-elastic-20210723-113115":{},"tf2-keras-transformer-elastic-20210723-112858":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 11:40:08.237527   13823 placement_manager.go:250]  "msg"="Released slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":{},"tf2-keras-cifar10-resnet50-elastic-20210723-112414":{},"tf2-keras-cifar10-resnet50-elastic-20210723-113159":{},"tf2-keras-cifar10-vgg16-elastic-20210723-112924":{},"tf2-keras-cifar10-vgg16-elastic-20210723-113115":{},"tf2-keras-transformer-elastic-20210723-112858":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 11:40:08.237884   13823 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}] "scheduler"="default"
I0723 11:40:08.238182   13823 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=6
I0723 11:40:08.238565   13823 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":{},"tf2-keras-cifar10-resnet50-elastic-20210723-113159":{},"tf2-keras-cifar10-vgg16-elastic-20210723-112924":{},"tf2-keras-cifar10-vgg16-elastic-20210723-113115":{},"tf2-keras-transformer-elastic-20210723-112858":{}} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":{},"tf2-keras-cifar10-resnet50-elastic-20210723-112414":{},"tf2-keras-cifar10-resnet50-elastic-20210723-113159":{},"tf2-keras-cifar10-vgg16-elastic-20210723-112924":{},"tf2-keras-cifar10-vgg16-elastic-20210723-113115":{},"tf2-keras-transformer-elastic-20210723-112858":{}} "scheduler"="default"
I0723 11:40:08.239110   13823 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=2 "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-1":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-1":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210723-113159-worker-0":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-113159-worker-1":"gpu4","tf2-keras-cifar10-vgg16-elastic-20210723-112924-worker-0":"gpu5","tf2-keras-cifar10-vgg16-elastic-20210723-112924-worker-1":"gpu5","tf2-keras-cifar10-vgg16-elastic-20210723-113115-worker-0":"gpu3","tf2-keras-cifar10-vgg16-elastic-20210723-113115-worker-1":"gpu3","tf2-keras-transformer-elastic-20210723-112858-worker-0":"gpu5","tf2-keras-transformer-elastic-20210723-112858-worker-1":"gpu5"} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-1":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210723-112414-worker-0":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210723-112414-worker-1":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210723-113159-worker-0":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-113159-worker-1":"gpu4","tf2-keras-cifar10-vgg16-elastic-20210723-112924-worker-0":"gpu5","tf2-keras-cifar10-vgg16-elastic-20210723-112924-worker-1":"gpu5","tf2-keras-cifar10-vgg16-elastic-20210723-113115-worker-0":"gpu3","tf2-keras-cifar10-vgg16-elastic-20210723-113115-worker-1":"gpu3","tf2-keras-transformer-elastic-20210723-112858-worker-0":"gpu4","tf2-keras-transformer-elastic-20210723-112858-worker-1":"gpu4"} "scheduler"="default" "workersToDelete"=4
I0723 11:40:08.239447   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-0" "scheduler"="default"
I0723 11:40:08.250034   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-1" "scheduler"="default"
I0723 11:40:08.254212   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-launcher" "scheduler"="default"
I0723 11:40:08.260213   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-112858-worker-0" "scheduler"="default"
I0723 11:40:08.274019   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-112858-worker-1" "scheduler"="default"
I0723 11:40:08.278043   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-112858-launcher" "scheduler"="default"
I0723 11:40:08.283826   13823 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0723 11:40:08.284073   13823 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0723 11:40:08.302398   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 11:40:08.443448   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 11:40:09.052407   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 11:40:16.987648   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-112858-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 11:40:19.756507   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 11:40:19.800061   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-112858-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 11:40:24.515772   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 11:40:24.580460   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-112858-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 11:40:25.303280   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 11:43:43.203331   13823 scheduler.go:559]  "msg"="Priority demoted to training job"  "job"="tf2-keras-cifar10-inceptionv3-elastic-20210723-112840" "priority"=1 "scheduler"="default"
I0723 11:43:43.203422   13823 scheduler.go:573]  "msg"="Priority changed"  "scheduler"="default"
I0723 11:43:43.203497   13823 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-23T11:42:08.284248087+08:00" "lastResched"="2021-07-23T11:40:08.284248087+08:00" "received"="2021-07-23T11:43:43.203431497+08:00" "scheduler"="default"
I0723 11:43:43.203526   13823 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0723 11:43:43.203582   13823 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0723 11:43:43.216693   13823 elastic_tiresias.go:160]  "msg"="Finished scheduling"  "algorithm"="ElasticTiresias" "compactionThreshold"=4 "freeGpu"=0 "promoteKnob"=4 "queueNum"=2 "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":0,"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":0,"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":0,"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":0,"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":2,"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":0,"tf2-keras-cifar10-resnet50-elastic-20210723-112414":0,"tf2-keras-cifar10-resnet50-elastic-20210723-113159":2,"tf2-keras-cifar10-resnet50-elastic-20210723-113445":0,"tf2-keras-cifar10-vgg16-elastic-20210723-112924":2,"tf2-keras-cifar10-vgg16-elastic-20210723-113115":2,"tf2-keras-transformer-elastic-20210723-110548":0,"tf2-keras-transformer-elastic-20210723-111631":0,"tf2-keras-transformer-elastic-20210723-112858":2,"tf2-keras-transformer-elastic-20210723-113211":2} "scheduler"="default" "thresholds"=
I0723 11:43:43.217003   13823 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=["tf2-keras-cifar10-inceptionv3-elastic-20210723-112840"] "scheduler"="default"
I0723 11:43:43.226696   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 11:43:43.226958   13823 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=["tf2-keras-transformer-elastic-20210723-113211"] "scheduler"="default"
I0723 11:43:43.258600   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 11:43:43.261779   13823 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0723 11:43:43.261850   13823 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":{},"tf2-keras-cifar10-resnet50-elastic-20210723-113159":{},"tf2-keras-cifar10-vgg16-elastic-20210723-112924":{},"tf2-keras-cifar10-vgg16-elastic-20210723-113115":{},"tf2-keras-transformer-elastic-20210723-112858":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 11:43:43.261923   13823 placement_manager.go:250]  "msg"="Released slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":{},"tf2-keras-cifar10-resnet50-elastic-20210723-113159":{},"tf2-keras-cifar10-vgg16-elastic-20210723-112924":{},"tf2-keras-cifar10-vgg16-elastic-20210723-113115":{},"tf2-keras-transformer-elastic-20210723-112858":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 11:43:43.262323   13823 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}] "scheduler"="default"
I0723 11:43:43.262609   13823 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=6
I0723 11:43:43.262896   13823 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":{},"tf2-keras-cifar10-resnet50-elastic-20210723-113159":{},"tf2-keras-cifar10-vgg16-elastic-20210723-112924":{},"tf2-keras-cifar10-vgg16-elastic-20210723-113115":{},"tf2-keras-transformer-elastic-20210723-112858":{},"tf2-keras-transformer-elastic-20210723-113211":{}} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":{},"tf2-keras-cifar10-resnet50-elastic-20210723-113159":{},"tf2-keras-cifar10-vgg16-elastic-20210723-112924":{},"tf2-keras-cifar10-vgg16-elastic-20210723-113115":{},"tf2-keras-transformer-elastic-20210723-112858":{}} "scheduler"="default"
I0723 11:43:43.263264   13823 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=2 "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-1":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-113159-worker-0":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-113159-worker-1":"gpu4","tf2-keras-cifar10-vgg16-elastic-20210723-112924-worker-0":"gpu3","tf2-keras-cifar10-vgg16-elastic-20210723-112924-worker-1":"gpu3","tf2-keras-cifar10-vgg16-elastic-20210723-113115-worker-0":"gpu3","tf2-keras-cifar10-vgg16-elastic-20210723-113115-worker-1":"gpu3","tf2-keras-transformer-elastic-20210723-112858-worker-0":"gpu5","tf2-keras-transformer-elastic-20210723-112858-worker-1":"gpu5","tf2-keras-transformer-elastic-20210723-113211-worker-0":"gpu5","tf2-keras-transformer-elastic-20210723-113211-worker-1":"gpu5"} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-1":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-1":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210723-113159-worker-0":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-113159-worker-1":"gpu4","tf2-keras-cifar10-vgg16-elastic-20210723-112924-worker-0":"gpu5","tf2-keras-cifar10-vgg16-elastic-20210723-112924-worker-1":"gpu5","tf2-keras-cifar10-vgg16-elastic-20210723-113115-worker-0":"gpu3","tf2-keras-cifar10-vgg16-elastic-20210723-113115-worker-1":"gpu3","tf2-keras-transformer-elastic-20210723-112858-worker-0":"gpu5","tf2-keras-transformer-elastic-20210723-112858-worker-1":"gpu5"} "scheduler"="default" "workersToDelete"=4
I0723 11:43:43.263625   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-112924-worker-0" "scheduler"="default"
I0723 11:43:43.268733   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-112924-worker-1" "scheduler"="default"
I0723 11:43:43.273568   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-112924-launcher" "scheduler"="default"
I0723 11:43:43.290110   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-0" "scheduler"="default"
I0723 11:43:43.293940   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-1" "scheduler"="default"
I0723 11:43:43.298634   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-launcher" "scheduler"="default"
I0723 11:43:43.310972   13823 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0723 11:43:43.311250   13823 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0723 11:43:43.468647   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-113211-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 11:43:43.666436   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-113211-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 11:43:44.072884   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-113211-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 11:44:01.265068   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-112924-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 11:44:02.071721   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-112924-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 11:44:02.875227   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-112924-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 11:44:03.669220   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 11:44:04.540372   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 11:44:05.333927   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 11:45:31.766194   13823 scheduler.go:474]  "msg"="Training job completed"  "elaspedTotalSeconds"=853.138409878 "gpuTotalSeconds"=1540.051477982 "job"="tf2-keras-cifar10-vgg16-elastic-20210723-113115" "ranTotalSeconds"=770.025738991 "scheduler"="default" "waitedTotalSeconds"=83.112670887
I0723 11:45:31.766297   13823 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-23T11:45:43.311504142+08:00" "lastResched"="2021-07-23T11:43:43.311504142+08:00" "received"="2021-07-23T11:45:31.766226453+08:00" "scheduler"="default"
I0723 11:45:38.207303   13823 scheduler.go:559]  "msg"="Priority demoted to training job"  "job"="tf2-keras-transformer-elastic-20210723-112858" "priority"=1 "scheduler"="default"
I0723 11:45:38.207395   13823 scheduler.go:573]  "msg"="Priority changed"  "scheduler"="default"
I0723 11:45:43.311563   13823 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0723 11:45:43.311619   13823 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0723 11:45:43.323948   13823 elastic_tiresias.go:160]  "msg"="Finished scheduling"  "algorithm"="ElasticTiresias" "compactionThreshold"=4 "freeGpu"=0 "promoteKnob"=4 "queueNum"=2 "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":0,"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":0,"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":0,"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":0,"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":2,"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":2,"tf2-keras-cifar10-resnet50-elastic-20210723-112414":0,"tf2-keras-cifar10-resnet50-elastic-20210723-113159":2,"tf2-keras-cifar10-resnet50-elastic-20210723-113445":2,"tf2-keras-cifar10-vgg16-elastic-20210723-112924":2,"tf2-keras-transformer-elastic-20210723-110548":0,"tf2-keras-transformer-elastic-20210723-111631":0,"tf2-keras-transformer-elastic-20210723-112858":0,"tf2-keras-transformer-elastic-20210723-113211":2} "scheduler"="default" "thresholds"=
I0723 11:45:43.324301   13823 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=["tf2-keras-transformer-elastic-20210723-112858"] "scheduler"="default"
I0723 11:45:43.334308   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 11:45:43.334563   13823 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=["tf2-keras-cifar10-inceptionv3-elastic-20210723-113214","tf2-keras-cifar10-resnet50-elastic-20210723-113445"] "scheduler"="default"
I0723 11:45:43.362012   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 11:45:43.365475   13823 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0723 11:45:43.365558   13823 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":{},"tf2-keras-cifar10-resnet50-elastic-20210723-113159":{},"tf2-keras-cifar10-vgg16-elastic-20210723-112924":{},"tf2-keras-cifar10-vgg16-elastic-20210723-113115":{},"tf2-keras-transformer-elastic-20210723-112858":{},"tf2-keras-transformer-elastic-20210723-113211":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 11:45:43.365630   13823 placement_manager.go:250]  "msg"="Released slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":{},"tf2-keras-cifar10-resnet50-elastic-20210723-113159":{},"tf2-keras-cifar10-vgg16-elastic-20210723-112924":{},"tf2-keras-cifar10-vgg16-elastic-20210723-113115":{},"tf2-keras-transformer-elastic-20210723-112858":{},"tf2-keras-transformer-elastic-20210723-113211":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 11:45:43.366042   13823 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}] "scheduler"="default"
I0723 11:45:43.366409   13823 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=6
I0723 11:45:43.366896   13823 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":{},"tf2-keras-cifar10-resnet50-elastic-20210723-113159":{},"tf2-keras-cifar10-resnet50-elastic-20210723-113445":{},"tf2-keras-cifar10-vgg16-elastic-20210723-112924":{},"tf2-keras-transformer-elastic-20210723-113211":{}} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":{},"tf2-keras-cifar10-resnet50-elastic-20210723-113159":{},"tf2-keras-cifar10-vgg16-elastic-20210723-112924":{},"tf2-keras-cifar10-vgg16-elastic-20210723-113115":{},"tf2-keras-transformer-elastic-20210723-112858":{},"tf2-keras-transformer-elastic-20210723-113211":{}} "scheduler"="default"
I0723 11:45:43.367250   13823 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=1 "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-1":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-113214-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-113214-worker-1":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-113159-worker-0":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-113159-worker-1":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-113445-worker-0":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210723-113445-worker-1":"gpu5","tf2-keras-cifar10-vgg16-elastic-20210723-112924-worker-0":"gpu3","tf2-keras-cifar10-vgg16-elastic-20210723-112924-worker-1":"gpu3","tf2-keras-transformer-elastic-20210723-113211-worker-0":"gpu5","tf2-keras-transformer-elastic-20210723-113211-worker-1":"gpu5"} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-1":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-113159-worker-0":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-113159-worker-1":"gpu4","tf2-keras-cifar10-vgg16-elastic-20210723-112924-worker-0":"gpu3","tf2-keras-cifar10-vgg16-elastic-20210723-112924-worker-1":"gpu3","tf2-keras-cifar10-vgg16-elastic-20210723-113115-worker-0":"gpu3","tf2-keras-cifar10-vgg16-elastic-20210723-113115-worker-1":"gpu3","tf2-keras-transformer-elastic-20210723-112858-worker-0":"gpu5","tf2-keras-transformer-elastic-20210723-112858-worker-1":"gpu5","tf2-keras-transformer-elastic-20210723-113211-worker-0":"gpu5","tf2-keras-transformer-elastic-20210723-113211-worker-1":"gpu5"} "scheduler"="default" "workersToDelete"=2
I0723 11:45:43.367683   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-0" "scheduler"="default"
I0723 11:45:43.374630   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-1" "scheduler"="default"
I0723 11:45:43.378542   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-launcher" "scheduler"="default"
I0723 11:45:43.389053   13823 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0723 11:45:43.389396   13823 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0723 11:45:43.566490   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-113214-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 11:45:43.763826   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-113445-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 11:45:43.960892   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-113214-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 11:45:44.377709   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-113445-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 11:45:44.774501   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-113214-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 11:45:45.178955   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-113445-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 11:45:51.304102   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 11:45:54.962953   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 11:45:55.353711   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 11:46:11.992764   13823 scheduler.go:474]  "msg"="Training job completed"  "elaspedTotalSeconds"=1004.117063006 "gpuTotalSeconds"=1620.054087532 "job"="tf2-keras-cifar10-vgg16-elastic-20210723-112924" "ranTotalSeconds"=810.027043766 "scheduler"="default" "waitedTotalSeconds"=194.09001924
I0723 11:46:11.992897   13823 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-23T11:47:43.389653769+08:00" "lastResched"="2021-07-23T11:45:43.389653769+08:00" "received"="2021-07-23T11:46:11.992805555+08:00" "scheduler"="default"
I0723 11:47:43.389711   13823 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0723 11:47:43.389765   13823 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0723 11:47:43.399912   13823 elastic_tiresias.go:160]  "msg"="Finished scheduling"  "algorithm"="ElasticTiresias" "compactionThreshold"=4 "freeGpu"=0 "promoteKnob"=4 "queueNum"=2 "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":1,"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":0,"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":0,"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":0,"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":3,"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":2,"tf2-keras-cifar10-resnet50-elastic-20210723-112414":0,"tf2-keras-cifar10-resnet50-elastic-20210723-113159":2,"tf2-keras-cifar10-resnet50-elastic-20210723-113445":2,"tf2-keras-transformer-elastic-20210723-110548":0,"tf2-keras-transformer-elastic-20210723-111631":0,"tf2-keras-transformer-elastic-20210723-112858":0,"tf2-keras-transformer-elastic-20210723-113211":2} "scheduler"="default" "thresholds"=
I0723 11:47:43.400197   13823 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 11:47:43.400421   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 11:47:43.400602   13823 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=["tf2-keras-cifar10-inceptionv3-elastic-20210723-110304"] "scheduler"="default"
I0723 11:47:43.410882   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=["tf2-keras-cifar10-inceptionv3-elastic-20210723-113200"] "scheduler"="default"
I0723 11:47:43.428457   13823 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0723 11:47:43.428510   13823 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":{},"tf2-keras-cifar10-resnet50-elastic-20210723-113159":{},"tf2-keras-cifar10-resnet50-elastic-20210723-113445":{},"tf2-keras-cifar10-vgg16-elastic-20210723-112924":{},"tf2-keras-transformer-elastic-20210723-113211":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 11:47:43.428561   13823 placement_manager.go:250]  "msg"="Released slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":{},"tf2-keras-cifar10-resnet50-elastic-20210723-113159":{},"tf2-keras-cifar10-resnet50-elastic-20210723-113445":{},"tf2-keras-cifar10-vgg16-elastic-20210723-112924":{},"tf2-keras-transformer-elastic-20210723-113211":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 11:47:43.428918   13823 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}] "scheduler"="default"
I0723 11:47:43.429203   13823 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=6
I0723 11:47:43.429445   13823 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":{},"tf2-keras-cifar10-resnet50-elastic-20210723-113159":{},"tf2-keras-cifar10-resnet50-elastic-20210723-113445":{},"tf2-keras-transformer-elastic-20210723-113211":{}} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":{},"tf2-keras-cifar10-resnet50-elastic-20210723-113159":{},"tf2-keras-cifar10-resnet50-elastic-20210723-113445":{},"tf2-keras-cifar10-vgg16-elastic-20210723-112924":{},"tf2-keras-transformer-elastic-20210723-113211":{}} "scheduler"="default"
I0723 11:47:43.429723   13823 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=2 "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-1":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-2":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-113214-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-113214-worker-1":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-113159-worker-0":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210723-113159-worker-1":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210723-113445-worker-0":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210723-113445-worker-1":"gpu5","tf2-keras-transformer-elastic-20210723-113211-worker-0":"gpu4","tf2-keras-transformer-elastic-20210723-113211-worker-1":"gpu4"} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-1":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-113214-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-113214-worker-1":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-113159-worker-0":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-113159-worker-1":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-113445-worker-0":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210723-113445-worker-1":"gpu5","tf2-keras-cifar10-vgg16-elastic-20210723-112924-worker-0":"gpu3","tf2-keras-cifar10-vgg16-elastic-20210723-112924-worker-1":"gpu3","tf2-keras-transformer-elastic-20210723-113211-worker-0":"gpu5","tf2-keras-transformer-elastic-20210723-113211-worker-1":"gpu5"} "scheduler"="default" "workersToDelete"=4
I0723 11:47:43.430007   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-113211-worker-0" "scheduler"="default"
I0723 11:47:43.448013   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-113211-worker-1" "scheduler"="default"
I0723 11:47:43.452948   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-113211-launcher" "scheduler"="default"
I0723 11:47:43.460304   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-113159-worker-0" "scheduler"="default"
I0723 11:47:43.467476   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-113159-worker-1" "scheduler"="default"
I0723 11:47:43.470672   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-113159-launcher" "scheduler"="default"
I0723 11:47:43.474934   13823 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0723 11:47:43.475179   13823 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0723 11:47:43.476658   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-2" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 11:47:43.617879   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 11:47:44.019240   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 11:47:48.210666   13823 scheduler.go:565]  "msg"="Priority promoted to training job"  "job"="tf2-keras-cifar10-inceptionv3-elastic-20210723-110304" "priority"=0 "scheduler"="default"
I0723 11:47:48.210723   13823 scheduler.go:573]  "msg"="Priority changed"  "scheduler"="default"
I0723 11:47:48.210783   13823 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-23T11:49:43.475389372+08:00" "lastResched"="2021-07-23T11:47:43.475389372+08:00" "received"="2021-07-23T11:47:48.210731214+08:00" "scheduler"="default"
I0723 11:47:50.563174   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-113211-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 11:47:50.587970   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-113211-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 11:47:52.925054   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-113159-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 11:47:52.958929   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-113159-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 11:47:52.968011   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-113211-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 11:47:52.992287   13823 jobmaster.go:155]  "msg"="Training job created"  "job"="tf2-keras-cifar10-vgg16-elastic-20210723-114752"
I0723 11:47:53.073481   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-113159-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 11:49:01.002640   13823 scheduler.go:474]  "msg"="Training job completed"  "elaspedTotalSeconds"=1019.136476159 "gpuTotalSeconds"=1720.055007656 "job"="tf2-keras-cifar10-resnet50-elastic-20210723-113159" "ranTotalSeconds"=860.027503828 "scheduler"="default" "waitedTotalSeconds"=159.108972331
I0723 11:49:43.475424   13823 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0723 11:49:43.475464   13823 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0723 11:49:43.485958   13823 elastic_tiresias.go:160]  "msg"="Finished scheduling"  "algorithm"="ElasticTiresias" "compactionThreshold"=4 "freeGpu"=0 "promoteKnob"=4 "queueNum"=2 "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":2,"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":0,"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":0,"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":0,"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":2,"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":2,"tf2-keras-cifar10-resnet50-elastic-20210723-112414":0,"tf2-keras-cifar10-resnet50-elastic-20210723-113445":2,"tf2-keras-cifar10-vgg16-elastic-20210723-114752":2,"tf2-keras-transformer-elastic-20210723-110548":0,"tf2-keras-transformer-elastic-20210723-111631":0,"tf2-keras-transformer-elastic-20210723-112858":0,"tf2-keras-transformer-elastic-20210723-113211":2} "scheduler"="default" "thresholds"=
I0723 11:49:43.486236   13823 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 11:49:43.486450   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=["tf2-keras-cifar10-inceptionv3-elastic-20210723-113200"] "scheduler"="default"
I0723 11:49:43.503515   13823 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=["tf2-keras-cifar10-vgg16-elastic-20210723-114752"] "scheduler"="default"
I0723 11:49:43.511918   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=["tf2-keras-cifar10-inceptionv3-elastic-20210723-110304"] "scheduler"="default"
I0723 11:49:43.531241   13823 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0723 11:49:43.531301   13823 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":{},"tf2-keras-cifar10-resnet50-elastic-20210723-113159":{},"tf2-keras-cifar10-resnet50-elastic-20210723-113445":{},"tf2-keras-transformer-elastic-20210723-113211":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 11:49:43.531354   13823 placement_manager.go:250]  "msg"="Released slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":{},"tf2-keras-cifar10-resnet50-elastic-20210723-113159":{},"tf2-keras-cifar10-resnet50-elastic-20210723-113445":{},"tf2-keras-transformer-elastic-20210723-113211":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 11:49:43.531764   13823 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}] "scheduler"="default"
I0723 11:49:43.532066   13823 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=6
I0723 11:49:43.532473   13823 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":{},"tf2-keras-cifar10-resnet50-elastic-20210723-113445":{},"tf2-keras-cifar10-vgg16-elastic-20210723-114752":{},"tf2-keras-transformer-elastic-20210723-113211":{}} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":{},"tf2-keras-cifar10-resnet50-elastic-20210723-113159":{},"tf2-keras-cifar10-resnet50-elastic-20210723-113445":{},"tf2-keras-transformer-elastic-20210723-113211":{}} "scheduler"="default"
I0723 11:49:43.532783   13823 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=1 "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-1":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-1":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-113214-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-113214-worker-1":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-113445-worker-0":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210723-113445-worker-1":"gpu5","tf2-keras-cifar10-vgg16-elastic-20210723-114752-worker-0":"gpu4","tf2-keras-cifar10-vgg16-elastic-20210723-114752-worker-1":"gpu4","tf2-keras-transformer-elastic-20210723-113211-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-113211-worker-1":"gpu3"} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-1":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-2":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-113214-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-113214-worker-1":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-113159-worker-0":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210723-113159-worker-1":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210723-113445-worker-0":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210723-113445-worker-1":"gpu5","tf2-keras-transformer-elastic-20210723-113211-worker-0":"gpu4","tf2-keras-transformer-elastic-20210723-113211-worker-1":"gpu4"} "scheduler"="default" "workersToDelete"=3
I0723 11:49:43.533068   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-113211-worker-0" "scheduler"="default"
I0723 11:49:43.542028   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-113211-worker-1" "scheduler"="default"
I0723 11:49:43.550959   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-113211-launcher" "scheduler"="default"
I0723 11:49:43.561403   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-0" "scheduler"="default"
I0723 11:49:43.565450   13823 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0723 11:49:43.565680   13823 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0723 11:49:43.919947   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 11:49:44.117994   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-114752-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 11:49:44.717512   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-114752-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 11:49:45.118593   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-114752-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 11:49:53.886328   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 11:49:54.597287   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-113211-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 11:49:54.631734   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-113211-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 11:49:54.644465   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-113211-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 11:54:03.032626   13823 jobmaster.go:155]  "msg"="Training job created"  "job"="tf2-keras-transformer-elastic-20210723-115403"
I0723 11:54:03.032782   13823 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-23T11:51:43.565944116+08:00" "lastResched"="2021-07-23T11:49:43.565944116+08:00" "received"="2021-07-23T11:54:03.032126306+08:00" "scheduler"="default"
I0723 11:54:03.033168   13823 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0723 11:54:03.033211   13823 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0723 11:54:03.045498   13823 elastic_tiresias.go:160]  "msg"="Finished scheduling"  "algorithm"="ElasticTiresias" "compactionThreshold"=4 "freeGpu"=0 "promoteKnob"=4 "queueNum"=2 "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":2,"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":0,"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":0,"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":0,"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":2,"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":2,"tf2-keras-cifar10-resnet50-elastic-20210723-112414":0,"tf2-keras-cifar10-resnet50-elastic-20210723-113445":2,"tf2-keras-cifar10-vgg16-elastic-20210723-114752":2,"tf2-keras-transformer-elastic-20210723-110548":0,"tf2-keras-transformer-elastic-20210723-111631":0,"tf2-keras-transformer-elastic-20210723-112858":0,"tf2-keras-transformer-elastic-20210723-113211":2,"tf2-keras-transformer-elastic-20210723-115403":0} "scheduler"="default" "thresholds"=
I0723 11:54:03.045860   13823 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 11:54:03.046115   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 11:54:03.046306   13823 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 11:54:03.046574   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 11:54:03.046812   13823 scheduler.go:180]  "msg"="Nothing changed, skipped ajust placements"  "scheduler"="default"
I0723 11:54:03.046840   13823 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0723 11:54:08.223028   13823 scheduler.go:559]  "msg"="Priority demoted to training job"  "job"="tf2-keras-cifar10-inceptionv3-elastic-20210723-113200" "priority"=1 "scheduler"="default"
I0723 11:54:08.223084   13823 scheduler.go:573]  "msg"="Priority changed"  "scheduler"="default"
I0723 11:54:08.223150   13823 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-23T11:56:03.047062894+08:00" "lastResched"="2021-07-23T11:54:03.047062894+08:00" "received"="2021-07-23T11:54:08.22309101+08:00" "scheduler"="default"
I0723 11:54:20.993963   13823 jobmaster.go:155]  "msg"="Training job created"  "job"="tf2-keras-cifar10-vgg16-elastic-20210723-115420"
I0723 11:54:35.921556   13823 jobmaster.go:155]  "msg"="Training job created"  "job"="tf2-keras-cifar10-resnet50-elastic-20210723-115435"
I0723 11:56:03.047120   13823 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0723 11:56:03.047163   13823 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0723 11:56:03.060508   13823 elastic_tiresias.go:160]  "msg"="Finished scheduling"  "algorithm"="ElasticTiresias" "compactionThreshold"=4 "freeGpu"=0 "promoteKnob"=4 "queueNum"=2 "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":2,"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":0,"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":0,"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":0,"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":0,"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":2,"tf2-keras-cifar10-resnet50-elastic-20210723-112414":0,"tf2-keras-cifar10-resnet50-elastic-20210723-113445":2,"tf2-keras-cifar10-resnet50-elastic-20210723-115435":0,"tf2-keras-cifar10-vgg16-elastic-20210723-114752":2,"tf2-keras-cifar10-vgg16-elastic-20210723-115420":0,"tf2-keras-transformer-elastic-20210723-110548":0,"tf2-keras-transformer-elastic-20210723-111631":0,"tf2-keras-transformer-elastic-20210723-112858":0,"tf2-keras-transformer-elastic-20210723-113211":2,"tf2-keras-transformer-elastic-20210723-115403":2} "scheduler"="default" "thresholds"=
I0723 11:56:03.060797   13823 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=["tf2-keras-cifar10-inceptionv3-elastic-20210723-113200"] "scheduler"="default"
I0723 11:56:03.070573   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 11:56:03.070809   13823 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=["tf2-keras-transformer-elastic-20210723-115403"] "scheduler"="default"
I0723 11:56:03.082391   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 11:56:03.085553   13823 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0723 11:56:03.085647   13823 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":{},"tf2-keras-cifar10-resnet50-elastic-20210723-113445":{},"tf2-keras-cifar10-vgg16-elastic-20210723-114752":{},"tf2-keras-transformer-elastic-20210723-113211":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 11:56:03.085744   13823 placement_manager.go:250]  "msg"="Released slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":{},"tf2-keras-cifar10-resnet50-elastic-20210723-113445":{},"tf2-keras-cifar10-vgg16-elastic-20210723-114752":{},"tf2-keras-transformer-elastic-20210723-113211":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 11:56:03.086242   13823 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}] "scheduler"="default"
I0723 11:56:03.086645   13823 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=8
I0723 11:56:03.086951   13823 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":{},"tf2-keras-cifar10-resnet50-elastic-20210723-113445":{},"tf2-keras-cifar10-vgg16-elastic-20210723-114752":{},"tf2-keras-transformer-elastic-20210723-113211":{},"tf2-keras-transformer-elastic-20210723-115403":{}} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":{},"tf2-keras-cifar10-resnet50-elastic-20210723-113445":{},"tf2-keras-cifar10-vgg16-elastic-20210723-114752":{},"tf2-keras-transformer-elastic-20210723-113211":{}} "scheduler"="default"
I0723 11:56:03.087329   13823 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=1 "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-1":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-113214-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-113214-worker-1":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-113445-worker-0":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210723-113445-worker-1":"gpu3","tf2-keras-cifar10-vgg16-elastic-20210723-114752-worker-0":"gpu4","tf2-keras-cifar10-vgg16-elastic-20210723-114752-worker-1":"gpu4","tf2-keras-transformer-elastic-20210723-113211-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-113211-worker-1":"gpu3","tf2-keras-transformer-elastic-20210723-115403-worker-0":"gpu5","tf2-keras-transformer-elastic-20210723-115403-worker-1":"gpu5"} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-1":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-1":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-113214-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-113214-worker-1":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-113445-worker-0":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210723-113445-worker-1":"gpu5","tf2-keras-cifar10-vgg16-elastic-20210723-114752-worker-0":"gpu4","tf2-keras-cifar10-vgg16-elastic-20210723-114752-worker-1":"gpu4","tf2-keras-transformer-elastic-20210723-113211-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-113211-worker-1":"gpu3"} "scheduler"="default" "workersToDelete"=2
I0723 11:56:03.087617   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-113445-worker-0" "scheduler"="default"
I0723 11:56:03.091670   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-113445-worker-1" "scheduler"="default"
I0723 11:56:03.096303   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-113445-launcher" "scheduler"="default"
I0723 11:56:03.101216   13823 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0723 11:56:03.101525   13823 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0723 11:56:03.126865   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-115403-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 11:56:03.137788   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-115403-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 11:56:03.149352   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-115403-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 11:56:14.170605   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-113445-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 11:56:14.583856   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-113445-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 11:56:19.743790   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-113445-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 11:56:39.016029   13823 jobmaster.go:155]  "msg"="Training job created"  "job"="tf2-keras-cifar10-resnet50-elastic-20210723-115639"
I0723 11:56:39.016182   13823 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-23T11:58:03.101892519+08:00" "lastResched"="2021-07-23T11:56:03.101892519+08:00" "received"="2021-07-23T11:56:39.015591651+08:00" "scheduler"="default"
I0723 11:57:04.037113   13823 jobmaster.go:155]  "msg"="Training job created"  "job"="tf2-keras-transformer-elastic-20210723-115704"
I0723 11:58:03.101969   13823 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0723 11:58:03.102027   13823 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0723 11:58:03.114627   13823 elastic_tiresias.go:160]  "msg"="Finished scheduling"  "algorithm"="ElasticTiresias" "compactionThreshold"=4 "freeGpu"=0 "promoteKnob"=4 "queueNum"=2 "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":2,"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":0,"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":0,"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":0,"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":0,"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":2,"tf2-keras-cifar10-resnet50-elastic-20210723-112414":0,"tf2-keras-cifar10-resnet50-elastic-20210723-113445":2,"tf2-keras-cifar10-resnet50-elastic-20210723-115435":0,"tf2-keras-cifar10-resnet50-elastic-20210723-115639":0,"tf2-keras-cifar10-vgg16-elastic-20210723-114752":2,"tf2-keras-cifar10-vgg16-elastic-20210723-115420":0,"tf2-keras-transformer-elastic-20210723-110548":0,"tf2-keras-transformer-elastic-20210723-111631":0,"tf2-keras-transformer-elastic-20210723-112858":0,"tf2-keras-transformer-elastic-20210723-113211":2,"tf2-keras-transformer-elastic-20210723-115403":2,"tf2-keras-transformer-elastic-20210723-115704":0} "scheduler"="default" "thresholds"=
I0723 11:58:03.115083   13823 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 11:58:03.115362   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 11:58:03.115616   13823 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 11:58:03.115870   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 11:58:03.116139   13823 scheduler.go:180]  "msg"="Nothing changed, skipped ajust placements"  "scheduler"="default"
I0723 11:58:03.116187   13823 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0723 11:58:43.231378   13823 scheduler.go:559]  "msg"="Priority demoted to training job"  "job"="tf2-keras-transformer-elastic-20210723-113211" "priority"=1 "scheduler"="default"
I0723 11:58:43.231465   13823 scheduler.go:573]  "msg"="Priority changed"  "scheduler"="default"
I0723 11:58:43.231535   13823 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-23T12:00:03.116391127+08:00" "lastResched"="2021-07-23T11:58:03.116391127+08:00" "received"="2021-07-23T11:58:43.231472593+08:00" "scheduler"="default"
I0723 12:00:03.116472   13823 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0723 12:00:03.116529   13823 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0723 12:00:03.130889   13823 elastic_tiresias.go:160]  "msg"="Finished scheduling"  "algorithm"="ElasticTiresias" "compactionThreshold"=4 "freeGpu"=0 "promoteKnob"=4 "queueNum"=2 "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":2,"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":0,"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":0,"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":0,"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":0,"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":2,"tf2-keras-cifar10-resnet50-elastic-20210723-112414":0,"tf2-keras-cifar10-resnet50-elastic-20210723-113445":2,"tf2-keras-cifar10-resnet50-elastic-20210723-115435":0,"tf2-keras-cifar10-resnet50-elastic-20210723-115639":0,"tf2-keras-cifar10-vgg16-elastic-20210723-114752":2,"tf2-keras-cifar10-vgg16-elastic-20210723-115420":2,"tf2-keras-transformer-elastic-20210723-110548":0,"tf2-keras-transformer-elastic-20210723-111631":0,"tf2-keras-transformer-elastic-20210723-112858":0,"tf2-keras-transformer-elastic-20210723-113211":0,"tf2-keras-transformer-elastic-20210723-115403":2,"tf2-keras-transformer-elastic-20210723-115704":0} "scheduler"="default" "thresholds"=
I0723 12:00:03.131159   13823 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=["tf2-keras-transformer-elastic-20210723-113211"] "scheduler"="default"
I0723 12:00:03.139921   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 12:00:03.140183   13823 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=["tf2-keras-cifar10-vgg16-elastic-20210723-115420"] "scheduler"="default"
I0723 12:00:03.158998   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 12:00:03.162345   13823 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0723 12:00:03.162423   13823 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":{},"tf2-keras-cifar10-resnet50-elastic-20210723-113445":{},"tf2-keras-cifar10-vgg16-elastic-20210723-114752":{},"tf2-keras-transformer-elastic-20210723-113211":{},"tf2-keras-transformer-elastic-20210723-115403":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 12:00:03.162480   13823 placement_manager.go:250]  "msg"="Released slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":{},"tf2-keras-cifar10-resnet50-elastic-20210723-113445":{},"tf2-keras-cifar10-vgg16-elastic-20210723-114752":{},"tf2-keras-transformer-elastic-20210723-113211":{},"tf2-keras-transformer-elastic-20210723-115403":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 12:00:03.163052   13823 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}] "scheduler"="default"
I0723 12:00:03.163556   13823 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=6
I0723 12:00:03.164081   13823 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":{},"tf2-keras-cifar10-resnet50-elastic-20210723-113445":{},"tf2-keras-cifar10-vgg16-elastic-20210723-114752":{},"tf2-keras-cifar10-vgg16-elastic-20210723-115420":{},"tf2-keras-transformer-elastic-20210723-115403":{}} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":{},"tf2-keras-cifar10-resnet50-elastic-20210723-113445":{},"tf2-keras-cifar10-vgg16-elastic-20210723-114752":{},"tf2-keras-transformer-elastic-20210723-113211":{},"tf2-keras-transformer-elastic-20210723-115403":{}} "scheduler"="default"
I0723 12:00:03.164636   13823 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=2 "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-1":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-113214-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-113214-worker-1":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-113445-worker-0":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210723-113445-worker-1":"gpu3","tf2-keras-cifar10-vgg16-elastic-20210723-114752-worker-0":"gpu5","tf2-keras-cifar10-vgg16-elastic-20210723-114752-worker-1":"gpu5","tf2-keras-cifar10-vgg16-elastic-20210723-115420-worker-0":"gpu3","tf2-keras-cifar10-vgg16-elastic-20210723-115420-worker-1":"gpu3","tf2-keras-transformer-elastic-20210723-115403-worker-0":"gpu4","tf2-keras-transformer-elastic-20210723-115403-worker-1":"gpu4"} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-1":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-113214-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-113214-worker-1":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-113445-worker-0":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210723-113445-worker-1":"gpu3","tf2-keras-cifar10-vgg16-elastic-20210723-114752-worker-0":"gpu4","tf2-keras-cifar10-vgg16-elastic-20210723-114752-worker-1":"gpu4","tf2-keras-transformer-elastic-20210723-113211-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-113211-worker-1":"gpu3","tf2-keras-transformer-elastic-20210723-115403-worker-0":"gpu5","tf2-keras-transformer-elastic-20210723-115403-worker-1":"gpu5"} "scheduler"="default" "workersToDelete"=4
I0723 12:00:03.165148   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-114752-worker-0" "scheduler"="default"
I0723 12:00:03.172424   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-114752-worker-1" "scheduler"="default"
I0723 12:00:03.177105   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-114752-launcher" "scheduler"="default"
I0723 12:00:03.187097   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-115403-worker-0" "scheduler"="default"
I0723 12:00:03.190494   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-115403-worker-1" "scheduler"="default"
I0723 12:00:03.194451   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-115403-launcher" "scheduler"="default"
I0723 12:00:03.199365   13823 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0723 12:00:03.199671   13823 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0723 12:00:03.208630   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-115420-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 12:00:03.365646   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-115420-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 12:00:03.973281   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-115420-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 12:00:12.070436   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-114752-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 12:00:13.224741   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-114752-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 12:00:13.825143   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-114752-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 12:00:20.371122   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-115403-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 12:00:21.561945   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-115403-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 12:00:22.375469   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-115403-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 12:00:30.419602   13823 scheduler.go:474]  "msg"="Training job completed"  "elaspedTotalSeconds"=1542.305082651 "gpuTotalSeconds"=1770.053682016 "job"="tf2-keras-cifar10-resnet50-elastic-20210723-113445" "ranTotalSeconds"=885.026841008 "scheduler"="default" "waitedTotalSeconds"=657.278241643
I0723 12:00:30.419763   13823 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-23T12:02:03.199910861+08:00" "lastResched"="2021-07-23T12:00:03.199910861+08:00" "received"="2021-07-23T12:00:30.419641314+08:00" "scheduler"="default"
I0723 12:00:43.234975   13823 scheduler.go:559]  "msg"="Priority demoted to training job"  "job"="tf2-keras-cifar10-inceptionv3-elastic-20210723-113214" "priority"=1 "scheduler"="default"
I0723 12:00:43.235069   13823 scheduler.go:573]  "msg"="Priority changed"  "scheduler"="default"
I0723 12:02:03.199971   13823 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0723 12:02:03.200024   13823 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0723 12:02:03.214802   13823 elastic_tiresias.go:160]  "msg"="Finished scheduling"  "algorithm"="ElasticTiresias" "compactionThreshold"=4 "freeGpu"=0 "promoteKnob"=4 "queueNum"=2 "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":2,"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":0,"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":0,"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":0,"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":0,"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":0,"tf2-keras-cifar10-resnet50-elastic-20210723-112414":0,"tf2-keras-cifar10-resnet50-elastic-20210723-115435":2,"tf2-keras-cifar10-resnet50-elastic-20210723-115639":2,"tf2-keras-cifar10-vgg16-elastic-20210723-114752":2,"tf2-keras-cifar10-vgg16-elastic-20210723-115420":2,"tf2-keras-transformer-elastic-20210723-110548":0,"tf2-keras-transformer-elastic-20210723-111631":0,"tf2-keras-transformer-elastic-20210723-112858":0,"tf2-keras-transformer-elastic-20210723-113211":0,"tf2-keras-transformer-elastic-20210723-115403":2,"tf2-keras-transformer-elastic-20210723-115704":0} "scheduler"="default" "thresholds"=
I0723 12:02:03.215168   13823 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=["tf2-keras-cifar10-inceptionv3-elastic-20210723-113214"] "scheduler"="default"
I0723 12:02:03.225194   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 12:02:03.225457   13823 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=["tf2-keras-cifar10-resnet50-elastic-20210723-115435","tf2-keras-cifar10-resnet50-elastic-20210723-115639"] "scheduler"="default"
I0723 12:02:03.249178   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 12:02:03.251888   13823 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0723 12:02:03.251966   13823 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":{},"tf2-keras-cifar10-resnet50-elastic-20210723-113445":{},"tf2-keras-cifar10-vgg16-elastic-20210723-114752":{},"tf2-keras-cifar10-vgg16-elastic-20210723-115420":{},"tf2-keras-transformer-elastic-20210723-115403":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 12:02:03.252032   13823 placement_manager.go:250]  "msg"="Released slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":{},"tf2-keras-cifar10-resnet50-elastic-20210723-113445":{},"tf2-keras-cifar10-vgg16-elastic-20210723-114752":{},"tf2-keras-cifar10-vgg16-elastic-20210723-115420":{},"tf2-keras-transformer-elastic-20210723-115403":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 12:02:03.252495   13823 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}] "scheduler"="default"
I0723 12:02:03.252892   13823 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=6
I0723 12:02:03.253264   13823 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":{},"tf2-keras-cifar10-resnet50-elastic-20210723-115435":{},"tf2-keras-cifar10-resnet50-elastic-20210723-115639":{},"tf2-keras-cifar10-vgg16-elastic-20210723-114752":{},"tf2-keras-cifar10-vgg16-elastic-20210723-115420":{},"tf2-keras-transformer-elastic-20210723-115403":{}} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":{},"tf2-keras-cifar10-resnet50-elastic-20210723-113445":{},"tf2-keras-cifar10-vgg16-elastic-20210723-114752":{},"tf2-keras-cifar10-vgg16-elastic-20210723-115420":{},"tf2-keras-transformer-elastic-20210723-115403":{}} "scheduler"="default"
I0723 12:02:03.253767   13823 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=1 "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-1":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210723-115435-worker-0":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-115435-worker-1":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-115639-worker-0":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-115639-worker-1":"gpu4","tf2-keras-cifar10-vgg16-elastic-20210723-114752-worker-0":"gpu5","tf2-keras-cifar10-vgg16-elastic-20210723-114752-worker-1":"gpu5","tf2-keras-cifar10-vgg16-elastic-20210723-115420-worker-0":"gpu3","tf2-keras-cifar10-vgg16-elastic-20210723-115420-worker-1":"gpu3","tf2-keras-transformer-elastic-20210723-115403-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-115403-worker-1":"gpu3"} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-1":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-113214-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-113214-worker-1":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-113445-worker-0":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210723-113445-worker-1":"gpu3","tf2-keras-cifar10-vgg16-elastic-20210723-114752-worker-0":"gpu5","tf2-keras-cifar10-vgg16-elastic-20210723-114752-worker-1":"gpu5","tf2-keras-cifar10-vgg16-elastic-20210723-115420-worker-0":"gpu3","tf2-keras-cifar10-vgg16-elastic-20210723-115420-worker-1":"gpu3","tf2-keras-transformer-elastic-20210723-115403-worker-0":"gpu4","tf2-keras-transformer-elastic-20210723-115403-worker-1":"gpu4"} "scheduler"="default" "workersToDelete"=2
I0723 12:02:03.254151   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-115403-worker-0" "scheduler"="default"
I0723 12:02:03.258731   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-115403-worker-1" "scheduler"="default"
I0723 12:02:03.266595   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-115403-launcher" "scheduler"="default"
I0723 12:02:03.271175   13823 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0723 12:02:03.271616   13823 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0723 12:02:03.445627   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-115435-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 12:02:03.643784   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-115639-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 12:02:03.847738   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-115435-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 12:02:04.044468   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-115639-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 12:02:04.262408   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-115435-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 12:02:04.664443   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-115639-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 12:02:13.302221   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-115403-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 12:02:13.338367   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-115403-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 12:02:19.750316   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-115403-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 12:03:05.557227   13823 scheduler.go:474]  "msg"="Training job completed"  "elaspedTotalSeconds"=910.281600253 "gpuTotalSeconds"=1600.120114868 "job"="tf2-keras-cifar10-vgg16-elastic-20210723-114752" "ranTotalSeconds"=800.060057434 "scheduler"="default" "waitedTotalSeconds"=110.221542819
I0723 12:03:05.557397   13823 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-23T12:04:03.271870985+08:00" "lastResched"="2021-07-23T12:02:03.271870985+08:00" "received"="2021-07-23T12:03:05.557255259+08:00" "scheduler"="default"
I0723 12:03:43.275056   13823 scheduler.go:559]  "msg"="Priority demoted to training job"  "job"="tf2-keras-cifar10-inceptionv3-elastic-20210723-110304" "priority"=1 "scheduler"="default"
I0723 12:03:43.275167   13823 scheduler.go:573]  "msg"="Priority changed"  "scheduler"="default"
I0723 12:04:03.271953   13823 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0723 12:04:03.272015   13823 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0723 12:04:03.287123   13823 elastic_tiresias.go:160]  "msg"="Finished scheduling"  "algorithm"="ElasticTiresias" "compactionThreshold"=4 "freeGpu"=0 "promoteKnob"=4 "queueNum"=2 "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":1,"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":1,"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":0,"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":0,"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":0,"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":0,"tf2-keras-cifar10-resnet50-elastic-20210723-112414":0,"tf2-keras-cifar10-resnet50-elastic-20210723-115435":2,"tf2-keras-cifar10-resnet50-elastic-20210723-115639":2,"tf2-keras-cifar10-vgg16-elastic-20210723-115420":2,"tf2-keras-transformer-elastic-20210723-110548":0,"tf2-keras-transformer-elastic-20210723-111631":0,"tf2-keras-transformer-elastic-20210723-112858":0,"tf2-keras-transformer-elastic-20210723-113211":0,"tf2-keras-transformer-elastic-20210723-115403":2,"tf2-keras-transformer-elastic-20210723-115704":2} "scheduler"="default" "thresholds"=
I0723 12:04:03.287564   13823 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 12:04:03.287950   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=["tf2-keras-cifar10-inceptionv3-elastic-20210723-110304"] "scheduler"="default"
I0723 12:04:03.302310   13823 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=["tf2-keras-cifar10-inceptionv3-elastic-20210723-110316","tf2-keras-transformer-elastic-20210723-115704"] "scheduler"="default"
I0723 12:04:03.321616   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 12:04:03.324700   13823 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0723 12:04:03.324767   13823 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":{},"tf2-keras-cifar10-resnet50-elastic-20210723-115435":{},"tf2-keras-cifar10-resnet50-elastic-20210723-115639":{},"tf2-keras-cifar10-vgg16-elastic-20210723-114752":{},"tf2-keras-cifar10-vgg16-elastic-20210723-115420":{},"tf2-keras-transformer-elastic-20210723-115403":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 12:04:03.324831   13823 placement_manager.go:250]  "msg"="Released slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":{},"tf2-keras-cifar10-resnet50-elastic-20210723-115435":{},"tf2-keras-cifar10-resnet50-elastic-20210723-115639":{},"tf2-keras-cifar10-vgg16-elastic-20210723-114752":{},"tf2-keras-cifar10-vgg16-elastic-20210723-115420":{},"tf2-keras-transformer-elastic-20210723-115403":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 12:04:03.325173   13823 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}] "scheduler"="default"
I0723 12:04:03.325439   13823 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=5
I0723 12:04:03.325712   13823 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":{},"tf2-keras-cifar10-resnet50-elastic-20210723-115435":{},"tf2-keras-cifar10-resnet50-elastic-20210723-115639":{},"tf2-keras-cifar10-vgg16-elastic-20210723-115420":{},"tf2-keras-transformer-elastic-20210723-115403":{},"tf2-keras-transformer-elastic-20210723-115704":{}} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":{},"tf2-keras-cifar10-resnet50-elastic-20210723-115435":{},"tf2-keras-cifar10-resnet50-elastic-20210723-115639":{},"tf2-keras-cifar10-vgg16-elastic-20210723-114752":{},"tf2-keras-cifar10-vgg16-elastic-20210723-115420":{},"tf2-keras-transformer-elastic-20210723-115403":{}} "scheduler"="default"
I0723 12:04:03.326082   13823 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=2 "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-0":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210723-115435-worker-0":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-115435-worker-1":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-115639-worker-0":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210723-115639-worker-1":"gpu5","tf2-keras-cifar10-vgg16-elastic-20210723-115420-worker-0":"gpu3","tf2-keras-cifar10-vgg16-elastic-20210723-115420-worker-1":"gpu3","tf2-keras-transformer-elastic-20210723-115403-worker-0":"gpu4","tf2-keras-transformer-elastic-20210723-115403-worker-1":"gpu4","tf2-keras-transformer-elastic-20210723-115704-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-115704-worker-1":"gpu3"} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-1":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210723-115435-worker-0":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-115435-worker-1":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-115639-worker-0":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-115639-worker-1":"gpu4","tf2-keras-cifar10-vgg16-elastic-20210723-114752-worker-0":"gpu5","tf2-keras-cifar10-vgg16-elastic-20210723-114752-worker-1":"gpu5","tf2-keras-cifar10-vgg16-elastic-20210723-115420-worker-0":"gpu3","tf2-keras-cifar10-vgg16-elastic-20210723-115420-worker-1":"gpu3","tf2-keras-transformer-elastic-20210723-115403-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-115403-worker-1":"gpu3"} "scheduler"="default" "workersToDelete"=4
I0723 12:04:03.326377   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-115403-worker-0" "scheduler"="default"
I0723 12:04:03.330793   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-115403-worker-1" "scheduler"="default"
I0723 12:04:03.338795   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-115403-launcher" "scheduler"="default"
I0723 12:04:03.343332   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-115639-worker-0" "scheduler"="default"
I0723 12:04:03.350405   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-115639-worker-1" "scheduler"="default"
I0723 12:04:03.362302   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-115639-launcher" "scheduler"="default"
I0723 12:04:03.367234   13823 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0723 12:04:03.367462   13823 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0723 12:04:03.367618   13823 scheduler.go:565]  "msg"="Priority promoted to training job"  "job"="tf2-keras-cifar10-inceptionv3-elastic-20210723-110316" "priority"=0 "scheduler"="default"
I0723 12:04:03.367699   13823 scheduler.go:573]  "msg"="Priority changed"  "scheduler"="default"
I0723 12:04:03.367785   13823 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-23T12:06:03.367636637+08:00" "lastResched"="2021-07-23T12:04:03.367636637+08:00" "received"="2021-07-23T12:04:03.367708051+08:00" "scheduler"="default"
I0723 12:04:03.919399   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 12:04:04.318296   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 12:04:05.117930   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-115704-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 12:04:05.517553   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-115704-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 12:04:05.917920   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-115704-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 12:04:11.079936   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-115639-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 12:04:13.847187   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-115403-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 12:04:13.884069   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-115403-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 12:04:15.324258   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-115639-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 12:04:15.911421   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-115639-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 12:04:24.476477   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-115403-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 12:06:03.367689   13823 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0723 12:06:03.367776   13823 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0723 12:06:03.384994   13823 elastic_tiresias.go:160]  "msg"="Finished scheduling"  "algorithm"="ElasticTiresias" "compactionThreshold"=4 "freeGpu"=0 "promoteKnob"=4 "queueNum"=2 "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":0,"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":2,"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":0,"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":0,"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":0,"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":0,"tf2-keras-cifar10-resnet50-elastic-20210723-112414":0,"tf2-keras-cifar10-resnet50-elastic-20210723-115435":2,"tf2-keras-cifar10-resnet50-elastic-20210723-115639":2,"tf2-keras-cifar10-vgg16-elastic-20210723-115420":2,"tf2-keras-transformer-elastic-20210723-110548":0,"tf2-keras-transformer-elastic-20210723-111631":0,"tf2-keras-transformer-elastic-20210723-112858":0,"tf2-keras-transformer-elastic-20210723-113211":0,"tf2-keras-transformer-elastic-20210723-115403":2,"tf2-keras-transformer-elastic-20210723-115704":2} "scheduler"="default" "thresholds"=
I0723 12:06:03.385224   13823 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=["tf2-keras-cifar10-inceptionv3-elastic-20210723-110304"] "scheduler"="default"
I0723 12:06:03.395803   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 12:06:03.396055   13823 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 12:06:03.396236   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=["tf2-keras-cifar10-inceptionv3-elastic-20210723-110316"] "scheduler"="default"
I0723 12:06:03.413716   13823 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0723 12:06:03.413780   13823 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":{},"tf2-keras-cifar10-resnet50-elastic-20210723-115435":{},"tf2-keras-cifar10-resnet50-elastic-20210723-115639":{},"tf2-keras-cifar10-vgg16-elastic-20210723-115420":{},"tf2-keras-transformer-elastic-20210723-115403":{},"tf2-keras-transformer-elastic-20210723-115704":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 12:06:03.413828   13823 placement_manager.go:250]  "msg"="Released slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":{},"tf2-keras-cifar10-resnet50-elastic-20210723-115435":{},"tf2-keras-cifar10-resnet50-elastic-20210723-115639":{},"tf2-keras-cifar10-vgg16-elastic-20210723-115420":{},"tf2-keras-transformer-elastic-20210723-115403":{},"tf2-keras-transformer-elastic-20210723-115704":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 12:06:03.414129   13823 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}] "scheduler"="default"
I0723 12:06:03.414421   13823 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=6
I0723 12:06:03.414732   13823 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":{},"tf2-keras-cifar10-resnet50-elastic-20210723-115435":{},"tf2-keras-cifar10-resnet50-elastic-20210723-115639":{},"tf2-keras-cifar10-vgg16-elastic-20210723-115420":{},"tf2-keras-transformer-elastic-20210723-115403":{},"tf2-keras-transformer-elastic-20210723-115704":{}} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":{},"tf2-keras-cifar10-resnet50-elastic-20210723-115435":{},"tf2-keras-cifar10-resnet50-elastic-20210723-115639":{},"tf2-keras-cifar10-vgg16-elastic-20210723-115420":{},"tf2-keras-transformer-elastic-20210723-115403":{},"tf2-keras-transformer-elastic-20210723-115704":{}} "scheduler"="default"
I0723 12:06:03.415061   13823 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=2 "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-1":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-115435-worker-0":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210723-115435-worker-1":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210723-115639-worker-0":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210723-115639-worker-1":"gpu5","tf2-keras-cifar10-vgg16-elastic-20210723-115420-worker-0":"gpu5","tf2-keras-cifar10-vgg16-elastic-20210723-115420-worker-1":"gpu5","tf2-keras-transformer-elastic-20210723-115403-worker-0":"gpu4","tf2-keras-transformer-elastic-20210723-115403-worker-1":"gpu4","tf2-keras-transformer-elastic-20210723-115704-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-115704-worker-1":"gpu3"} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-0":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210723-115435-worker-0":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-115435-worker-1":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-115639-worker-0":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210723-115639-worker-1":"gpu5","tf2-keras-cifar10-vgg16-elastic-20210723-115420-worker-0":"gpu3","tf2-keras-cifar10-vgg16-elastic-20210723-115420-worker-1":"gpu3","tf2-keras-transformer-elastic-20210723-115403-worker-0":"gpu4","tf2-keras-transformer-elastic-20210723-115403-worker-1":"gpu4","tf2-keras-transformer-elastic-20210723-115704-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-115704-worker-1":"gpu3"} "scheduler"="default" "workersToDelete"=5
I0723 12:06:03.415341   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-115420-worker-0" "scheduler"="default"
I0723 12:06:03.419787   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-115420-worker-1" "scheduler"="default"
I0723 12:06:03.426655   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-115420-launcher" "scheduler"="default"
I0723 12:06:03.439832   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-0" "scheduler"="default"
I0723 12:06:03.446344   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-115435-worker-0" "scheduler"="default"
I0723 12:06:03.450940   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-115435-worker-1" "scheduler"="default"
I0723 12:06:03.455396   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-115435-launcher" "scheduler"="default"
I0723 12:06:03.459341   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 12:06:03.463444   13823 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0723 12:06:03.463726   13823 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0723 12:06:11.016804   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-115435-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 12:06:11.059827   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-115435-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 12:06:12.786020   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-115420-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 12:06:13.586686   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-115420-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 12:06:20.475228   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-115420-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 12:06:22.286276   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 12:06:23.076165   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-115435-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 12:10:58.475378   13823 scheduler.go:559]  "msg"="Priority demoted to training job"  "job"="tf2-keras-transformer-elastic-20210723-115403" "priority"=1 "scheduler"="default"
I0723 12:10:58.475426   13823 scheduler.go:573]  "msg"="Priority changed"  "scheduler"="default"
I0723 12:10:58.475489   13823 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-23T12:08:03.463956729+08:00" "lastResched"="2021-07-23T12:06:03.463956729+08:00" "received"="2021-07-23T12:10:58.475431996+08:00" "scheduler"="default"
I0723 12:10:58.475508   13823 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0723 12:10:58.475545   13823 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0723 12:10:58.487927   13823 elastic_tiresias.go:160]  "msg"="Finished scheduling"  "algorithm"="ElasticTiresias" "compactionThreshold"=4 "freeGpu"=0 "promoteKnob"=4 "queueNum"=2 "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":1,"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":2,"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":0,"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":0,"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":0,"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":0,"tf2-keras-cifar10-resnet50-elastic-20210723-112414":0,"tf2-keras-cifar10-resnet50-elastic-20210723-115435":2,"tf2-keras-cifar10-resnet50-elastic-20210723-115639":2,"tf2-keras-cifar10-vgg16-elastic-20210723-115420":2,"tf2-keras-transformer-elastic-20210723-110548":1,"tf2-keras-transformer-elastic-20210723-111631":0,"tf2-keras-transformer-elastic-20210723-112858":0,"tf2-keras-transformer-elastic-20210723-113211":0,"tf2-keras-transformer-elastic-20210723-115403":0,"tf2-keras-transformer-elastic-20210723-115704":2} "scheduler"="default" "thresholds"=
I0723 12:10:58.488240   13823 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=["tf2-keras-transformer-elastic-20210723-115403"] "scheduler"="default"
I0723 12:10:58.498224   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 12:10:58.498685   13823 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=["tf2-keras-transformer-elastic-20210723-110548","tf2-keras-cifar10-inceptionv3-elastic-20210723-110304"] "scheduler"="default"
I0723 12:10:58.517387   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 12:10:58.521323   13823 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0723 12:10:58.521381   13823 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":{},"tf2-keras-cifar10-resnet50-elastic-20210723-115435":{},"tf2-keras-cifar10-resnet50-elastic-20210723-115639":{},"tf2-keras-cifar10-vgg16-elastic-20210723-115420":{},"tf2-keras-transformer-elastic-20210723-115403":{},"tf2-keras-transformer-elastic-20210723-115704":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 12:10:58.521423   13823 placement_manager.go:250]  "msg"="Released slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":{},"tf2-keras-cifar10-resnet50-elastic-20210723-115435":{},"tf2-keras-cifar10-resnet50-elastic-20210723-115639":{},"tf2-keras-cifar10-vgg16-elastic-20210723-115420":{},"tf2-keras-transformer-elastic-20210723-115403":{},"tf2-keras-transformer-elastic-20210723-115704":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 12:10:58.521725   13823 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}] "scheduler"="default"
I0723 12:10:58.522031   13823 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=8
I0723 12:10:58.522318   13823 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":{},"tf2-keras-cifar10-resnet50-elastic-20210723-115435":{},"tf2-keras-cifar10-resnet50-elastic-20210723-115639":{},"tf2-keras-cifar10-vgg16-elastic-20210723-115420":{},"tf2-keras-transformer-elastic-20210723-110548":{},"tf2-keras-transformer-elastic-20210723-115704":{}} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":{},"tf2-keras-cifar10-resnet50-elastic-20210723-115435":{},"tf2-keras-cifar10-resnet50-elastic-20210723-115639":{},"tf2-keras-cifar10-vgg16-elastic-20210723-115420":{},"tf2-keras-transformer-elastic-20210723-115403":{},"tf2-keras-transformer-elastic-20210723-115704":{}} "scheduler"="default"
I0723 12:10:58.522620   13823 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=1 "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-1":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-115435-worker-0":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210723-115435-worker-1":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210723-115639-worker-0":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210723-115639-worker-1":"gpu5","tf2-keras-cifar10-vgg16-elastic-20210723-115420-worker-0":"gpu4","tf2-keras-cifar10-vgg16-elastic-20210723-115420-worker-1":"gpu4","tf2-keras-transformer-elastic-20210723-110548-worker-0":"gpu5","tf2-keras-transformer-elastic-20210723-115704-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-115704-worker-1":"gpu3"} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-1":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-115435-worker-0":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210723-115435-worker-1":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210723-115639-worker-0":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210723-115639-worker-1":"gpu5","tf2-keras-cifar10-vgg16-elastic-20210723-115420-worker-0":"gpu5","tf2-keras-cifar10-vgg16-elastic-20210723-115420-worker-1":"gpu5","tf2-keras-transformer-elastic-20210723-115403-worker-0":"gpu4","tf2-keras-transformer-elastic-20210723-115403-worker-1":"gpu4","tf2-keras-transformer-elastic-20210723-115704-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-115704-worker-1":"gpu3"} "scheduler"="default" "workersToDelete"=2
I0723 12:10:58.523024   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-115420-worker-0" "scheduler"="default"
I0723 12:10:58.530166   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-115420-worker-1" "scheduler"="default"
I0723 12:10:58.534613   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-115420-launcher" "scheduler"="default"
I0723 12:10:58.545024   13823 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0723 12:10:58.545238   13823 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0723 12:10:58.719759   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-110548-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 12:10:58.917271   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 12:10:59.118877   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-110548-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 12:10:59.533716   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 12:11:03.475670   13823 scheduler.go:565]  "msg"="Priority promoted to training job"  "job"="tf2-keras-cifar10-inceptionv3-elastic-20210723-110304" "priority"=0 "scheduler"="default"
I0723 12:11:03.475727   13823 scheduler.go:565]  "msg"="Priority promoted to training job"  "job"="tf2-keras-transformer-elastic-20210723-110548" "priority"=0 "scheduler"="default"
I0723 12:11:03.475757   13823 scheduler.go:573]  "msg"="Priority changed"  "scheduler"="default"
I0723 12:11:03.475815   13823 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-23T12:12:58.545372236+08:00" "lastResched"="2021-07-23T12:10:58.545372236+08:00" "received"="2021-07-23T12:11:03.475763338+08:00" "scheduler"="default"
I0723 12:11:10.349732   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-115420-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 12:11:11.152011   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-115420-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 12:11:11.755182   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210723-115420-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 12:12:58.545477   13823 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0723 12:12:58.545578   13823 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0723 12:12:58.565278   13823 elastic_tiresias.go:160]  "msg"="Finished scheduling"  "algorithm"="ElasticTiresias" "compactionThreshold"=4 "freeGpu"=0 "promoteKnob"=4 "queueNum"=2 "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":2,"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":2,"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":0,"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":0,"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":0,"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":0,"tf2-keras-cifar10-resnet50-elastic-20210723-112414":0,"tf2-keras-cifar10-resnet50-elastic-20210723-115435":2,"tf2-keras-cifar10-resnet50-elastic-20210723-115639":2,"tf2-keras-cifar10-vgg16-elastic-20210723-115420":2,"tf2-keras-transformer-elastic-20210723-110548":2,"tf2-keras-transformer-elastic-20210723-111631":0,"tf2-keras-transformer-elastic-20210723-112858":0,"tf2-keras-transformer-elastic-20210723-113211":0,"tf2-keras-transformer-elastic-20210723-115403":0,"tf2-keras-transformer-elastic-20210723-115704":0} "scheduler"="default" "thresholds"=
I0723 12:12:58.565642   13823 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=["tf2-keras-transformer-elastic-20210723-115704"] "scheduler"="default"
I0723 12:12:58.577088   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 12:12:58.577345   13823 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 12:12:58.577633   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=["tf2-keras-transformer-elastic-20210723-110548","tf2-keras-cifar10-inceptionv3-elastic-20210723-110304"] "scheduler"="default"
I0723 12:12:58.624469   13823 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0723 12:12:58.624557   13823 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":{},"tf2-keras-cifar10-resnet50-elastic-20210723-115435":{},"tf2-keras-cifar10-resnet50-elastic-20210723-115639":{},"tf2-keras-cifar10-vgg16-elastic-20210723-115420":{},"tf2-keras-transformer-elastic-20210723-110548":{},"tf2-keras-transformer-elastic-20210723-115704":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 12:12:58.624620   13823 placement_manager.go:250]  "msg"="Released slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":{},"tf2-keras-cifar10-resnet50-elastic-20210723-115435":{},"tf2-keras-cifar10-resnet50-elastic-20210723-115639":{},"tf2-keras-cifar10-vgg16-elastic-20210723-115420":{},"tf2-keras-transformer-elastic-20210723-110548":{},"tf2-keras-transformer-elastic-20210723-115704":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 12:12:58.625035   13823 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}] "scheduler"="default"
I0723 12:12:58.625356   13823 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=8
I0723 12:12:58.625692   13823 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":{},"tf2-keras-cifar10-resnet50-elastic-20210723-115435":{},"tf2-keras-cifar10-resnet50-elastic-20210723-115639":{},"tf2-keras-cifar10-vgg16-elastic-20210723-115420":{},"tf2-keras-transformer-elastic-20210723-110548":{}} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":{},"tf2-keras-cifar10-resnet50-elastic-20210723-115435":{},"tf2-keras-cifar10-resnet50-elastic-20210723-115639":{},"tf2-keras-cifar10-vgg16-elastic-20210723-115420":{},"tf2-keras-transformer-elastic-20210723-110548":{},"tf2-keras-transformer-elastic-20210723-115704":{}} "scheduler"="default"
I0723 12:12:58.626156   13823 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=1 "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-1":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-1":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-115435-worker-0":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210723-115435-worker-1":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210723-115639-worker-0":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210723-115639-worker-1":"gpu3","tf2-keras-cifar10-vgg16-elastic-20210723-115420-worker-0":"gpu4","tf2-keras-cifar10-vgg16-elastic-20210723-115420-worker-1":"gpu4","tf2-keras-transformer-elastic-20210723-110548-worker-0":"gpu5","tf2-keras-transformer-elastic-20210723-110548-worker-1":"gpu5"} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-1":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-115435-worker-0":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210723-115435-worker-1":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210723-115639-worker-0":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210723-115639-worker-1":"gpu5","tf2-keras-cifar10-vgg16-elastic-20210723-115420-worker-0":"gpu4","tf2-keras-cifar10-vgg16-elastic-20210723-115420-worker-1":"gpu4","tf2-keras-transformer-elastic-20210723-110548-worker-0":"gpu5","tf2-keras-transformer-elastic-20210723-115704-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-115704-worker-1":"gpu3"} "scheduler"="default" "workersToDelete"=2
I0723 12:12:58.626464   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-115639-worker-0" "scheduler"="default"
I0723 12:12:58.630644   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-115639-worker-1" "scheduler"="default"
I0723 12:12:58.634250   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-115639-launcher" "scheduler"="default"
I0723 12:12:58.647106   13823 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0723 12:12:58.647382   13823 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0723 12:12:58.652111   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-110548-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 12:12:58.683017   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 12:13:06.095313   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-115639-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 12:13:07.256374   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-115639-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 12:13:08.048396   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-115639-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 12:14:26.586436   13823 scheduler.go:474]  "msg"="Training job completed"  "elaspedTotalSeconds"=1202.487858581 "gpuTotalSeconds"=1730.496647204 "job"="tf2-keras-cifar10-vgg16-elastic-20210723-115420" "ranTotalSeconds"=865.248323602 "scheduler"="default" "waitedTotalSeconds"=337.239534979
I0723 12:14:26.586609   13823 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-23T12:14:58.647597958+08:00" "lastResched"="2021-07-23T12:12:58.647597958+08:00" "received"="2021-07-23T12:14:26.586488624+08:00" "scheduler"="default"
I0723 12:14:58.647690   13823 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0723 12:14:58.647774   13823 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0723 12:14:58.658281   13823 elastic_tiresias.go:160]  "msg"="Finished scheduling"  "algorithm"="ElasticTiresias" "compactionThreshold"=4 "freeGpu"=0 "promoteKnob"=4 "queueNum"=2 "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":2,"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":2,"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":0,"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":0,"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":0,"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":0,"tf2-keras-cifar10-resnet50-elastic-20210723-112414":0,"tf2-keras-cifar10-resnet50-elastic-20210723-115435":2,"tf2-keras-cifar10-resnet50-elastic-20210723-115639":2,"tf2-keras-transformer-elastic-20210723-110548":2,"tf2-keras-transformer-elastic-20210723-111631":0,"tf2-keras-transformer-elastic-20210723-112858":0,"tf2-keras-transformer-elastic-20210723-113211":0,"tf2-keras-transformer-elastic-20210723-115403":0,"tf2-keras-transformer-elastic-20210723-115704":2} "scheduler"="default" "thresholds"=
I0723 12:14:58.658761   13823 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 12:14:58.658993   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 12:14:58.659183   13823 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=["tf2-keras-transformer-elastic-20210723-115704"] "scheduler"="default"
I0723 12:14:58.672043   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 12:14:58.675285   13823 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0723 12:14:58.675348   13823 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":{},"tf2-keras-cifar10-resnet50-elastic-20210723-115435":{},"tf2-keras-cifar10-resnet50-elastic-20210723-115639":{},"tf2-keras-cifar10-vgg16-elastic-20210723-115420":{},"tf2-keras-transformer-elastic-20210723-110548":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 12:14:58.675401   13823 placement_manager.go:250]  "msg"="Released slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":{},"tf2-keras-cifar10-resnet50-elastic-20210723-115435":{},"tf2-keras-cifar10-resnet50-elastic-20210723-115639":{},"tf2-keras-cifar10-vgg16-elastic-20210723-115420":{},"tf2-keras-transformer-elastic-20210723-110548":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 12:14:58.675844   13823 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}] "scheduler"="default"
I0723 12:14:58.676202   13823 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=6
I0723 12:14:58.676482   13823 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":{},"tf2-keras-cifar10-resnet50-elastic-20210723-115435":{},"tf2-keras-cifar10-resnet50-elastic-20210723-115639":{},"tf2-keras-transformer-elastic-20210723-110548":{},"tf2-keras-transformer-elastic-20210723-115704":{}} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":{},"tf2-keras-cifar10-resnet50-elastic-20210723-115435":{},"tf2-keras-cifar10-resnet50-elastic-20210723-115639":{},"tf2-keras-cifar10-vgg16-elastic-20210723-115420":{},"tf2-keras-transformer-elastic-20210723-110548":{}} "scheduler"="default"
I0723 12:14:58.676864   13823 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=2 "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-1":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-1":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-115435-worker-0":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210723-115435-worker-1":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210723-115639-worker-0":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-115639-worker-1":"gpu4","tf2-keras-transformer-elastic-20210723-110548-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-110548-worker-1":"gpu3","tf2-keras-transformer-elastic-20210723-115704-worker-0":"gpu5","tf2-keras-transformer-elastic-20210723-115704-worker-1":"gpu5"} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-1":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-1":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-115435-worker-0":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210723-115435-worker-1":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210723-115639-worker-0":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210723-115639-worker-1":"gpu3","tf2-keras-cifar10-vgg16-elastic-20210723-115420-worker-0":"gpu4","tf2-keras-cifar10-vgg16-elastic-20210723-115420-worker-1":"gpu4","tf2-keras-transformer-elastic-20210723-110548-worker-0":"gpu5","tf2-keras-transformer-elastic-20210723-110548-worker-1":"gpu5"} "scheduler"="default" "workersToDelete"=4
I0723 12:14:58.677137   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-110548-worker-0" "scheduler"="default"
I0723 12:14:58.683434   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-110548-worker-1" "scheduler"="default"
I0723 12:14:58.688329   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-110548-launcher" "scheduler"="default"
I0723 12:14:58.697443   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-115639-worker-0" "scheduler"="default"
I0723 12:14:58.709938   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-115639-worker-1" "scheduler"="default"
I0723 12:14:58.715931   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-115639-launcher" "scheduler"="default"
I0723 12:14:58.722482   13823 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0723 12:14:58.722736   13823 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0723 12:14:58.882073   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-115704-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 12:14:59.079952   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-115704-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 12:14:59.488200   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-115704-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 12:15:06.539803   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-115639-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 12:15:06.572760   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-115639-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 12:15:06.638440   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-115639-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 12:15:15.231632   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-110548-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 12:15:21.176932   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-110548-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 12:15:21.968945   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-110548-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 12:16:58.486986   13823 scheduler.go:559]  "msg"="Priority demoted to training job"  "job"="tf2-keras-cifar10-resnet50-elastic-20210723-115435" "priority"=1 "scheduler"="default"
I0723 12:16:58.487060   13823 scheduler.go:559]  "msg"="Priority demoted to training job"  "job"="tf2-keras-cifar10-resnet50-elastic-20210723-115639" "priority"=1 "scheduler"="default"
I0723 12:16:58.487088   13823 scheduler.go:573]  "msg"="Priority changed"  "scheduler"="default"
I0723 12:16:58.487194   13823 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-23T12:16:58.722932301+08:00" "lastResched"="2021-07-23T12:14:58.722932301+08:00" "received"="2021-07-23T12:16:58.487094625+08:00" "scheduler"="default"
I0723 12:16:58.723009   13823 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0723 12:16:58.723085   13823 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0723 12:16:58.737136   13823 elastic_tiresias.go:160]  "msg"="Finished scheduling"  "algorithm"="ElasticTiresias" "compactionThreshold"=4 "freeGpu"=0 "promoteKnob"=4 "queueNum"=2 "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":3,"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":2,"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":1,"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":0,"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":0,"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":0,"tf2-keras-cifar10-resnet50-elastic-20210723-112414":1,"tf2-keras-cifar10-resnet50-elastic-20210723-115435":0,"tf2-keras-cifar10-resnet50-elastic-20210723-115639":0,"tf2-keras-transformer-elastic-20210723-110548":2,"tf2-keras-transformer-elastic-20210723-111631":1,"tf2-keras-transformer-elastic-20210723-112858":0,"tf2-keras-transformer-elastic-20210723-113211":0,"tf2-keras-transformer-elastic-20210723-115403":0,"tf2-keras-transformer-elastic-20210723-115704":2} "scheduler"="default" "thresholds"=
I0723 12:16:58.737510   13823 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=["tf2-keras-cifar10-resnet50-elastic-20210723-115435","tf2-keras-cifar10-resnet50-elastic-20210723-115639"] "scheduler"="default"
I0723 12:16:58.758036   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 12:16:58.758356   13823 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=["tf2-keras-transformer-elastic-20210723-111631","tf2-keras-cifar10-inceptionv3-elastic-20210723-111952","tf2-keras-cifar10-resnet50-elastic-20210723-112414"] "scheduler"="default"
I0723 12:16:58.779479   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=["tf2-keras-cifar10-inceptionv3-elastic-20210723-110304"] "scheduler"="default"
I0723 12:16:58.796267   13823 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0723 12:16:58.796328   13823 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":{},"tf2-keras-cifar10-resnet50-elastic-20210723-115435":{},"tf2-keras-cifar10-resnet50-elastic-20210723-115639":{},"tf2-keras-transformer-elastic-20210723-110548":{},"tf2-keras-transformer-elastic-20210723-115704":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 12:16:58.796378   13823 placement_manager.go:250]  "msg"="Released slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":{},"tf2-keras-cifar10-resnet50-elastic-20210723-115435":{},"tf2-keras-cifar10-resnet50-elastic-20210723-115639":{},"tf2-keras-transformer-elastic-20210723-110548":{},"tf2-keras-transformer-elastic-20210723-115704":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 12:16:58.796697   13823 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}] "scheduler"="default"
I0723 12:16:58.796933   13823 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=6
I0723 12:16:58.797231   13823 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":{},"tf2-keras-cifar10-resnet50-elastic-20210723-112414":{},"tf2-keras-transformer-elastic-20210723-110548":{},"tf2-keras-transformer-elastic-20210723-111631":{},"tf2-keras-transformer-elastic-20210723-115704":{}} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":{},"tf2-keras-cifar10-resnet50-elastic-20210723-115435":{},"tf2-keras-cifar10-resnet50-elastic-20210723-115639":{},"tf2-keras-transformer-elastic-20210723-110548":{},"tf2-keras-transformer-elastic-20210723-115704":{}} "scheduler"="default"
I0723 12:16:58.797527   13823 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=1 "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-1":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-2":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-1":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-0":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-112414-worker-0":"gpu4","tf2-keras-transformer-elastic-20210723-110548-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-110548-worker-1":"gpu3","tf2-keras-transformer-elastic-20210723-111631-worker-0":"gpu5","tf2-keras-transformer-elastic-20210723-115704-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-115704-worker-1":"gpu3"} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-1":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-1":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-115435-worker-0":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210723-115435-worker-1":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210723-115639-worker-0":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-115639-worker-1":"gpu4","tf2-keras-transformer-elastic-20210723-110548-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-110548-worker-1":"gpu3","tf2-keras-transformer-elastic-20210723-115704-worker-0":"gpu5","tf2-keras-transformer-elastic-20210723-115704-worker-1":"gpu5"} "scheduler"="default" "workersToDelete"=2
I0723 12:16:58.797751   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-115704-worker-0" "scheduler"="default"
I0723 12:16:58.801439   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-115704-worker-1" "scheduler"="default"
I0723 12:16:58.804343   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-115704-launcher" "scheduler"="default"
I0723 12:16:58.811391   13823 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0723 12:16:58.811715   13823 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0723 12:16:59.177847   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-111631-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 12:16:59.377236   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 12:16:59.573924   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-111631-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 12:16:59.777754   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 12:17:00.981234   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-2" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 12:17:01.575005   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-112414-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 12:17:01.803773   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-112414-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 12:17:03.487308   13823 scheduler.go:565]  "msg"="Priority promoted to training job"  "job"="tf2-keras-cifar10-inceptionv3-elastic-20210723-111952" "priority"=0 "scheduler"="default"
I0723 12:17:03.487379   13823 scheduler.go:565]  "msg"="Priority promoted to training job"  "job"="tf2-keras-cifar10-resnet50-elastic-20210723-112414" "priority"=0 "scheduler"="default"
I0723 12:17:03.487426   13823 scheduler.go:565]  "msg"="Priority promoted to training job"  "job"="tf2-keras-transformer-elastic-20210723-111631" "priority"=0 "scheduler"="default"
I0723 12:17:03.487462   13823 scheduler.go:573]  "msg"="Priority changed"  "scheduler"="default"
I0723 12:17:03.487546   13823 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-23T12:18:58.811972618+08:00" "lastResched"="2021-07-23T12:16:58.811972618+08:00" "received"="2021-07-23T12:17:03.487470458+08:00" "scheduler"="default"
I0723 12:17:09.731585   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-115704-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 12:17:14.590219   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-115704-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 12:17:20.394034   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-115704-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 12:18:26.250725   13823 scheduler.go:474]  "msg"="Training job completed"  "elaspedTotalSeconds"=4354.673535507 "gpuTotalSeconds"=3360.098922575 "job"="tf2-keras-transformer-elastic-20210723-110548" "ranTotalSeconds"=1740.051208915 "scheduler"="default" "waitedTotalSeconds"=2614.622326592
I0723 12:18:58.812068   13823 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0723 12:18:58.812124   13823 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0723 12:18:58.823184   13823 elastic_tiresias.go:160]  "msg"="Finished scheduling"  "algorithm"="ElasticTiresias" "compactionThreshold"=4 "freeGpu"=0 "promoteKnob"=4 "queueNum"=2 "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":2,"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":2,"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":2,"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":0,"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":0,"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":0,"tf2-keras-cifar10-resnet50-elastic-20210723-112414":2,"tf2-keras-cifar10-resnet50-elastic-20210723-115435":0,"tf2-keras-cifar10-resnet50-elastic-20210723-115639":0,"tf2-keras-transformer-elastic-20210723-111631":2,"tf2-keras-transformer-elastic-20210723-112858":0,"tf2-keras-transformer-elastic-20210723-113211":0,"tf2-keras-transformer-elastic-20210723-115403":0,"tf2-keras-transformer-elastic-20210723-115704":2} "scheduler"="default" "thresholds"=
I0723 12:18:58.823497   13823 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 12:18:58.823771   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=["tf2-keras-cifar10-inceptionv3-elastic-20210723-110304"] "scheduler"="default"
I0723 12:18:58.838292   13823 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 12:18:58.838584   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=["tf2-keras-cifar10-inceptionv3-elastic-20210723-111952","tf2-keras-transformer-elastic-20210723-111631","tf2-keras-cifar10-resnet50-elastic-20210723-112414"] "scheduler"="default"
I0723 12:18:58.888111   13823 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0723 12:18:58.888204   13823 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":{},"tf2-keras-cifar10-resnet50-elastic-20210723-112414":{},"tf2-keras-transformer-elastic-20210723-110548":{},"tf2-keras-transformer-elastic-20210723-111631":{},"tf2-keras-transformer-elastic-20210723-115704":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 12:18:58.888281   13823 placement_manager.go:250]  "msg"="Released slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":{},"tf2-keras-cifar10-resnet50-elastic-20210723-112414":{},"tf2-keras-transformer-elastic-20210723-110548":{},"tf2-keras-transformer-elastic-20210723-111631":{},"tf2-keras-transformer-elastic-20210723-115704":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 12:18:58.888800   13823 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}] "scheduler"="default"
I0723 12:18:58.889064   13823 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=5
I0723 12:18:58.889379   13823 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":{},"tf2-keras-cifar10-resnet50-elastic-20210723-112414":{},"tf2-keras-transformer-elastic-20210723-111631":{},"tf2-keras-transformer-elastic-20210723-115704":{}} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":{},"tf2-keras-cifar10-resnet50-elastic-20210723-112414":{},"tf2-keras-transformer-elastic-20210723-110548":{},"tf2-keras-transformer-elastic-20210723-111631":{},"tf2-keras-transformer-elastic-20210723-115704":{}} "scheduler"="default"
I0723 12:18:58.889822   13823 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=1 "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-1":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-1":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-1":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210723-112414-worker-0":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-112414-worker-1":"gpu4","tf2-keras-transformer-elastic-20210723-111631-worker-0":"gpu4","tf2-keras-transformer-elastic-20210723-111631-worker-1":"gpu4","tf2-keras-transformer-elastic-20210723-115704-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-115704-worker-1":"gpu3"} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-1":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-2":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-1":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-0":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-112414-worker-0":"gpu4","tf2-keras-transformer-elastic-20210723-110548-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-110548-worker-1":"gpu3","tf2-keras-transformer-elastic-20210723-111631-worker-0":"gpu5","tf2-keras-transformer-elastic-20210723-115704-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-115704-worker-1":"gpu3"} "scheduler"="default" "workersToDelete"=4
I0723 12:18:58.890153   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-111631-worker-0" "scheduler"="default"
I0723 12:18:58.892799   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 12:18:58.894529   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-0" "scheduler"="default"
I0723 12:18:58.898059   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-0" "scheduler"="default"
I0723 12:18:58.904439   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-1" "scheduler"="default"
I0723 12:18:58.907484   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-launcher" "scheduler"="default"
I0723 12:18:58.911911   13823 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0723 12:18:58.912162   13823 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0723 12:18:59.451995   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-111631-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 12:19:00.053165   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-112414-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 12:19:06.042141   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-111631-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 12:19:06.073823   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 12:19:16.116194   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 12:19:16.234940   13823 scheduler.go:474]  "msg"="Training job completed"  "elaspedTotalSeconds"=3299.344419343 "gpuTotalSeconds"=1950.059940736 "job"="tf2-keras-cifar10-resnet50-elastic-20210723-112414" "ranTotalSeconds"=1035.03167641 "scheduler"="default" "waitedTotalSeconds"=2264.312742933
I0723 12:19:16.235300   13823 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-23T12:20:58.912323571+08:00" "lastResched"="2021-07-23T12:18:58.912323571+08:00" "received"="2021-07-23T12:19:16.234972573+08:00" "scheduler"="default"
I0723 12:19:16.916180   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 12:19:17.714830   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 12:19:58.492453   13823 scheduler.go:559]  "msg"="Priority demoted to training job"  "job"="tf2-keras-cifar10-inceptionv3-elastic-20210723-110316" "priority"=1 "scheduler"="default"
I0723 12:19:58.492540   13823 scheduler.go:573]  "msg"="Priority changed"  "scheduler"="default"
I0723 12:20:58.912383   13823 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0723 12:20:58.912458   13823 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0723 12:20:58.925012   13823 elastic_tiresias.go:160]  "msg"="Finished scheduling"  "algorithm"="ElasticTiresias" "compactionThreshold"=4 "freeGpu"=0 "promoteKnob"=4 "queueNum"=2 "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":3,"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":1,"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":2,"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":2,"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":0,"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":0,"tf2-keras-cifar10-resnet50-elastic-20210723-115435":0,"tf2-keras-cifar10-resnet50-elastic-20210723-115639":0,"tf2-keras-transformer-elastic-20210723-111631":2,"tf2-keras-transformer-elastic-20210723-112858":0,"tf2-keras-transformer-elastic-20210723-113211":0,"tf2-keras-transformer-elastic-20210723-115403":0,"tf2-keras-transformer-elastic-20210723-115704":2} "scheduler"="default" "thresholds"=
I0723 12:20:58.925287   13823 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 12:20:58.925465   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=["tf2-keras-cifar10-inceptionv3-elastic-20210723-110316"] "scheduler"="default"
I0723 12:20:58.944656   13823 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=["tf2-keras-cifar10-inceptionv3-elastic-20210723-112840"] "scheduler"="default"
I0723 12:20:58.953839   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=["tf2-keras-cifar10-inceptionv3-elastic-20210723-110304"] "scheduler"="default"
I0723 12:20:58.979084   13823 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0723 12:20:58.979173   13823 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":{},"tf2-keras-cifar10-resnet50-elastic-20210723-112414":{},"tf2-keras-transformer-elastic-20210723-111631":{},"tf2-keras-transformer-elastic-20210723-115704":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 12:20:58.979237   13823 placement_manager.go:250]  "msg"="Released slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":{},"tf2-keras-cifar10-resnet50-elastic-20210723-112414":{},"tf2-keras-transformer-elastic-20210723-111631":{},"tf2-keras-transformer-elastic-20210723-115704":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 12:20:58.979774   13823 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}] "scheduler"="default"
I0723 12:20:58.980249   13823 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=9
I0723 12:20:58.980581   13823 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":{},"tf2-keras-transformer-elastic-20210723-111631":{},"tf2-keras-transformer-elastic-20210723-115704":{}} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":{},"tf2-keras-cifar10-resnet50-elastic-20210723-112414":{},"tf2-keras-transformer-elastic-20210723-111631":{},"tf2-keras-transformer-elastic-20210723-115704":{}} "scheduler"="default"
I0723 12:20:58.980983   13823 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=0 "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-1":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-2":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-1":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-1":"gpu4","tf2-keras-transformer-elastic-20210723-111631-worker-0":"gpu4","tf2-keras-transformer-elastic-20210723-111631-worker-1":"gpu4","tf2-keras-transformer-elastic-20210723-115704-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-115704-worker-1":"gpu3"} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-1":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-1":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-1":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210723-112414-worker-0":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210723-112414-worker-1":"gpu4","tf2-keras-transformer-elastic-20210723-111631-worker-0":"gpu4","tf2-keras-transformer-elastic-20210723-111631-worker-1":"gpu4","tf2-keras-transformer-elastic-20210723-115704-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-115704-worker-1":"gpu3"} "scheduler"="default" "workersToDelete"=0
I0723 12:20:58.981257   13823 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0723 12:20:58.981453   13823 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0723 12:20:59.358779   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 12:20:59.556767   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-2" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 12:20:59.758274   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 12:21:00.159677   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 12:21:03.494733   13823 scheduler.go:565]  "msg"="Priority promoted to training job"  "job"="tf2-keras-cifar10-inceptionv3-elastic-20210723-112840" "priority"=0 "scheduler"="default"
I0723 12:21:03.494823   13823 scheduler.go:573]  "msg"="Priority changed"  "scheduler"="default"
I0723 12:21:03.494918   13823 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-23T12:22:58.981629713+08:00" "lastResched"="2021-07-23T12:20:58.981629713+08:00" "received"="2021-07-23T12:21:03.494833215+08:00" "scheduler"="default"
I0723 12:21:17.845216   13823 scheduler.go:474]  "msg"="Training job completed"  "elaspedTotalSeconds"=4688.620135282 "gpuTotalSeconds"=7098.397251702 "job"="tf2-keras-cifar10-inceptionv3-elastic-20210723-110304" "ranTotalSeconds"=3363.482920475 "scheduler"="default" "waitedTotalSeconds"=1325.137214807
I0723 12:22:58.981713   13823 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0723 12:22:58.981774   13823 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0723 12:22:58.990979   13823 elastic_tiresias.go:160]  "msg"="Finished scheduling"  "algorithm"="ElasticTiresias" "compactionThreshold"=4 "freeGpu"=0 "promoteKnob"=4 "queueNum"=2 "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":1,"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":2,"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":3,"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":1,"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":0,"tf2-keras-cifar10-resnet50-elastic-20210723-115435":0,"tf2-keras-cifar10-resnet50-elastic-20210723-115639":0,"tf2-keras-transformer-elastic-20210723-111631":2,"tf2-keras-transformer-elastic-20210723-112858":1,"tf2-keras-transformer-elastic-20210723-113211":0,"tf2-keras-transformer-elastic-20210723-115403":0,"tf2-keras-transformer-elastic-20210723-115704":2} "scheduler"="default" "thresholds"=
I0723 12:22:58.991266   13823 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 12:22:58.991439   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 12:22:58.991612   13823 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=["tf2-keras-transformer-elastic-20210723-112858","tf2-keras-cifar10-inceptionv3-elastic-20210723-113200"] "scheduler"="default"
I0723 12:22:59.016963   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=["tf2-keras-cifar10-inceptionv3-elastic-20210723-112840"] "scheduler"="default"
I0723 12:22:59.036488   13823 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0723 12:22:59.036554   13823 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":{},"tf2-keras-transformer-elastic-20210723-111631":{},"tf2-keras-transformer-elastic-20210723-115704":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 12:22:59.036600   13823 placement_manager.go:250]  "msg"="Released slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":{},"tf2-keras-transformer-elastic-20210723-111631":{},"tf2-keras-transformer-elastic-20210723-115704":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 12:22:59.037445   13823 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}] "scheduler"="default"
I0723 12:22:59.039004   13823 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=5
I0723 12:22:59.039347   13823 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":{},"tf2-keras-transformer-elastic-20210723-111631":{},"tf2-keras-transformer-elastic-20210723-112858":{},"tf2-keras-transformer-elastic-20210723-115704":{}} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":{},"tf2-keras-transformer-elastic-20210723-111631":{},"tf2-keras-transformer-elastic-20210723-115704":{}} "scheduler"="default"
I0723 12:22:59.039769   13823 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=2 "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-1":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-1":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-2":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-0":"gpu5","tf2-keras-transformer-elastic-20210723-111631-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-111631-worker-1":"gpu3","tf2-keras-transformer-elastic-20210723-112858-worker-0":"gpu4","tf2-keras-transformer-elastic-20210723-115704-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-115704-worker-1":"gpu3"} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-1":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-110304-worker-2":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-1":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-1":"gpu4","tf2-keras-transformer-elastic-20210723-111631-worker-0":"gpu4","tf2-keras-transformer-elastic-20210723-111631-worker-1":"gpu4","tf2-keras-transformer-elastic-20210723-115704-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-115704-worker-1":"gpu3"} "scheduler"="default" "workersToDelete"=4
I0723 12:22:59.040112   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-0" "scheduler"="default"
I0723 12:22:59.044942   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-1" "scheduler"="default"
I0723 12:22:59.050418   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-launcher" "scheduler"="default"
I0723 12:22:59.054857   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-111631-worker-0" "scheduler"="default"
I0723 12:22:59.060156   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-111631-worker-1" "scheduler"="default"
I0723 12:22:59.069929   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-111631-launcher" "scheduler"="default"
I0723 12:22:59.075091   13823 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0723 12:22:59.075341   13823 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0723 12:22:59.216329   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-112858-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 12:22:59.414626   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 12:22:59.847184   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-112858-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 12:23:00.249995   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 12:23:00.816155   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-2" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 12:23:03.498136   13823 scheduler.go:565]  "msg"="Priority promoted to training job"  "job"="tf2-keras-transformer-elastic-20210723-112858" "priority"=0 "scheduler"="default"
I0723 12:23:03.498199   13823 scheduler.go:565]  "msg"="Priority promoted to training job"  "job"="tf2-keras-cifar10-inceptionv3-elastic-20210723-113200" "priority"=0 "scheduler"="default"
I0723 12:23:03.498255   13823 scheduler.go:573]  "msg"="Priority changed"  "scheduler"="default"
I0723 12:23:03.498341   13823 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-23T12:24:59.075512325+08:00" "lastResched"="2021-07-23T12:22:59.075512325+08:00" "received"="2021-07-23T12:23:03.498264041+08:00" "scheduler"="default"
I0723 12:23:06.674135   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 12:23:08.472615   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 12:23:08.716853   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 12:23:09.095137   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-111631-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 12:23:14.588861   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-111631-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 12:23:14.621696   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-111631-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 12:24:59.075642   13823 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0723 12:24:59.075734   13823 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0723 12:24:59.086227   13823 elastic_tiresias.go:160]  "msg"="Finished scheduling"  "algorithm"="ElasticTiresias" "compactionThreshold"=4 "freeGpu"=0 "promoteKnob"=4 "queueNum"=2 "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":0,"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":2,"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":2,"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":2,"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":0,"tf2-keras-cifar10-resnet50-elastic-20210723-115435":0,"tf2-keras-cifar10-resnet50-elastic-20210723-115639":0,"tf2-keras-transformer-elastic-20210723-111631":2,"tf2-keras-transformer-elastic-20210723-112858":2,"tf2-keras-transformer-elastic-20210723-113211":0,"tf2-keras-transformer-elastic-20210723-115403":0,"tf2-keras-transformer-elastic-20210723-115704":2} "scheduler"="default" "thresholds"=
I0723 12:24:59.086480   13823 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=["tf2-keras-cifar10-inceptionv3-elastic-20210723-110316"] "scheduler"="default"
I0723 12:24:59.098278   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=["tf2-keras-cifar10-inceptionv3-elastic-20210723-112840"] "scheduler"="default"
I0723 12:24:59.117650   13823 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 12:24:59.117978   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=["tf2-keras-transformer-elastic-20210723-112858","tf2-keras-cifar10-inceptionv3-elastic-20210723-113200"] "scheduler"="default"
I0723 12:24:59.151509   13823 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0723 12:24:59.151565   13823 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":{},"tf2-keras-transformer-elastic-20210723-111631":{},"tf2-keras-transformer-elastic-20210723-112858":{},"tf2-keras-transformer-elastic-20210723-115704":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 12:24:59.151613   13823 placement_manager.go:250]  "msg"="Released slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":{},"tf2-keras-transformer-elastic-20210723-111631":{},"tf2-keras-transformer-elastic-20210723-112858":{},"tf2-keras-transformer-elastic-20210723-115704":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 12:24:59.152133   13823 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}] "scheduler"="default"
I0723 12:24:59.152407   13823 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=7
I0723 12:24:59.152646   13823 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":{},"tf2-keras-transformer-elastic-20210723-111631":{},"tf2-keras-transformer-elastic-20210723-112858":{},"tf2-keras-transformer-elastic-20210723-115704":{}} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":{},"tf2-keras-transformer-elastic-20210723-111631":{},"tf2-keras-transformer-elastic-20210723-112858":{},"tf2-keras-transformer-elastic-20210723-115704":{}} "scheduler"="default"
I0723 12:24:59.152929   13823 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=1 "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-1":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-1":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-1":"gpu5","tf2-keras-transformer-elastic-20210723-111631-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-111631-worker-1":"gpu3","tf2-keras-transformer-elastic-20210723-112858-worker-0":"gpu5","tf2-keras-transformer-elastic-20210723-112858-worker-1":"gpu5","tf2-keras-transformer-elastic-20210723-115704-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-115704-worker-1":"gpu3"} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-1":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-1":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-2":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-0":"gpu5","tf2-keras-transformer-elastic-20210723-111631-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-111631-worker-1":"gpu3","tf2-keras-transformer-elastic-20210723-112858-worker-0":"gpu4","tf2-keras-transformer-elastic-20210723-115704-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-115704-worker-1":"gpu3"} "scheduler"="default" "workersToDelete"=3
I0723 12:24:59.153183   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-0" "scheduler"="default"
I0723 12:24:59.157884   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-1" "scheduler"="default"
I0723 12:24:59.161880   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-launcher" "scheduler"="default"
I0723 12:24:59.165992   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-112858-worker-0" "scheduler"="default"
I0723 12:24:59.167562   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-112858-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 12:24:59.170480   13823 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0723 12:24:59.170702   13823 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0723 12:24:59.529918   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 12:25:06.309153   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 12:25:14.612497   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-112858-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 12:25:21.013187   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 12:25:22.218244   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 12:29:58.511852   13823 scheduler.go:559]  "msg"="Priority demoted to training job"  "job"="tf2-keras-transformer-elastic-20210723-115704" "priority"=1 "scheduler"="default"
I0723 12:29:58.511928   13823 scheduler.go:573]  "msg"="Priority changed"  "scheduler"="default"
I0723 12:29:58.512002   13823 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-23T12:26:59.170889329+08:00" "lastResched"="2021-07-23T12:24:59.170889329+08:00" "received"="2021-07-23T12:29:58.511935619+08:00" "scheduler"="default"
I0723 12:29:58.512030   13823 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0723 12:29:58.512087   13823 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0723 12:29:58.524574   13823 elastic_tiresias.go:160]  "msg"="Finished scheduling"  "algorithm"="ElasticTiresias" "compactionThreshold"=4 "freeGpu"=0 "promoteKnob"=4 "queueNum"=2 "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":1,"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":2,"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":2,"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":3,"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":0,"tf2-keras-cifar10-resnet50-elastic-20210723-115435":0,"tf2-keras-cifar10-resnet50-elastic-20210723-115639":0,"tf2-keras-transformer-elastic-20210723-111631":2,"tf2-keras-transformer-elastic-20210723-112858":2,"tf2-keras-transformer-elastic-20210723-113211":0,"tf2-keras-transformer-elastic-20210723-115403":0,"tf2-keras-transformer-elastic-20210723-115704":0} "scheduler"="default" "thresholds"=
I0723 12:29:58.524869   13823 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=["tf2-keras-transformer-elastic-20210723-115704"] "scheduler"="default"
I0723 12:29:58.537495   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 12:29:58.537779   13823 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=["tf2-keras-cifar10-inceptionv3-elastic-20210723-110316"] "scheduler"="default"
I0723 12:29:58.565134   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=["tf2-keras-cifar10-inceptionv3-elastic-20210723-113200"] "scheduler"="default"
I0723 12:29:58.593247   13823 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0723 12:29:58.593318   13823 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":{},"tf2-keras-transformer-elastic-20210723-111631":{},"tf2-keras-transformer-elastic-20210723-112858":{},"tf2-keras-transformer-elastic-20210723-115704":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 12:29:58.593379   13823 placement_manager.go:250]  "msg"="Released slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":{},"tf2-keras-transformer-elastic-20210723-111631":{},"tf2-keras-transformer-elastic-20210723-112858":{},"tf2-keras-transformer-elastic-20210723-115704":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 12:29:58.593705   13823 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}] "scheduler"="default"
I0723 12:29:58.593971   13823 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=8
I0723 12:29:58.594213   13823 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":{},"tf2-keras-transformer-elastic-20210723-111631":{},"tf2-keras-transformer-elastic-20210723-112858":{}} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":{},"tf2-keras-transformer-elastic-20210723-111631":{},"tf2-keras-transformer-elastic-20210723-112858":{},"tf2-keras-transformer-elastic-20210723-115704":{}} "scheduler"="default"
I0723 12:29:58.594535   13823 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=1 "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-1":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-1":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-1":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-2":"gpu5","tf2-keras-transformer-elastic-20210723-111631-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-111631-worker-1":"gpu3","tf2-keras-transformer-elastic-20210723-112858-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-112858-worker-1":"gpu3"} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-1":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-1":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-1":"gpu5","tf2-keras-transformer-elastic-20210723-111631-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-111631-worker-1":"gpu3","tf2-keras-transformer-elastic-20210723-112858-worker-0":"gpu5","tf2-keras-transformer-elastic-20210723-112858-worker-1":"gpu5","tf2-keras-transformer-elastic-20210723-115704-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-115704-worker-1":"gpu3"} "scheduler"="default" "workersToDelete"=2
I0723 12:29:58.594808   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-112858-worker-0" "scheduler"="default"
I0723 12:29:58.617971   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-112858-worker-1" "scheduler"="default"
I0723 12:29:58.623368   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-112858-launcher" "scheduler"="default"
I0723 12:29:58.629056   13823 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0723 12:29:58.629301   13823 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0723 12:29:58.641121   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 12:29:58.673767   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-2" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 12:29:58.680862   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 12:30:03.512141   13823 scheduler.go:565]  "msg"="Priority promoted to training job"  "job"="tf2-keras-cifar10-inceptionv3-elastic-20210723-110316" "priority"=0 "scheduler"="default"
I0723 12:30:03.512227   13823 scheduler.go:573]  "msg"="Priority changed"  "scheduler"="default"
I0723 12:30:03.512349   13823 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-23T12:31:58.62953641+08:00" "lastResched"="2021-07-23T12:29:58.62953641+08:00" "received"="2021-07-23T12:30:03.51223901+08:00" "scheduler"="default"
I0723 12:30:09.729843   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-112858-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 12:30:20.318810   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-112858-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 12:30:21.130591   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-112858-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 12:31:58.629576   13823 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0723 12:31:58.629612   13823 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0723 12:31:58.640855   13823 elastic_tiresias.go:160]  "msg"="Finished scheduling"  "algorithm"="ElasticTiresias" "compactionThreshold"=4 "freeGpu"=0 "promoteKnob"=4 "queueNum"=2 "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":2,"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":2,"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":2,"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":2,"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":0,"tf2-keras-cifar10-resnet50-elastic-20210723-115435":0,"tf2-keras-cifar10-resnet50-elastic-20210723-115639":0,"tf2-keras-transformer-elastic-20210723-111631":2,"tf2-keras-transformer-elastic-20210723-112858":2,"tf2-keras-transformer-elastic-20210723-113211":0,"tf2-keras-transformer-elastic-20210723-115403":0,"tf2-keras-transformer-elastic-20210723-115704":0} "scheduler"="default" "thresholds"=
I0723 12:31:58.641184   13823 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 12:31:58.641434   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=["tf2-keras-cifar10-inceptionv3-elastic-20210723-113200"] "scheduler"="default"
I0723 12:31:58.661769   13823 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 12:31:58.662056   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=["tf2-keras-cifar10-inceptionv3-elastic-20210723-110316"] "scheduler"="default"
I0723 12:31:58.682613   13823 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0723 12:31:58.682685   13823 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":{},"tf2-keras-transformer-elastic-20210723-111631":{},"tf2-keras-transformer-elastic-20210723-112858":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 12:31:58.682742   13823 placement_manager.go:250]  "msg"="Released slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":{},"tf2-keras-transformer-elastic-20210723-111631":{},"tf2-keras-transformer-elastic-20210723-112858":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 12:31:58.683105   13823 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}] "scheduler"="default"
I0723 12:31:58.683432   13823 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=8
I0723 12:31:58.683827   13823 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":{},"tf2-keras-transformer-elastic-20210723-111631":{},"tf2-keras-transformer-elastic-20210723-112858":{}} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":{},"tf2-keras-transformer-elastic-20210723-111631":{},"tf2-keras-transformer-elastic-20210723-112858":{}} "scheduler"="default"
I0723 12:31:58.684349   13823 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=1 "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-1":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-1":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-1":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-1":"gpu5","tf2-keras-transformer-elastic-20210723-111631-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-111631-worker-1":"gpu3","tf2-keras-transformer-elastic-20210723-112858-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-112858-worker-1":"gpu3"} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-1":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-1":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-1":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-2":"gpu5","tf2-keras-transformer-elastic-20210723-111631-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-111631-worker-1":"gpu3","tf2-keras-transformer-elastic-20210723-112858-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-112858-worker-1":"gpu3"} "scheduler"="default" "workersToDelete"=3
I0723 12:31:58.684675   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-0" "scheduler"="default"
I0723 12:31:58.688557   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-1" "scheduler"="default"
I0723 12:31:58.693172   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-launcher" "scheduler"="default"
I0723 12:31:58.698452   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-0" "scheduler"="default"
I0723 12:31:58.702452   13823 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0723 12:31:58.702645   13823 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0723 12:31:58.711442   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 12:32:09.750759   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 12:32:15.206883   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 12:32:16.013248   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 12:32:16.607218   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 12:32:58.517158   13823 scheduler.go:559]  "msg"="Priority demoted to training job"  "job"="tf2-keras-cifar10-inceptionv3-elastic-20210723-111952" "priority"=1 "scheduler"="default"
I0723 12:32:58.517228   13823 scheduler.go:559]  "msg"="Priority demoted to training job"  "job"="tf2-keras-transformer-elastic-20210723-111631" "priority"=1 "scheduler"="default"
I0723 12:32:58.517274   13823 scheduler.go:573]  "msg"="Priority changed"  "scheduler"="default"
I0723 12:32:58.517349   13823 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-23T12:33:58.70282515+08:00" "lastResched"="2021-07-23T12:31:58.70282515+08:00" "received"="2021-07-23T12:32:58.517281885+08:00" "scheduler"="default"
I0723 12:33:58.702906   13823 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0723 12:33:58.702991   13823 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0723 12:33:58.714171   13823 elastic_tiresias.go:160]  "msg"="Finished scheduling"  "algorithm"="ElasticTiresias" "compactionThreshold"=4 "freeGpu"=0 "promoteKnob"=4 "queueNum"=2 "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":2,"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":1,"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":3,"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":3,"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":0,"tf2-keras-cifar10-resnet50-elastic-20210723-115435":0,"tf2-keras-cifar10-resnet50-elastic-20210723-115639":0,"tf2-keras-transformer-elastic-20210723-111631":1,"tf2-keras-transformer-elastic-20210723-112858":2,"tf2-keras-transformer-elastic-20210723-113211":0,"tf2-keras-transformer-elastic-20210723-115403":0,"tf2-keras-transformer-elastic-20210723-115704":0} "scheduler"="default" "thresholds"=
I0723 12:33:58.714550   13823 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 12:33:58.714817   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=["tf2-keras-transformer-elastic-20210723-111631","tf2-keras-cifar10-inceptionv3-elastic-20210723-111952"] "scheduler"="default"
I0723 12:33:58.745328   13823 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 12:33:58.745632   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=["tf2-keras-cifar10-inceptionv3-elastic-20210723-113200","tf2-keras-cifar10-inceptionv3-elastic-20210723-112840"] "scheduler"="default"
I0723 12:33:58.775511   13823 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0723 12:33:58.775596   13823 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":{},"tf2-keras-transformer-elastic-20210723-111631":{},"tf2-keras-transformer-elastic-20210723-112858":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 12:33:58.775661   13823 placement_manager.go:250]  "msg"="Released slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":{},"tf2-keras-transformer-elastic-20210723-111631":{},"tf2-keras-transformer-elastic-20210723-112858":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 12:33:58.776150   13823 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}] "scheduler"="default"
I0723 12:33:58.776491   13823 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=5
I0723 12:33:58.776799   13823 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":{},"tf2-keras-transformer-elastic-20210723-111631":{},"tf2-keras-transformer-elastic-20210723-112858":{}} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":{},"tf2-keras-transformer-elastic-20210723-111631":{},"tf2-keras-transformer-elastic-20210723-112858":{}} "scheduler"="default"
I0723 12:33:58.777204   13823 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=2 "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-1":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-1":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-2":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-1":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-2":"gpu3","tf2-keras-transformer-elastic-20210723-111631-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-112858-worker-0":"gpu4","tf2-keras-transformer-elastic-20210723-112858-worker-1":"gpu4"} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-1":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-1":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-1":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-1":"gpu5","tf2-keras-transformer-elastic-20210723-111631-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-111631-worker-1":"gpu3","tf2-keras-transformer-elastic-20210723-112858-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-112858-worker-1":"gpu3"} "scheduler"="default" "workersToDelete"=5
I0723 12:33:58.777471   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-112858-worker-0" "scheduler"="default"
I0723 12:33:58.787861   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-112858-worker-1" "scheduler"="default"
I0723 12:33:58.793702   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-112858-launcher" "scheduler"="default"
I0723 12:33:58.799806   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-0" "scheduler"="default"
I0723 12:33:58.810361   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-1" "scheduler"="default"
I0723 12:33:58.814510   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-0" "scheduler"="default"
I0723 12:33:58.821511   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-launcher" "scheduler"="default"
I0723 12:33:58.826094   13823 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0723 12:33:58.826415   13823 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0723 12:33:59.151798   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-2" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 12:33:59.747944   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-2" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 12:34:06.688805   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-112858-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 12:34:06.951973   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-112858-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 12:34:08.623653   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 12:34:08.660709   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 12:34:09.727878   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 12:34:14.745847   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 12:34:15.542779   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-112858-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 12:34:38.520434   13823 scheduler.go:559]  "msg"="Priority demoted to training job"  "job"="tf2-keras-cifar10-inceptionv3-elastic-20210723-112840" "priority"=1 "scheduler"="default"
I0723 12:34:38.520522   13823 scheduler.go:573]  "msg"="Priority changed"  "scheduler"="default"
I0723 12:34:38.520623   13823 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-23T12:35:58.826647243+08:00" "lastResched"="2021-07-23T12:33:58.826647243+08:00" "received"="2021-07-23T12:34:38.520532913+08:00" "scheduler"="default"
I0723 12:35:58.826683   13823 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0723 12:35:58.826725   13823 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0723 12:35:58.837877   13823 elastic_tiresias.go:160]  "msg"="Finished scheduling"  "algorithm"="ElasticTiresias" "compactionThreshold"=4 "freeGpu"=0 "promoteKnob"=4 "queueNum"=2 "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":2,"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":1,"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":1,"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":3,"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":1,"tf2-keras-cifar10-resnet50-elastic-20210723-115435":0,"tf2-keras-cifar10-resnet50-elastic-20210723-115639":0,"tf2-keras-transformer-elastic-20210723-111631":1,"tf2-keras-transformer-elastic-20210723-112858":2,"tf2-keras-transformer-elastic-20210723-113211":1,"tf2-keras-transformer-elastic-20210723-115403":0,"tf2-keras-transformer-elastic-20210723-115704":0} "scheduler"="default" "thresholds"=
I0723 12:35:58.838173   13823 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 12:35:58.838332   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=["tf2-keras-cifar10-inceptionv3-elastic-20210723-112840"] "scheduler"="default"
I0723 12:35:58.858322   13823 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=["tf2-keras-cifar10-inceptionv3-elastic-20210723-113214","tf2-keras-transformer-elastic-20210723-113211"] "scheduler"="default"
I0723 12:35:58.876089   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 12:35:58.879619   13823 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0723 12:35:58.879690   13823 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":{},"tf2-keras-transformer-elastic-20210723-111631":{},"tf2-keras-transformer-elastic-20210723-112858":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 12:35:58.879747   13823 placement_manager.go:250]  "msg"="Released slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":{},"tf2-keras-transformer-elastic-20210723-111631":{},"tf2-keras-transformer-elastic-20210723-112858":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 12:35:58.880297   13823 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}] "scheduler"="default"
I0723 12:35:58.880640   13823 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=10
I0723 12:35:58.880904   13823 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":{},"tf2-keras-transformer-elastic-20210723-111631":{},"tf2-keras-transformer-elastic-20210723-112858":{},"tf2-keras-transformer-elastic-20210723-113211":{}} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":{},"tf2-keras-transformer-elastic-20210723-111631":{},"tf2-keras-transformer-elastic-20210723-112858":{}} "scheduler"="default"
I0723 12:35:58.881212   13823 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=0 "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-1":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-1":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-2":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-113214-worker-0":"gpu5","tf2-keras-transformer-elastic-20210723-111631-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-112858-worker-0":"gpu4","tf2-keras-transformer-elastic-20210723-112858-worker-1":"gpu4","tf2-keras-transformer-elastic-20210723-113211-worker-0":"gpu5"} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-1":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-1":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-2":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-1":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-2":"gpu3","tf2-keras-transformer-elastic-20210723-111631-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-112858-worker-0":"gpu4","tf2-keras-transformer-elastic-20210723-112858-worker-1":"gpu4"} "scheduler"="default" "workersToDelete"=0
I0723 12:35:58.881500   13823 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0723 12:35:58.881775   13823 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0723 12:35:59.474285   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-113214-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 12:35:59.870542   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-113214-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 12:36:00.869850   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-113211-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 12:36:01.275015   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-113211-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 12:36:03.522772   13823 scheduler.go:565]  "msg"="Priority promoted to training job"  "job"="tf2-keras-transformer-elastic-20210723-113211" "priority"=0 "scheduler"="default"
I0723 12:36:03.522839   13823 scheduler.go:565]  "msg"="Priority promoted to training job"  "job"="tf2-keras-cifar10-inceptionv3-elastic-20210723-113214" "priority"=0 "scheduler"="default"
I0723 12:36:03.522873   13823 scheduler.go:573]  "msg"="Priority changed"  "scheduler"="default"
I0723 12:36:03.522927   13823 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-23T12:37:58.882059097+08:00" "lastResched"="2021-07-23T12:35:58.882059097+08:00" "received"="2021-07-23T12:36:03.522878595+08:00" "scheduler"="default"
I0723 12:36:38.524411   13823 scheduler.go:559]  "msg"="Priority demoted to training job"  "job"="tf2-keras-cifar10-inceptionv3-elastic-20210723-113200" "priority"=1 "scheduler"="default"
I0723 12:36:38.524499   13823 scheduler.go:573]  "msg"="Priority changed"  "scheduler"="default"
I0723 12:37:40.174716   13823 scheduler.go:474]  "msg"="Training job completed"  "elaspedTotalSeconds"=5661.703568802 "gpuTotalSeconds"=6150.463587595 "job"="tf2-keras-cifar10-inceptionv3-elastic-20210723-110316" "ranTotalSeconds"=3255.282743979 "scheduler"="default" "waitedTotalSeconds"=2406.420824823
I0723 12:37:58.882117   13823 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0723 12:37:58.882163   13823 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0723 12:37:58.890790   13823 elastic_tiresias.go:160]  "msg"="Finished scheduling"  "algorithm"="ElasticTiresias" "compactionThreshold"=4 "freeGpu"=0 "promoteKnob"=4 "queueNum"=2 "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":1,"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":1,"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":1,"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":2,"tf2-keras-cifar10-resnet50-elastic-20210723-115435":1,"tf2-keras-cifar10-resnet50-elastic-20210723-115639":0,"tf2-keras-transformer-elastic-20210723-111631":1,"tf2-keras-transformer-elastic-20210723-112858":2,"tf2-keras-transformer-elastic-20210723-113211":2,"tf2-keras-transformer-elastic-20210723-115403":1,"tf2-keras-transformer-elastic-20210723-115704":0} "scheduler"="default" "thresholds"=
I0723 12:37:58.891309   13823 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 12:37:58.891564   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=["tf2-keras-cifar10-inceptionv3-elastic-20210723-113200"] "scheduler"="default"
I0723 12:37:58.906292   13823 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=["tf2-keras-cifar10-resnet50-elastic-20210723-115435","tf2-keras-transformer-elastic-20210723-115403"] "scheduler"="default"
I0723 12:37:58.923021   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=["tf2-keras-transformer-elastic-20210723-113211","tf2-keras-cifar10-inceptionv3-elastic-20210723-113214"] "scheduler"="default"
I0723 12:37:58.962747   13823 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0723 12:37:58.962839   13823 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":{},"tf2-keras-transformer-elastic-20210723-111631":{},"tf2-keras-transformer-elastic-20210723-112858":{},"tf2-keras-transformer-elastic-20210723-113211":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 12:37:58.962913   13823 placement_manager.go:250]  "msg"="Released slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":{},"tf2-keras-transformer-elastic-20210723-111631":{},"tf2-keras-transformer-elastic-20210723-112858":{},"tf2-keras-transformer-elastic-20210723-113211":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 12:37:58.963353   13823 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}] "scheduler"="default"
I0723 12:37:58.963637   13823 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=6
I0723 12:37:58.963938   13823 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":{},"tf2-keras-cifar10-resnet50-elastic-20210723-115435":{},"tf2-keras-transformer-elastic-20210723-111631":{},"tf2-keras-transformer-elastic-20210723-112858":{},"tf2-keras-transformer-elastic-20210723-113211":{},"tf2-keras-transformer-elastic-20210723-115403":{}} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":{},"tf2-keras-transformer-elastic-20210723-111631":{},"tf2-keras-transformer-elastic-20210723-112858":{},"tf2-keras-transformer-elastic-20210723-113211":{}} "scheduler"="default"
I0723 12:37:58.964356   13823 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=1 "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-113214-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-113214-worker-1":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210723-115435-worker-0":"gpu5","tf2-keras-transformer-elastic-20210723-111631-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-112858-worker-0":"gpu4","tf2-keras-transformer-elastic-20210723-112858-worker-1":"gpu4","tf2-keras-transformer-elastic-20210723-113211-worker-0":"gpu4","tf2-keras-transformer-elastic-20210723-113211-worker-1":"gpu4","tf2-keras-transformer-elastic-20210723-115403-worker-0":"gpu3"} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-110316-worker-1":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-1":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-2":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-113214-worker-0":"gpu5","tf2-keras-transformer-elastic-20210723-111631-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-112858-worker-0":"gpu4","tf2-keras-transformer-elastic-20210723-112858-worker-1":"gpu4","tf2-keras-transformer-elastic-20210723-113211-worker-0":"gpu5"} "scheduler"="default" "workersToDelete"=2
I0723 12:37:58.964715   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-0" "scheduler"="default"
I0723 12:37:58.968965   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-launcher" "scheduler"="default"
I0723 12:37:58.972944   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-113211-worker-0" "scheduler"="default"
I0723 12:37:58.977696   13823 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0723 12:37:58.978017   13823 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0723 12:37:59.522952   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-115435-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 12:37:59.919808   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-115435-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 12:38:00.920789   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-115403-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 12:38:01.120701   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-113211-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 12:38:01.320182   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-115403-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 12:38:02.321601   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-113214-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 12:38:03.526934   13823 scheduler.go:565]  "msg"="Priority promoted to training job"  "job"="tf2-keras-transformer-elastic-20210723-115403" "priority"=0 "scheduler"="default"
I0723 12:38:03.527000   13823 scheduler.go:565]  "msg"="Priority promoted to training job"  "job"="tf2-keras-cifar10-resnet50-elastic-20210723-115435" "priority"=0 "scheduler"="default"
I0723 12:38:03.527020   13823 scheduler.go:573]  "msg"="Priority changed"  "scheduler"="default"
I0723 12:38:03.527112   13823 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-23T12:39:58.978274778+08:00" "lastResched"="2021-07-23T12:37:58.978274778+08:00" "received"="2021-07-23T12:38:03.527024589+08:00" "scheduler"="default"
I0723 12:38:05.857446   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-113211-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 12:38:14.586055   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 12:38:19.746714   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 12:38:56.645688   13823 scheduler.go:474]  "msg"="Training job completed"  "elaspedTotalSeconds"=2657.606542782 "gpuTotalSeconds"=1855.50124247 "job"="tf2-keras-cifar10-resnet50-elastic-20210723-115435" "ranTotalSeconds"=955.251432981 "scheduler"="default" "waitedTotalSeconds"=1702.355109801
I0723 12:38:58.528791   13823 scheduler.go:559]  "msg"="Priority demoted to training job"  "job"="tf2-keras-transformer-elastic-20210723-112858" "priority"=1 "scheduler"="default"
I0723 12:38:58.528863   13823 scheduler.go:573]  "msg"="Priority changed"  "scheduler"="default"
I0723 12:39:58.978367   13823 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0723 12:39:58.978423   13823 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0723 12:39:58.988504   13823 elastic_tiresias.go:160]  "msg"="Finished scheduling"  "algorithm"="ElasticTiresias" "compactionThreshold"=4 "freeGpu"=0 "promoteKnob"=4 "queueNum"=2 "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":2,"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":2,"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":0,"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":2,"tf2-keras-cifar10-resnet50-elastic-20210723-115639":0,"tf2-keras-transformer-elastic-20210723-111631":2,"tf2-keras-transformer-elastic-20210723-112858":0,"tf2-keras-transformer-elastic-20210723-113211":2,"tf2-keras-transformer-elastic-20210723-115403":2,"tf2-keras-transformer-elastic-20210723-115704":0} "scheduler"="default" "thresholds"=
I0723 12:39:58.988793   13823 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=["tf2-keras-transformer-elastic-20210723-112858","tf2-keras-cifar10-inceptionv3-elastic-20210723-113200"] "scheduler"="default"
I0723 12:39:59.023935   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 12:39:59.024221   13823 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 12:39:59.024511   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=["tf2-keras-cifar10-inceptionv3-elastic-20210723-112840","tf2-keras-transformer-elastic-20210723-115403","tf2-keras-transformer-elastic-20210723-111631","tf2-keras-cifar10-inceptionv3-elastic-20210723-111952"] "scheduler"="default"
I0723 12:39:59.082239   13823 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0723 12:39:59.082384   13823 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":{},"tf2-keras-cifar10-resnet50-elastic-20210723-115435":{},"tf2-keras-transformer-elastic-20210723-111631":{},"tf2-keras-transformer-elastic-20210723-112858":{},"tf2-keras-transformer-elastic-20210723-113211":{},"tf2-keras-transformer-elastic-20210723-115403":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 12:39:59.082502   13823 placement_manager.go:250]  "msg"="Released slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":{},"tf2-keras-cifar10-resnet50-elastic-20210723-115435":{},"tf2-keras-transformer-elastic-20210723-111631":{},"tf2-keras-transformer-elastic-20210723-112858":{},"tf2-keras-transformer-elastic-20210723-113211":{},"tf2-keras-transformer-elastic-20210723-115403":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 12:39:59.083384   13823 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}] "scheduler"="default"
I0723 12:39:59.084027   13823 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=6
I0723 12:39:59.084378   13823 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":{},"tf2-keras-transformer-elastic-20210723-111631":{},"tf2-keras-transformer-elastic-20210723-113211":{},"tf2-keras-transformer-elastic-20210723-115403":{}} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":{},"tf2-keras-cifar10-resnet50-elastic-20210723-115435":{},"tf2-keras-transformer-elastic-20210723-111631":{},"tf2-keras-transformer-elastic-20210723-112858":{},"tf2-keras-transformer-elastic-20210723-113211":{},"tf2-keras-transformer-elastic-20210723-115403":{}} "scheduler"="default"
I0723 12:39:59.084934   13823 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=0 "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-1":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-1":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-113214-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-113214-worker-1":"gpu5","tf2-keras-transformer-elastic-20210723-111631-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-111631-worker-1":"gpu3","tf2-keras-transformer-elastic-20210723-113211-worker-0":"gpu4","tf2-keras-transformer-elastic-20210723-113211-worker-1":"gpu4","tf2-keras-transformer-elastic-20210723-115403-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-115403-worker-1":"gpu3"} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-113214-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-113214-worker-1":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210723-115435-worker-0":"gpu5","tf2-keras-transformer-elastic-20210723-111631-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-112858-worker-0":"gpu4","tf2-keras-transformer-elastic-20210723-112858-worker-1":"gpu4","tf2-keras-transformer-elastic-20210723-113211-worker-0":"gpu4","tf2-keras-transformer-elastic-20210723-113211-worker-1":"gpu4","tf2-keras-transformer-elastic-20210723-115403-worker-0":"gpu3"} "scheduler"="default" "workersToDelete"=2
I0723 12:39:59.085292   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-0" "scheduler"="default"
I0723 12:39:59.089954   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-0" "scheduler"="default"
I0723 12:39:59.094095   13823 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0723 12:39:59.094301   13823 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0723 12:39:59.448665   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-111631-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 12:39:59.847016   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 12:40:09.306800   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 12:40:13.844848   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 12:44:20.326373   13823 scheduler.go:474]  "msg"="Training job completed"  "elaspedTotalSeconds"=5266.567666507 "gpuTotalSeconds"=4660.143095415 "job"="tf2-keras-transformer-elastic-20210723-111631" "ranTotalSeconds"=2570.078999863 "scheduler"="default" "waitedTotalSeconds"=2696.488666644
I0723 12:44:20.326529   13823 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-23T12:41:59.094466105+08:00" "lastResched"="2021-07-23T12:39:59.094466105+08:00" "received"="2021-07-23T12:44:20.326414619+08:00" "scheduler"="default"
I0723 12:44:20.327098   13823 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0723 12:44:20.327166   13823 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0723 12:44:20.336358   13823 elastic_tiresias.go:160]  "msg"="Finished scheduling"  "algorithm"="ElasticTiresias" "compactionThreshold"=4 "freeGpu"=0 "promoteKnob"=4 "queueNum"=2 "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":2,"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":2,"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":0,"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":2,"tf2-keras-cifar10-resnet50-elastic-20210723-115639":0,"tf2-keras-transformer-elastic-20210723-112858":2,"tf2-keras-transformer-elastic-20210723-113211":2,"tf2-keras-transformer-elastic-20210723-115403":2,"tf2-keras-transformer-elastic-20210723-115704":0} "scheduler"="default" "thresholds"=
I0723 12:44:20.336832   13823 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 12:44:20.337122   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 12:44:20.337430   13823 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=["tf2-keras-transformer-elastic-20210723-112858"] "scheduler"="default"
I0723 12:44:20.355285   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 12:44:20.357625   13823 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0723 12:44:20.357681   13823 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":{},"tf2-keras-transformer-elastic-20210723-111631":{},"tf2-keras-transformer-elastic-20210723-113211":{},"tf2-keras-transformer-elastic-20210723-115403":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 12:44:20.357718   13823 placement_manager.go:250]  "msg"="Released slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":{},"tf2-keras-transformer-elastic-20210723-111631":{},"tf2-keras-transformer-elastic-20210723-113211":{},"tf2-keras-transformer-elastic-20210723-115403":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 12:44:20.358147   13823 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}] "scheduler"="default"
I0723 12:44:20.358381   13823 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=8
I0723 12:44:20.358606   13823 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":{},"tf2-keras-transformer-elastic-20210723-112858":{},"tf2-keras-transformer-elastic-20210723-113211":{},"tf2-keras-transformer-elastic-20210723-115403":{}} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":{},"tf2-keras-transformer-elastic-20210723-111631":{},"tf2-keras-transformer-elastic-20210723-113211":{},"tf2-keras-transformer-elastic-20210723-115403":{}} "scheduler"="default"
I0723 12:44:20.358868   13823 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=1 "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-1":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-1":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-113214-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-113214-worker-1":"gpu3","tf2-keras-transformer-elastic-20210723-112858-worker-0":"gpu5","tf2-keras-transformer-elastic-20210723-112858-worker-1":"gpu5","tf2-keras-transformer-elastic-20210723-113211-worker-0":"gpu4","tf2-keras-transformer-elastic-20210723-113211-worker-1":"gpu4","tf2-keras-transformer-elastic-20210723-115403-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-115403-worker-1":"gpu3"} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-1":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-1":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-113214-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-113214-worker-1":"gpu5","tf2-keras-transformer-elastic-20210723-111631-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-111631-worker-1":"gpu3","tf2-keras-transformer-elastic-20210723-113211-worker-0":"gpu4","tf2-keras-transformer-elastic-20210723-113211-worker-1":"gpu4","tf2-keras-transformer-elastic-20210723-115403-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-115403-worker-1":"gpu3"} "scheduler"="default" "workersToDelete"=2
I0723 12:44:20.359076   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-113214-worker-0" "scheduler"="default"
I0723 12:44:20.363909   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-113214-worker-1" "scheduler"="default"
I0723 12:44:20.370194   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-113214-launcher" "scheduler"="default"
I0723 12:44:20.393218   13823 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0723 12:44:20.393416   13823 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0723 12:44:20.917962   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-112858-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 12:44:21.318986   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-112858-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 12:44:21.516959   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-112858-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 12:44:23.540786   13823 scheduler.go:565]  "msg"="Priority promoted to training job"  "job"="tf2-keras-transformer-elastic-20210723-112858" "priority"=0 "scheduler"="default"
I0723 12:44:23.540860   13823 scheduler.go:573]  "msg"="Priority changed"  "scheduler"="default"
I0723 12:44:23.540940   13823 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-23T12:46:20.393582561+08:00" "lastResched"="2021-07-23T12:44:20.393582561+08:00" "received"="2021-07-23T12:44:23.540867629+08:00" "scheduler"="default"
I0723 12:44:28.011942   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-113214-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 12:44:29.727749   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-113214-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 12:44:34.587656   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-113214-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 12:46:20.393639   13823 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0723 12:46:20.393692   13823 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0723 12:46:20.402666   13823 elastic_tiresias.go:160]  "msg"="Finished scheduling"  "algorithm"="ElasticTiresias" "compactionThreshold"=4 "freeGpu"=0 "promoteKnob"=4 "queueNum"=2 "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":2,"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":2,"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":0,"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":2,"tf2-keras-cifar10-resnet50-elastic-20210723-115639":0,"tf2-keras-transformer-elastic-20210723-112858":2,"tf2-keras-transformer-elastic-20210723-113211":2,"tf2-keras-transformer-elastic-20210723-115403":2,"tf2-keras-transformer-elastic-20210723-115704":0} "scheduler"="default" "thresholds"=
I0723 12:46:20.403072   13823 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 12:46:20.403243   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 12:46:20.403389   13823 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 12:46:20.403568   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 12:46:20.403752   13823 scheduler.go:180]  "msg"="Nothing changed, skipped ajust placements"  "scheduler"="default"
I0723 12:46:20.403777   13823 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0723 12:48:50.293905   13823 scheduler.go:474]  "msg"="Training job completed"  "elaspedTotalSeconds"=4596.62947904 "gpuTotalSeconds"=3370.108612309 "job"="tf2-keras-transformer-elastic-20210723-113211" "ranTotalSeconds"=1745.056397113 "scheduler"="default" "waitedTotalSeconds"=2851.573081927
I0723 12:48:50.294028   13823 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-23T12:48:20.403922683+08:00" "lastResched"="2021-07-23T12:46:20.403922683+08:00" "received"="2021-07-23T12:48:50.293943794+08:00" "scheduler"="default"
I0723 12:48:50.294562   13823 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0723 12:48:50.294599   13823 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0723 12:48:50.303586   13823 elastic_tiresias.go:160]  "msg"="Finished scheduling"  "algorithm"="ElasticTiresias" "compactionThreshold"=4 "freeGpu"=0 "promoteKnob"=4 "queueNum"=2 "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":2,"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":2,"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":2,"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":2,"tf2-keras-cifar10-resnet50-elastic-20210723-115639":0,"tf2-keras-transformer-elastic-20210723-112858":2,"tf2-keras-transformer-elastic-20210723-115403":2,"tf2-keras-transformer-elastic-20210723-115704":0} "scheduler"="default" "thresholds"=
I0723 12:48:50.303931   13823 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 12:48:50.304186   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 12:48:50.304484   13823 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=["tf2-keras-cifar10-inceptionv3-elastic-20210723-113200"] "scheduler"="default"
I0723 12:48:50.314926   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 12:48:50.318197   13823 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0723 12:48:50.318263   13823 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":{},"tf2-keras-transformer-elastic-20210723-112858":{},"tf2-keras-transformer-elastic-20210723-113211":{},"tf2-keras-transformer-elastic-20210723-115403":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 12:48:50.318332   13823 placement_manager.go:250]  "msg"="Released slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":{},"tf2-keras-transformer-elastic-20210723-112858":{},"tf2-keras-transformer-elastic-20210723-113211":{},"tf2-keras-transformer-elastic-20210723-115403":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 12:48:50.318827   13823 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}] "scheduler"="default"
I0723 12:48:50.319180   13823 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=8
I0723 12:48:50.319413   13823 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":{},"tf2-keras-transformer-elastic-20210723-112858":{},"tf2-keras-transformer-elastic-20210723-115403":{}} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":{},"tf2-keras-transformer-elastic-20210723-112858":{},"tf2-keras-transformer-elastic-20210723-113211":{},"tf2-keras-transformer-elastic-20210723-115403":{}} "scheduler"="default"
I0723 12:48:50.319764   13823 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=1 "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-1":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-1":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-1":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-113214-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-113214-worker-1":"gpu3","tf2-keras-transformer-elastic-20210723-112858-worker-0":"gpu5","tf2-keras-transformer-elastic-20210723-112858-worker-1":"gpu5","tf2-keras-transformer-elastic-20210723-115403-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-115403-worker-1":"gpu3"} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-1":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-1":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-113214-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-113214-worker-1":"gpu3","tf2-keras-transformer-elastic-20210723-112858-worker-0":"gpu5","tf2-keras-transformer-elastic-20210723-112858-worker-1":"gpu5","tf2-keras-transformer-elastic-20210723-113211-worker-0":"gpu4","tf2-keras-transformer-elastic-20210723-113211-worker-1":"gpu4","tf2-keras-transformer-elastic-20210723-115403-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-115403-worker-1":"gpu3"} "scheduler"="default" "workersToDelete"=2
I0723 12:48:50.320045   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-0" "scheduler"="default"
I0723 12:48:50.323863   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-1" "scheduler"="default"
I0723 12:48:50.328156   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-launcher" "scheduler"="default"
I0723 12:48:50.332492   13823 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0723 12:48:50.332738   13823 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0723 12:48:50.885891   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 12:48:51.084096   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 12:48:51.286940   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 12:48:53.549414   13823 scheduler.go:565]  "msg"="Priority promoted to training job"  "job"="tf2-keras-cifar10-inceptionv3-elastic-20210723-113200" "priority"=0 "scheduler"="default"
I0723 12:48:53.549464   13823 scheduler.go:573]  "msg"="Priority changed"  "scheduler"="default"
I0723 12:48:53.549538   13823 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-23T12:50:50.332941593+08:00" "lastResched"="2021-07-23T12:48:50.332941593+08:00" "received"="2021-07-23T12:48:53.5494724+08:00" "scheduler"="default"
I0723 12:49:09.741550   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 12:49:09.779548   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 12:49:09.817144   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 12:49:57.067675   13823 scheduler.go:474]  "msg"="Training job completed"  "elaspedTotalSeconds"=4855.430842123 "gpuTotalSeconds"=4400.173544817 "job"="tf2-keras-transformer-elastic-20210723-112858" "ranTotalSeconds"=2260.088465608 "scheduler"="default" "waitedTotalSeconds"=2595.342376515
I0723 12:50:50.333040   13823 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0723 12:50:50.333122   13823 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0723 12:50:50.341397   13823 elastic_tiresias.go:160]  "msg"="Finished scheduling"  "algorithm"="ElasticTiresias" "compactionThreshold"=4 "freeGpu"=0 "promoteKnob"=4 "queueNum"=2 "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":2,"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":2,"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":2,"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":2,"tf2-keras-cifar10-resnet50-elastic-20210723-115639":2,"tf2-keras-transformer-elastic-20210723-115403":2,"tf2-keras-transformer-elastic-20210723-115704":0} "scheduler"="default" "thresholds"=
I0723 12:50:50.341834   13823 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 12:50:50.342133   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 12:50:50.342425   13823 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=["tf2-keras-cifar10-resnet50-elastic-20210723-115639"] "scheduler"="default"
I0723 12:50:50.359147   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 12:50:50.362534   13823 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0723 12:50:50.362603   13823 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":{},"tf2-keras-transformer-elastic-20210723-112858":{},"tf2-keras-transformer-elastic-20210723-115403":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 12:50:50.362661   13823 placement_manager.go:250]  "msg"="Released slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":{},"tf2-keras-transformer-elastic-20210723-112858":{},"tf2-keras-transformer-elastic-20210723-115403":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 12:50:50.363167   13823 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{},{},{},{},{},{},{},{},{},{},{},{},{}] "scheduler"="default"
I0723 12:50:50.363485   13823 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=8
I0723 12:50:50.363781   13823 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":{},"tf2-keras-cifar10-resnet50-elastic-20210723-115639":{},"tf2-keras-transformer-elastic-20210723-115403":{}} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":{},"tf2-keras-transformer-elastic-20210723-112858":{},"tf2-keras-transformer-elastic-20210723-115403":{}} "scheduler"="default"
I0723 12:50:50.364309   13823 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=1 "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-1":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-1":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-1":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-113214-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-113214-worker-1":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210723-115639-worker-0":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210723-115639-worker-1":"gpu3","tf2-keras-transformer-elastic-20210723-115403-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-115403-worker-1":"gpu3"} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-1":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-1":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-1":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-113214-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-113214-worker-1":"gpu3","tf2-keras-transformer-elastic-20210723-112858-worker-0":"gpu5","tf2-keras-transformer-elastic-20210723-112858-worker-1":"gpu5","tf2-keras-transformer-elastic-20210723-115403-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-115403-worker-1":"gpu3"} "scheduler"="default" "workersToDelete"=2
I0723 12:50:50.364582   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-113214-worker-0" "scheduler"="default"
I0723 12:50:50.369546   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-113214-worker-1" "scheduler"="default"
I0723 12:50:50.374748   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-113214-launcher" "scheduler"="default"
I0723 12:50:50.381040   13823 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0723 12:50:50.381320   13823 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0723 12:50:50.433093   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-115639-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 12:50:50.463649   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-115639-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 12:50:50.567227   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210723-115639-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 12:50:53.568374   13823 scheduler.go:565]  "msg"="Priority promoted to training job"  "job"="tf2-keras-cifar10-resnet50-elastic-20210723-115639" "priority"=0 "scheduler"="default"
I0723 12:50:53.568441   13823 scheduler.go:573]  "msg"="Priority changed"  "scheduler"="default"
I0723 12:50:53.568507   13823 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-23T12:52:50.38153719+08:00" "lastResched"="2021-07-23T12:50:50.38153719+08:00" "received"="2021-07-23T12:50:53.568447489+08:00" "scheduler"="default"
I0723 12:50:59.020908   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-113214-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 12:50:59.401155   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-113214-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 12:50:59.799913   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-113214-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 12:51:58.570244   13823 scheduler.go:559]  "msg"="Priority demoted to training job"  "job"="tf2-keras-cifar10-inceptionv3-elastic-20210723-113214" "priority"=1 "scheduler"="default"
I0723 12:51:58.570322   13823 scheduler.go:573]  "msg"="Priority changed"  "scheduler"="default"
I0723 12:52:50.381584   13823 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0723 12:52:50.381627   13823 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0723 12:52:50.388318   13823 elastic_tiresias.go:160]  "msg"="Finished scheduling"  "algorithm"="ElasticTiresias" "compactionThreshold"=4 "freeGpu"=0 "promoteKnob"=4 "queueNum"=2 "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":2,"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":2,"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":2,"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":2,"tf2-keras-cifar10-resnet50-elastic-20210723-115639":2,"tf2-keras-transformer-elastic-20210723-115403":2,"tf2-keras-transformer-elastic-20210723-115704":0} "scheduler"="default" "thresholds"=
I0723 12:52:50.388717   13823 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 12:52:50.388960   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 12:52:50.389182   13823 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 12:52:50.389403   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 12:52:50.389605   13823 scheduler.go:180]  "msg"="Nothing changed, skipped ajust placements"  "scheduler"="default"
I0723 12:52:50.389626   13823 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0723 12:53:58.573842   13823 scheduler.go:559]  "msg"="Priority demoted to training job"  "job"="tf2-keras-transformer-elastic-20210723-115403" "priority"=1 "scheduler"="default"
I0723 12:53:58.573946   13823 scheduler.go:573]  "msg"="Priority changed"  "scheduler"="default"
I0723 12:53:58.574047   13823 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-23T12:54:50.389793781+08:00" "lastResched"="2021-07-23T12:52:50.389793781+08:00" "received"="2021-07-23T12:53:58.573957726+08:00" "scheduler"="default"
I0723 12:54:06.181407   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-115403-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 12:54:18.064241   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 12:54:50.389842   13823 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0723 12:54:50.389899   13823 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0723 12:54:50.395597   13823 elastic_tiresias.go:160]  "msg"="Finished scheduling"  "algorithm"="ElasticTiresias" "compactionThreshold"=4 "freeGpu"=0 "promoteKnob"=4 "queueNum"=2 "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":2,"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":2,"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":2,"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":2,"tf2-keras-cifar10-resnet50-elastic-20210723-115639":2,"tf2-keras-transformer-elastic-20210723-115403":2,"tf2-keras-transformer-elastic-20210723-115704":0} "scheduler"="default" "thresholds"=
I0723 12:54:50.395905   13823 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 12:54:50.396134   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 12:54:50.396352   13823 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 12:54:50.396587   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 12:54:50.396798   13823 scheduler.go:180]  "msg"="Nothing changed, skipped ajust placements"  "scheduler"="default"
I0723 12:54:50.396819   13823 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0723 12:55:21.879244   13823 scheduler.go:474]  "msg"="Training job completed"  "elaspedTotalSeconds"=3519.559649138 "gpuTotalSeconds"=2340.515611544 "job"="tf2-keras-cifar10-resnet50-elastic-20210723-115639" "ranTotalSeconds"=1170.257805772 "scheduler"="default" "waitedTotalSeconds"=2349.301843366
I0723 12:55:21.879440   13823 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-23T12:56:50.397009963+08:00" "lastResched"="2021-07-23T12:54:50.397009963+08:00" "received"="2021-07-23T12:55:21.879298211+08:00" "scheduler"="default"
I0723 12:56:50.397088   13823 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0723 12:56:50.397143   13823 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0723 12:56:50.404607   13823 elastic_tiresias.go:160]  "msg"="Finished scheduling"  "algorithm"="ElasticTiresias" "compactionThreshold"=4 "freeGpu"=0 "promoteKnob"=4 "queueNum"=2 "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":2,"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":2,"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":2,"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":2,"tf2-keras-transformer-elastic-20210723-115403":2,"tf2-keras-transformer-elastic-20210723-115704":2} "scheduler"="default" "thresholds"=
I0723 12:56:50.404840   13823 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 12:56:50.404990   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 12:56:50.405131   13823 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=["tf2-keras-transformer-elastic-20210723-115704"] "scheduler"="default"
I0723 12:56:50.420530   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 12:56:50.423213   13823 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0723 12:56:50.423311   13823 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":{},"tf2-keras-cifar10-resnet50-elastic-20210723-115639":{},"tf2-keras-transformer-elastic-20210723-115403":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 12:56:50.423383   13823 placement_manager.go:250]  "msg"="Released slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":{},"tf2-keras-cifar10-resnet50-elastic-20210723-115639":{},"tf2-keras-transformer-elastic-20210723-115403":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 12:56:50.423793   13823 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{},{},{},{},{},{},{},{},{},{},{}] "scheduler"="default"
I0723 12:56:50.424099   13823 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=6
I0723 12:56:50.424399   13823 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":{},"tf2-keras-transformer-elastic-20210723-115403":{},"tf2-keras-transformer-elastic-20210723-115704":{}} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":{},"tf2-keras-cifar10-resnet50-elastic-20210723-115639":{},"tf2-keras-transformer-elastic-20210723-115403":{}} "scheduler"="default"
I0723 12:56:50.424764   13823 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=2 "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-1":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-1":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-1":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-113214-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-113214-worker-1":"gpu3","tf2-keras-transformer-elastic-20210723-115403-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-115403-worker-1":"gpu3","tf2-keras-transformer-elastic-20210723-115704-worker-0":"gpu4","tf2-keras-transformer-elastic-20210723-115704-worker-1":"gpu4"} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-1":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-1":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-1":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-113214-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-113214-worker-1":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210723-115639-worker-0":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210723-115639-worker-1":"gpu3","tf2-keras-transformer-elastic-20210723-115403-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-115403-worker-1":"gpu3"} "scheduler"="default" "workersToDelete"=4
I0723 12:56:50.425148   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-0" "scheduler"="default"
I0723 12:56:50.437195   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-1" "scheduler"="default"
I0723 12:56:50.441095   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-launcher" "scheduler"="default"
I0723 12:56:50.457087   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-113214-worker-0" "scheduler"="default"
I0723 12:56:50.477163   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-113214-worker-1" "scheduler"="default"
I0723 12:56:50.481151   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-113214-launcher" "scheduler"="default"
I0723 12:56:50.489006   13823 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0723 12:56:50.489276   13823 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0723 12:56:50.508843   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-115704-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 12:56:50.538971   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-115704-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 12:56:50.834170   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-115704-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 12:56:53.578712   13823 scheduler.go:565]  "msg"="Priority promoted to training job"  "job"="tf2-keras-transformer-elastic-20210723-115704" "priority"=0 "scheduler"="default"
I0723 12:56:53.578810   13823 scheduler.go:573]  "msg"="Priority changed"  "scheduler"="default"
I0723 12:56:53.578914   13823 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-23T12:58:50.489480862+08:00" "lastResched"="2021-07-23T12:56:50.489480862+08:00" "received"="2021-07-23T12:56:53.578822882+08:00" "scheduler"="default"
I0723 12:56:57.635356   13823 scheduler.go:474]  "msg"="Training job completed"  "elaspedTotalSeconds"=5821.560252577 "gpuTotalSeconds"=6170.220567153 "job"="tf2-keras-cifar10-inceptionv3-elastic-20210723-111952" "ranTotalSeconds"=3205.114631801 "scheduler"="default" "waitedTotalSeconds"=2616.445620776
I0723 12:56:58.661039   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 12:57:00.562856   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-113214-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 12:57:04.585759   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 12:57:09.731009   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-113214-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 12:57:09.766622   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-113214-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 12:57:10.104645   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0723 12:58:25.783021   13823 scheduler.go:474]  "msg"="Training job completed"  "elaspedTotalSeconds"=3860.548567011 "gpuTotalSeconds"=4130.603902233 "job"="tf2-keras-transformer-elastic-20210723-115403" "ranTotalSeconds"=2125.303818133 "scheduler"="default" "waitedTotalSeconds"=1735.244748878
I0723 12:58:50.489518   13823 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0723 12:58:50.489558   13823 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0723 12:58:50.492923   13823 elastic_tiresias.go:160]  "msg"="Finished scheduling"  "algorithm"="ElasticTiresias" "compactionThreshold"=4 "freeGpu"=0 "promoteKnob"=4 "queueNum"=2 "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":3,"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":4,"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":3,"tf2-keras-transformer-elastic-20210723-115704":2} "scheduler"="default" "thresholds"=
I0723 12:58:50.493135   13823 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 12:58:50.493315   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 12:58:50.493527   13823 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 12:58:50.493760   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=["tf2-keras-cifar10-inceptionv3-elastic-20210723-112840","tf2-keras-cifar10-inceptionv3-elastic-20210723-113200","tf2-keras-cifar10-inceptionv3-elastic-20210723-113214"] "scheduler"="default"
I0723 12:58:50.549171   13823 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0723 12:58:50.549275   13823 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":{},"tf2-keras-transformer-elastic-20210723-115403":{},"tf2-keras-transformer-elastic-20210723-115704":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 12:58:50.549385   13823 placement_manager.go:250]  "msg"="Released slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":{},"tf2-keras-transformer-elastic-20210723-115403":{},"tf2-keras-transformer-elastic-20210723-115704":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 12:58:50.549795   13823 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{},{},{},{},{},{},{}] "scheduler"="default"
I0723 12:58:50.550032   13823 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=5
I0723 12:58:50.550294   13823 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":{},"tf2-keras-transformer-elastic-20210723-115704":{}} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":{},"tf2-keras-transformer-elastic-20210723-115403":{},"tf2-keras-transformer-elastic-20210723-115704":{}} "scheduler"="default"
I0723 12:58:50.550625   13823 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=0 "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-1":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-2":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-1":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-2":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-3":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-113214-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-113214-worker-1":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-113214-worker-2":"gpu3","tf2-keras-transformer-elastic-20210723-115704-worker-0":"gpu4","tf2-keras-transformer-elastic-20210723-115704-worker-1":"gpu3","tf2-keras-transformer-elastic-20210723-115704-worker-2":"gpu3"} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-111952-worker-1":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-1":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-1":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-113214-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-113214-worker-1":"gpu3","tf2-keras-transformer-elastic-20210723-115403-worker-0":"gpu3","tf2-keras-transformer-elastic-20210723-115403-worker-1":"gpu3","tf2-keras-transformer-elastic-20210723-115704-worker-0":"gpu4","tf2-keras-transformer-elastic-20210723-115704-worker-1":"gpu4"} "scheduler"="default" "workersToDelete"=3
I0723 12:58:50.551028   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-0" "scheduler"="default"
I0723 12:58:50.551107   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-2" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 12:58:50.568240   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-1" "scheduler"="default"
I0723 12:58:50.575080   13823 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210723-115704-worker-1" "scheduler"="default"
I0723 12:58:50.587724   13823 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0723 12:58:50.587982   13823 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0723 12:58:50.590442   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-2" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 12:58:50.598829   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-3" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0723 12:58:50.925789   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-113214-worker-2" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 12:58:58.579488   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 12:58:58.610972   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 12:59:05.294841   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210723-115704-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0723 13:01:18.587347   13823 scheduler.go:559]  "msg"="Priority demoted to training job"  "job"="tf2-keras-cifar10-inceptionv3-elastic-20210723-113200" "priority"=1 "scheduler"="default"
I0723 13:01:18.587435   13823 scheduler.go:573]  "msg"="Priority changed"  "scheduler"="default"
I0723 13:01:18.587555   13823 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-23T13:00:50.588173077+08:00" "lastResched"="2021-07-23T12:58:50.588173077+08:00" "received"="2021-07-23T13:01:18.587448429+08:00" "scheduler"="default"
I0723 13:01:18.587599   13823 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0723 13:01:18.587641   13823 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0723 13:01:18.591369   13823 elastic_tiresias.go:160]  "msg"="Finished scheduling"  "algorithm"="ElasticTiresias" "compactionThreshold"=4 "freeGpu"=0 "promoteKnob"=4 "queueNum"=2 "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":3,"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":4,"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":3,"tf2-keras-transformer-elastic-20210723-115704":2} "scheduler"="default" "thresholds"=
I0723 13:01:18.591690   13823 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 13:01:18.592000   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 13:01:18.592286   13823 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 13:01:18.592511   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 13:01:18.592785   13823 scheduler.go:180]  "msg"="Nothing changed, skipped ajust placements"  "scheduler"="default"
I0723 13:01:18.592833   13823 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0723 13:02:14.523967   13823 scheduler.go:474]  "msg"="Training job completed"  "elaspedTotalSeconds"=3909.551442713 "gpuTotalSeconds"=3530.484595822 "job"="tf2-keras-transformer-elastic-20210723-115704" "ranTotalSeconds"=1765.242297911 "scheduler"="default" "waitedTotalSeconds"=2144.309144802
I0723 13:02:14.524100   13823 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-23T13:03:18.593065162+08:00" "lastResched"="2021-07-23T13:01:18.593065162+08:00" "received"="2021-07-23T13:02:14.524002124+08:00" "scheduler"="default"
I0723 13:02:53.050671   13823 scheduler.go:474]  "msg"="Training job completed"  "elaspedTotalSeconds"=5433.751431198 "gpuTotalSeconds"=5290.195554902 "job"="tf2-keras-cifar10-inceptionv3-elastic-20210723-113214" "ranTotalSeconds"=2585.096167404 "scheduler"="default" "waitedTotalSeconds"=2848.655263794
I0723 13:03:18.593146   13823 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0723 13:03:18.593198   13823 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0723 13:03:18.595847   13823 elastic_tiresias.go:160]  "msg"="Finished scheduling"  "algorithm"="ElasticTiresias" "compactionThreshold"=4 "freeGpu"=4 "promoteKnob"=4 "queueNum"=2 "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":4,"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":4} "scheduler"="default" "thresholds"=
I0723 13:03:18.596110   13823 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 13:03:18.596336   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 13:03:18.596537   13823 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 13:03:18.596728   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=["tf2-keras-cifar10-inceptionv3-elastic-20210723-112840"] "scheduler"="default"
I0723 13:03:18.622081   13823 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0723 13:03:18.622183   13823 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":{},"tf2-keras-transformer-elastic-20210723-115704":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 13:03:18.622244   13823 placement_manager.go:250]  "msg"="Released slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":{},"tf2-keras-transformer-elastic-20210723-115704":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0723 13:03:18.622691   13823 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{},{},{}] "scheduler"="default"
I0723 13:03:18.622986   13823 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=7
I0723 13:03:18.623262   13823 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":{}} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113200":{},"tf2-keras-cifar10-inceptionv3-elastic-20210723-113214":{},"tf2-keras-transformer-elastic-20210723-115704":{}} "scheduler"="default"
I0723 13:03:18.623630   13823 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=0 "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-1":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-2":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-3":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-1":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-2":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-3":"gpu5"} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-1":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-2":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-1":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-2":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-113200-worker-3":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210723-113214-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-113214-worker-1":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210723-113214-worker-2":"gpu3","tf2-keras-transformer-elastic-20210723-115704-worker-0":"gpu4","tf2-keras-transformer-elastic-20210723-115704-worker-1":"gpu3","tf2-keras-transformer-elastic-20210723-115704-worker-2":"gpu3"} "scheduler"="default" "workersToDelete"=0
I0723 13:03:18.623954   13823 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0723 13:03:18.624189   13823 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0723 13:03:18.659242   13823 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210723-112840-worker-3" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0723 13:04:06.815966   13823 scheduler.go:474]  "msg"="Training job completed"  "elaspedTotalSeconds"=5522.594385181 "gpuTotalSeconds"=6640.236958601 "job"="tf2-keras-cifar10-inceptionv3-elastic-20210723-113200" "ranTotalSeconds"=2885.105356658 "scheduler"="default" "waitedTotalSeconds"=2637.489028523
I0723 13:04:06.816095   13823 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-23T13:05:18.62435802+08:00" "lastResched"="2021-07-23T13:03:18.62435802+08:00" "received"="2021-07-23T13:04:06.815990099+08:00" "scheduler"="default"
I0723 13:05:18.624409   13823 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0723 13:05:18.624467   13823 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0723 13:05:18.626141   13823 elastic_tiresias.go:160]  "msg"="Finished scheduling"  "algorithm"="ElasticTiresias" "compactionThreshold"=4 "freeGpu"=8 "promoteKnob"=4 "queueNum"=2 "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210723-112840":4} "scheduler"="default" "thresholds"=
I0723 13:05:18.626329   13823 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 13:05:18.626519   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 13:05:18.626706   13823 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 13:05:18.626864   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 13:05:18.627048   13823 scheduler.go:180]  "msg"="Nothing changed, skipped ajust placements"  "scheduler"="default"
I0723 13:05:18.627062   13823 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0723 13:05:28.752554   13823 scheduler.go:474]  "msg"="Training job completed"  "elaspedTotalSeconds"=5808.389534733 "gpuTotalSeconds"=7676.211103669 "job"="tf2-keras-cifar10-inceptionv3-elastic-20210723-112840" "ranTotalSeconds"=3573.098450765 "scheduler"="default" "waitedTotalSeconds"=2235.291083968
I0723 13:05:28.752761   13823 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-23T13:07:18.627203564+08:00" "lastResched"="2021-07-23T13:05:18.627203564+08:00" "received"="2021-07-23T13:05:28.752596596+08:00" "scheduler"="default"
I0723 13:07:18.627269   13823 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0723 13:07:18.627335   13823 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0723 13:07:18.628129   13823 elastic_tiresias.go:160]  "msg"="Finished scheduling"  "algorithm"="ElasticTiresias" "compactionThreshold"=4 "freeGpu"=12 "promoteKnob"=4 "queueNum"=2 "result"={} "scheduler"="default" "thresholds"=
I0723 13:07:18.628398   13823 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 13:07:18.628687   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 13:07:18.628897   13823 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 13:07:18.629110   13823 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0723 13:07:18.629324   13823 scheduler.go:180]  "msg"="Nothing changed, skipped ajust placements"  "scheduler"="default"
I0723 13:07:18.629339   13823 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
