Log file created at: 2021/07/21 22:28:16
Running on machine: gpu4
Binary: Built with gc go1.13.15 for linux/amd64
Log line format: [IWEF]mmdd hh:mm:ss.uuuuuu threadid file:line] msg
I0721 22:28:16.355801   25701 main.go:19]  "msg"="Celeste - DLT jobs scheduler"  "version"="0.0.1"
I0721 22:28:16.356711   25701 main.go:20]  "msg"="Starting service"  
I0721 22:28:16.360820   25701 placement_manager.go:65]  "msg"="Starting placement manager"  "scheduler"="default"
I0721 22:28:16.362591   25701 placement_manager.go:95]  "msg"="Started placement manager"  "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0721 22:28:16.363112   25701 jobmaster.go:82]  "msg"="Starting scheduler"  "gpuType"="default"
I0721 22:28:16.363208   25701 scheduler.go:124]  "msg"="Starting scheduler"  "scheduler"="default"
I0721 22:28:16.390955   25701 scheduler.go:432]  "msg"="Start watching mpijob"  "scheduler"="default"
I0721 22:28:23.147857   25701 jobmaster.go:155]  "msg"="Training job created"  "job"="tf2-keras-cifar10-inceptionv3-elastic-20210721-102823"
I0721 22:28:23.148019   25701 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-21T22:28:16.363076467+08:00" "lastResched"="2021-07-21T22:28:16.363076767+08:00" "received"="2021-07-21T22:28:23.147054455+08:00" "scheduler"="default"
I0721 22:28:23.148749   25701 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0721 22:28:23.148846   25701 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0721 22:28:23.150593   25701 ffdl_optimizer.go:129]  "msg"="Finished scheduling"  "FreeGPU"=8 "algorithm"="FfDLOptimizer" "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823":4} "scheduler"="default"
I0721 22:28:23.150911   25701 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0721 22:28:23.151243   25701 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0721 22:28:23.151575   25701 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=["tf2-keras-cifar10-inceptionv3-elastic-20210721-102823"] "scheduler"="default"
I0721 22:28:23.173551   25701 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0721 22:28:23.175719   25701 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0721 22:28:23.175828   25701 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0721 22:28:23.175870   25701 placement_manager.go:250]  "msg"="Released slots"  "jobs"={} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0721 22:28:23.176354   25701 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{}] "scheduler"="default"
I0721 22:28:23.176710   25701 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=0
I0721 22:28:23.177037   25701 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823":{}} "old"={} "scheduler"="default"
I0721 22:28:23.177383   25701 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=0 "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210721-102823-worker-1":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210721-102823-worker-2":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210721-102823-worker-3":"gpu4"} "old"={} "scheduler"="default" "workersToDelete"=0
I0721 22:28:23.177728   25701 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0721 22:28:23.178035   25701 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0721 22:28:23.219492   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-102823-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0721 22:28:23.254470   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-102823-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0721 22:28:23.264596   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-102823-worker-2" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0721 22:28:23.279277   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-102823-worker-3" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0721 22:28:23.290196   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-102823-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 22:28:46.261342   25701 jobmaster.go:155]  "msg"="Training job created"  "job"="tf2-keras-cifar10-resnet50-elastic-20210721-102846"
I0721 22:28:46.261521   25701 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-21T22:30:23.17822855+08:00" "lastResched"="2021-07-21T22:28:23.17822855+08:00" "received"="2021-07-21T22:28:46.260838371+08:00" "scheduler"="default"
I0721 22:29:14.174716   25701 jobmaster.go:155]  "msg"="Training job created"  "job"="tf2-keras-cifar10-inceptionv3-elastic-20210721-102914"
I0721 22:29:44.063779   25701 jobmaster.go:155]  "msg"="Training job created"  "job"="tf2-keras-cifar10-vgg16-elastic-20210721-102944"
I0721 22:30:05.954259   25701 jobmaster.go:155]  "msg"="Training job created"  "job"="tf2-keras-cifar10-vgg16-elastic-20210721-103005"
I0721 22:30:23.178365   25701 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0721 22:30:23.178476   25701 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0721 22:30:23.182825   25701 ffdl_optimizer.go:129]  "msg"="Finished scheduling"  "FreeGPU"=0 "algorithm"="FfDLOptimizer" "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823":3,"tf2-keras-cifar10-inceptionv3-elastic-20210721-102914":3,"tf2-keras-cifar10-resnet50-elastic-20210721-102846":2,"tf2-keras-cifar10-vgg16-elastic-20210721-102944":2,"tf2-keras-cifar10-vgg16-elastic-20210721-103005":2} "scheduler"="default"
I0721 22:30:23.183105   25701 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0721 22:30:23.183355   25701 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=["tf2-keras-cifar10-inceptionv3-elastic-20210721-102823"] "scheduler"="default"
I0721 22:30:23.205628   25701 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=["tf2-keras-cifar10-resnet50-elastic-20210721-102846","tf2-keras-cifar10-inceptionv3-elastic-20210721-102914","tf2-keras-cifar10-vgg16-elastic-20210721-102944","tf2-keras-cifar10-vgg16-elastic-20210721-103005"] "scheduler"="default"
I0721 22:30:23.252251   25701 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0721 22:30:23.254628   25701 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0721 22:30:23.254724   25701 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0721 22:30:23.254800   25701 placement_manager.go:250]  "msg"="Released slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0721 22:30:23.255251   25701 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{},{},{},{},{},{},{},{},{}] "scheduler"="default"
I0721 22:30:23.255580   25701 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=3
I0721 22:30:23.255860   25701 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-102914":{},"tf2-keras-cifar10-resnet50-elastic-20210721-102846":{},"tf2-keras-cifar10-vgg16-elastic-20210721-102944":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103005":{}} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823":{}} "scheduler"="default"
I0721 22:30:23.256247   25701 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=0 "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210721-102823-worker-1":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210721-102823-worker-2":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210721-102914-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210721-102914-worker-1":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210721-102914-worker-2":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210721-102846-worker-0":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210721-102846-worker-1":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210721-102846-worker-2":"gpu5","tf2-keras-cifar10-vgg16-elastic-20210721-102944-worker-0":"gpu3","tf2-keras-cifar10-vgg16-elastic-20210721-102944-worker-1":"gpu3","tf2-keras-cifar10-vgg16-elastic-20210721-103005-worker-0":"gpu3","tf2-keras-cifar10-vgg16-elastic-20210721-103005-worker-1":"gpu3"} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210721-102823-worker-1":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210721-102823-worker-2":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210721-102823-worker-3":"gpu4"} "scheduler"="default" "workersToDelete"=0
I0721 22:30:23.256579   25701 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0721 22:30:23.256813   25701 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0721 22:30:24.018703   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210721-102846-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0721 22:30:24.418141   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210721-102846-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0721 22:30:24.819511   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210721-102846-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 22:30:25.419960   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-102914-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0721 22:30:25.819773   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-102914-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0721 22:30:26.218745   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-102914-worker-2" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0721 22:30:26.829401   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-102914-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 22:30:27.233764   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210721-102944-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0721 22:30:27.630419   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210721-102944-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0721 22:30:28.027375   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210721-102944-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 22:30:28.618146   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210721-103005-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0721 22:30:28.885519   25701 jobmaster.go:155]  "msg"="Training job created"  "job"="tf2-keras-transformer-elastic-20210721-103028"
I0721 22:30:28.885633   25701 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-21T22:32:23.257024733+08:00" "lastResched"="2021-07-21T22:30:23.257024733+08:00" "received"="2021-07-21T22:30:28.885008349+08:00" "scheduler"="default"
I0721 22:30:29.226332   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210721-103005-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0721 22:30:29.628778   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210721-103005-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 22:30:55.759525   25701 jobmaster.go:155]  "msg"="Training job created"  "job"="tf2-keras-transformer-elastic-20210721-103055"
I0721 22:31:30.694381   25701 jobmaster.go:155]  "msg"="Training job created"  "job"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103130"
I0721 22:32:07.661248   25701 jobmaster.go:155]  "msg"="Training job created"  "job"="tf2-keras-cifar10-resnet50-elastic-20210721-103207"
I0721 22:32:23.257099   25701 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0721 22:32:23.257181   25701 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0721 22:32:23.264114   25701 ffdl_optimizer.go:129]  "msg"="Finished scheduling"  "FreeGPU"=0 "algorithm"="FfDLOptimizer" "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823":1,"tf2-keras-cifar10-inceptionv3-elastic-20210721-102914":3,"tf2-keras-cifar10-inceptionv3-elastic-20210721-103130":1,"tf2-keras-cifar10-resnet50-elastic-20210721-102846":2,"tf2-keras-cifar10-resnet50-elastic-20210721-103207":1,"tf2-keras-cifar10-vgg16-elastic-20210721-102944":1,"tf2-keras-cifar10-vgg16-elastic-20210721-103005":1,"tf2-keras-transformer-elastic-20210721-103028":1,"tf2-keras-transformer-elastic-20210721-103055":1} "scheduler"="default"
I0721 22:32:23.264538   25701 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0721 22:32:23.264866   25701 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=["tf2-keras-cifar10-vgg16-elastic-20210721-103005","tf2-keras-cifar10-inceptionv3-elastic-20210721-102823","tf2-keras-cifar10-vgg16-elastic-20210721-102944"] "scheduler"="default"
I0721 22:32:23.311784   25701 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=["tf2-keras-transformer-elastic-20210721-103028","tf2-keras-transformer-elastic-20210721-103055","tf2-keras-cifar10-inceptionv3-elastic-20210721-103130","tf2-keras-cifar10-resnet50-elastic-20210721-103207"] "scheduler"="default"
I0721 22:32:23.349398   25701 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0721 22:32:23.353146   25701 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0721 22:32:23.353207   25701 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-102914":{},"tf2-keras-cifar10-resnet50-elastic-20210721-102846":{},"tf2-keras-cifar10-vgg16-elastic-20210721-102944":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103005":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0721 22:32:23.353268   25701 placement_manager.go:250]  "msg"="Released slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-102914":{},"tf2-keras-cifar10-resnet50-elastic-20210721-102846":{},"tf2-keras-cifar10-vgg16-elastic-20210721-102944":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103005":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0721 22:32:23.353800   25701 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}] "scheduler"="default"
I0721 22:32:23.354106   25701 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=5
I0721 22:32:23.354398   25701 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-102914":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103130":{},"tf2-keras-cifar10-resnet50-elastic-20210721-102846":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103207":{},"tf2-keras-cifar10-vgg16-elastic-20210721-102944":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103005":{},"tf2-keras-transformer-elastic-20210721-103028":{},"tf2-keras-transformer-elastic-20210721-103055":{}} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-102914":{},"tf2-keras-cifar10-resnet50-elastic-20210721-102846":{},"tf2-keras-cifar10-vgg16-elastic-20210721-102944":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103005":{}} "scheduler"="default"
I0721 22:32:23.354801   25701 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=2 "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210721-102914-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210721-102914-worker-1":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210721-102914-worker-2":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210721-103130-worker-0":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210721-102846-worker-0":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210721-102846-worker-1":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210721-103207-worker-0":"gpu3","tf2-keras-cifar10-vgg16-elastic-20210721-102944-worker-0":"gpu4","tf2-keras-cifar10-vgg16-elastic-20210721-103005-worker-0":"gpu3","tf2-keras-transformer-elastic-20210721-103028-worker-0":"gpu4","tf2-keras-transformer-elastic-20210721-103055-worker-0":"gpu3"} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210721-102823-worker-1":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210721-102823-worker-2":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210721-102914-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210721-102914-worker-1":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210721-102914-worker-2":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210721-102846-worker-0":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210721-102846-worker-1":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210721-102846-worker-2":"gpu5","tf2-keras-cifar10-vgg16-elastic-20210721-102944-worker-0":"gpu3","tf2-keras-cifar10-vgg16-elastic-20210721-102944-worker-1":"gpu3","tf2-keras-cifar10-vgg16-elastic-20210721-103005-worker-0":"gpu3","tf2-keras-cifar10-vgg16-elastic-20210721-103005-worker-1":"gpu3"} "scheduler"="default" "workersToDelete"=3
I0721 22:32:23.355239   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210721-102944-worker-0" "scheduler"="default"
I0721 22:32:23.360153   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210721-102944-launcher" "scheduler"="default"
I0721 22:32:23.364927   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-102823-worker-0" "scheduler"="default"
I0721 22:32:23.369080   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-102823-launcher" "scheduler"="default"
I0721 22:32:23.374009   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210721-102846-worker-1" "scheduler"="default"
I0721 22:32:23.378958   25701 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0721 22:32:23.379248   25701 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0721 22:32:26.896464   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210721-103028-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0721 22:32:27.095008   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210721-103055-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0721 22:32:27.294950   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210721-103028-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 22:32:27.493651   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210721-103055-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 22:32:29.294359   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103130-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0721 22:32:29.491818   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210721-103207-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0721 22:32:29.704686   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103130-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 22:32:30.106685   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210721-103207-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 22:32:31.092340   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210721-102846-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0721 22:32:31.892922   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210721-102944-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0721 22:32:33.692172   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210721-102944-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 22:32:34.621337   25701 jobmaster.go:155]  "msg"="Training job created"  "job"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103234"
I0721 22:32:34.621455   25701 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-21T22:34:23.379483925+08:00" "lastResched"="2021-07-21T22:32:23.379483925+08:00" "received"="2021-07-21T22:32:34.620775556+08:00" "scheduler"="default"
I0721 22:32:35.493637   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-102823-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 22:32:36.292111   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-102823-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0721 22:33:01.512758   25701 jobmaster.go:155]  "msg"="Training job created"  "job"="tf2-keras-transformer-elastic-20210721-103301"
I0721 22:33:26.406162   25701 jobmaster.go:155]  "msg"="Training job created"  "job"="tf2-keras-cifar10-vgg16-elastic-20210721-103326"
I0721 22:33:53.320701   25701 jobmaster.go:155]  "msg"="Training job created"  "job"="tf2-keras-cifar10-vgg16-elastic-20210721-103353"
I0721 22:34:22.243553   25701 jobmaster.go:155]  "msg"="Training job created"  "job"="tf2-keras-cifar10-resnet50-elastic-20210721-103422"
I0721 22:34:23.379520   25701 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0721 22:34:23.379601   25701 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0721 22:34:23.389487   25701 ffdl_optimizer.go:129]  "msg"="Finished scheduling"  "FreeGPU"=0 "algorithm"="FfDLOptimizer" "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823":1,"tf2-keras-cifar10-inceptionv3-elastic-20210721-102914":1,"tf2-keras-cifar10-inceptionv3-elastic-20210721-103130":1,"tf2-keras-cifar10-inceptionv3-elastic-20210721-103234":1,"tf2-keras-cifar10-resnet50-elastic-20210721-102846":1,"tf2-keras-cifar10-resnet50-elastic-20210721-103207":1,"tf2-keras-cifar10-resnet50-elastic-20210721-103422":0,"tf2-keras-cifar10-vgg16-elastic-20210721-102944":1,"tf2-keras-cifar10-vgg16-elastic-20210721-103005":1,"tf2-keras-cifar10-vgg16-elastic-20210721-103326":1,"tf2-keras-cifar10-vgg16-elastic-20210721-103353":0,"tf2-keras-transformer-elastic-20210721-103028":1,"tf2-keras-transformer-elastic-20210721-103055":1,"tf2-keras-transformer-elastic-20210721-103301":1} "scheduler"="default"
I0721 22:34:23.389892   25701 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0721 22:34:23.390177   25701 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=["tf2-keras-cifar10-resnet50-elastic-20210721-102846","tf2-keras-cifar10-inceptionv3-elastic-20210721-102914"] "scheduler"="default"
I0721 22:34:23.428510   25701 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=["tf2-keras-cifar10-inceptionv3-elastic-20210721-103234","tf2-keras-cifar10-vgg16-elastic-20210721-103326","tf2-keras-transformer-elastic-20210721-103301"] "scheduler"="default"
I0721 22:34:23.450366   25701 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0721 22:34:23.455934   25701 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0721 22:34:23.456094   25701 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-102914":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103130":{},"tf2-keras-cifar10-resnet50-elastic-20210721-102846":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103207":{},"tf2-keras-cifar10-vgg16-elastic-20210721-102944":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103005":{},"tf2-keras-transformer-elastic-20210721-103028":{},"tf2-keras-transformer-elastic-20210721-103055":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0721 22:34:23.456258   25701 placement_manager.go:250]  "msg"="Released slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-102914":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103130":{},"tf2-keras-cifar10-resnet50-elastic-20210721-102846":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103207":{},"tf2-keras-cifar10-vgg16-elastic-20210721-102944":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103005":{},"tf2-keras-transformer-elastic-20210721-103028":{},"tf2-keras-transformer-elastic-20210721-103055":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0721 22:34:23.456851   25701 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}] "scheduler"="default"
I0721 22:34:23.457246   25701 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=7
I0721 22:34:23.457650   25701 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-102914":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103130":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103234":{},"tf2-keras-cifar10-resnet50-elastic-20210721-102846":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103207":{},"tf2-keras-cifar10-vgg16-elastic-20210721-102944":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103005":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103326":{},"tf2-keras-transformer-elastic-20210721-103028":{},"tf2-keras-transformer-elastic-20210721-103055":{},"tf2-keras-transformer-elastic-20210721-103301":{}} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-102914":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103130":{},"tf2-keras-cifar10-resnet50-elastic-20210721-102846":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103207":{},"tf2-keras-cifar10-vgg16-elastic-20210721-102944":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103005":{},"tf2-keras-transformer-elastic-20210721-103028":{},"tf2-keras-transformer-elastic-20210721-103055":{}} "scheduler"="default"
I0721 22:34:23.458097   25701 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=2 "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210721-102914-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210721-103130-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210721-103234-worker-0":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210721-102846-worker-0":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210721-103207-worker-0":"gpu3","tf2-keras-cifar10-vgg16-elastic-20210721-102944-worker-0":"gpu4","tf2-keras-cifar10-vgg16-elastic-20210721-103005-worker-0":"gpu3","tf2-keras-cifar10-vgg16-elastic-20210721-103326-worker-0":"gpu4","tf2-keras-transformer-elastic-20210721-103028-worker-0":"gpu4","tf2-keras-transformer-elastic-20210721-103055-worker-0":"gpu5","tf2-keras-transformer-elastic-20210721-103301-worker-0":"gpu5"} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210721-102914-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210721-102914-worker-1":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210721-102914-worker-2":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210721-103130-worker-0":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210721-102846-worker-0":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210721-102846-worker-1":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210721-103207-worker-0":"gpu3","tf2-keras-cifar10-vgg16-elastic-20210721-102944-worker-0":"gpu4","tf2-keras-cifar10-vgg16-elastic-20210721-103005-worker-0":"gpu3","tf2-keras-transformer-elastic-20210721-103028-worker-0":"gpu4","tf2-keras-transformer-elastic-20210721-103055-worker-0":"gpu3"} "scheduler"="default" "workersToDelete"=2
I0721 22:34:23.458426   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-102823-worker-0" "scheduler"="default"
I0721 22:34:23.464550   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-102823-launcher" "scheduler"="default"
I0721 22:34:23.468912   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210721-103055-worker-0" "scheduler"="default"
I0721 22:34:23.472609   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210721-103055-launcher" "scheduler"="default"
I0721 22:34:23.477683   25701 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0721 22:34:23.480375   25701 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0721 22:34:25.219356   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103234-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0721 22:34:25.622916   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103234-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 22:34:26.222695   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210721-103326-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0721 22:34:26.823351   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210721-103326-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 22:34:28.630056   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210721-103301-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0721 22:34:28.821807   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210721-103301-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 22:34:33.422428   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-102823-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0721 22:34:34.589638   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210721-103055-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 22:34:34.601468   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-102823-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 22:34:39.897989   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210721-103055-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0721 22:34:51.179336   25701 jobmaster.go:155]  "msg"="Training job created"  "job"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103451"
I0721 22:34:51.179412   25701 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-21T22:36:23.480868632+08:00" "lastResched"="2021-07-21T22:34:23.480868632+08:00" "received"="2021-07-21T22:34:51.178885461+08:00" "scheduler"="default"
I0721 22:35:27.113168   25701 jobmaster.go:155]  "msg"="Training job created"  "job"="tf2-keras-transformer-elastic-20210721-103527"
I0721 22:35:49.968257   25701 jobmaster.go:155]  "msg"="Training job created"  "job"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103549"
I0721 22:36:11.930010   25701 jobmaster.go:155]  "msg"="Training job created"  "job"="tf2-keras-cifar10-resnet50-elastic-20210721-103611"
I0721 22:36:23.480902   25701 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0721 22:36:23.480955   25701 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0721 22:36:23.492178   25701 ffdl_optimizer.go:129]  "msg"="Finished scheduling"  "FreeGPU"=0 "algorithm"="FfDLOptimizer" "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823":1,"tf2-keras-cifar10-inceptionv3-elastic-20210721-102914":1,"tf2-keras-cifar10-inceptionv3-elastic-20210721-103130":1,"tf2-keras-cifar10-inceptionv3-elastic-20210721-103234":1,"tf2-keras-cifar10-inceptionv3-elastic-20210721-103451":0,"tf2-keras-cifar10-inceptionv3-elastic-20210721-103549":0,"tf2-keras-cifar10-resnet50-elastic-20210721-102846":1,"tf2-keras-cifar10-resnet50-elastic-20210721-103207":1,"tf2-keras-cifar10-resnet50-elastic-20210721-103422":0,"tf2-keras-cifar10-resnet50-elastic-20210721-103611":0,"tf2-keras-cifar10-vgg16-elastic-20210721-102944":1,"tf2-keras-cifar10-vgg16-elastic-20210721-103005":1,"tf2-keras-cifar10-vgg16-elastic-20210721-103326":1,"tf2-keras-cifar10-vgg16-elastic-20210721-103353":0,"tf2-keras-transformer-elastic-20210721-103028":1,"tf2-keras-transformer-elastic-20210721-103055":1,"tf2-keras-transformer-elastic-20210721-103301":1,"tf2-keras-transformer-elastic-20210721-103527":0} "scheduler"="default"
I0721 22:36:23.492587   25701 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0721 22:36:23.492834   25701 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0721 22:36:23.493085   25701 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=[] "scheduler"="default"
I0721 22:36:23.493385   25701 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0721 22:36:23.493623   25701 scheduler.go:180]  "msg"="Nothing changed, skipped ajust placements"  "scheduler"="default"
I0721 22:36:23.493677   25701 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0721 22:36:44.869110   25701 jobmaster.go:155]  "msg"="Training job created"  "job"="tf2-keras-cifar10-vgg16-elastic-20210721-103644"
I0721 22:36:44.869267   25701 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-21T22:38:23.493903294+08:00" "lastResched"="2021-07-21T22:36:23.493903294+08:00" "received"="2021-07-21T22:36:44.868542625+08:00" "scheduler"="default"
I0721 22:37:06.724225   25701 jobmaster.go:155]  "msg"="Training job created"  "job"="tf2-keras-transformer-elastic-20210721-103706"
I0721 22:37:46.651848   25701 jobmaster.go:155]  "msg"="Training job created"  "job"="tf2-keras-cifar10-vgg16-elastic-20210721-103746"
I0721 22:38:23.494021   25701 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0721 22:38:23.494088   25701 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0721 22:38:23.505445   25701 ffdl_optimizer.go:129]  "msg"="Finished scheduling"  "FreeGPU"=0 "algorithm"="FfDLOptimizer" "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823":1,"tf2-keras-cifar10-inceptionv3-elastic-20210721-102914":1,"tf2-keras-cifar10-inceptionv3-elastic-20210721-103130":1,"tf2-keras-cifar10-inceptionv3-elastic-20210721-103234":1,"tf2-keras-cifar10-inceptionv3-elastic-20210721-103451":0,"tf2-keras-cifar10-inceptionv3-elastic-20210721-103549":0,"tf2-keras-cifar10-resnet50-elastic-20210721-102846":1,"tf2-keras-cifar10-resnet50-elastic-20210721-103207":1,"tf2-keras-cifar10-resnet50-elastic-20210721-103422":0,"tf2-keras-cifar10-resnet50-elastic-20210721-103611":0,"tf2-keras-cifar10-vgg16-elastic-20210721-102944":1,"tf2-keras-cifar10-vgg16-elastic-20210721-103005":1,"tf2-keras-cifar10-vgg16-elastic-20210721-103326":1,"tf2-keras-cifar10-vgg16-elastic-20210721-103353":0,"tf2-keras-cifar10-vgg16-elastic-20210721-103644":0,"tf2-keras-cifar10-vgg16-elastic-20210721-103746":0,"tf2-keras-transformer-elastic-20210721-103028":1,"tf2-keras-transformer-elastic-20210721-103055":1,"tf2-keras-transformer-elastic-20210721-103301":1,"tf2-keras-transformer-elastic-20210721-103527":0,"tf2-keras-transformer-elastic-20210721-103706":0} "scheduler"="default"
I0721 22:38:23.505876   25701 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0721 22:38:23.506160   25701 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0721 22:38:23.506420   25701 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=[] "scheduler"="default"
I0721 22:38:23.506645   25701 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0721 22:38:23.506849   25701 scheduler.go:180]  "msg"="Nothing changed, skipped ajust placements"  "scheduler"="default"
I0721 22:38:23.506874   25701 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0721 22:38:25.546687   25701 jobmaster.go:155]  "msg"="Training job created"  "job"="tf2-keras-cifar10-resnet50-elastic-20210721-103825"
I0721 22:38:25.546945   25701 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-21T22:40:23.507101356+08:00" "lastResched"="2021-07-21T22:38:23.507101356+08:00" "received"="2021-07-21T22:38:25.546151304+08:00" "scheduler"="default"
I0721 22:38:51.471539   25701 jobmaster.go:155]  "msg"="Training job created"  "job"="tf2-keras-cifar10-resnet50-elastic-20210721-103851"
I0721 22:39:19.361180   25701 jobmaster.go:155]  "msg"="Training job created"  "job"="tf2-keras-transformer-elastic-20210721-103919"
I0721 22:40:23.507235   25701 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0721 22:40:23.507809   25701 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0721 22:40:23.522153   25701 ffdl_optimizer.go:129]  "msg"="Finished scheduling"  "FreeGPU"=0 "algorithm"="FfDLOptimizer" "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823":1,"tf2-keras-cifar10-inceptionv3-elastic-20210721-102914":1,"tf2-keras-cifar10-inceptionv3-elastic-20210721-103130":1,"tf2-keras-cifar10-inceptionv3-elastic-20210721-103234":1,"tf2-keras-cifar10-inceptionv3-elastic-20210721-103451":0,"tf2-keras-cifar10-inceptionv3-elastic-20210721-103549":0,"tf2-keras-cifar10-resnet50-elastic-20210721-102846":1,"tf2-keras-cifar10-resnet50-elastic-20210721-103207":1,"tf2-keras-cifar10-resnet50-elastic-20210721-103422":0,"tf2-keras-cifar10-resnet50-elastic-20210721-103611":0,"tf2-keras-cifar10-resnet50-elastic-20210721-103825":0,"tf2-keras-cifar10-resnet50-elastic-20210721-103851":0,"tf2-keras-cifar10-vgg16-elastic-20210721-102944":1,"tf2-keras-cifar10-vgg16-elastic-20210721-103005":1,"tf2-keras-cifar10-vgg16-elastic-20210721-103326":1,"tf2-keras-cifar10-vgg16-elastic-20210721-103353":0,"tf2-keras-cifar10-vgg16-elastic-20210721-103644":0,"tf2-keras-cifar10-vgg16-elastic-20210721-103746":0,"tf2-keras-transformer-elastic-20210721-103028":1,"tf2-keras-transformer-elastic-20210721-103055":1,"tf2-keras-transformer-elastic-20210721-103301":1,"tf2-keras-transformer-elastic-20210721-103527":0,"tf2-keras-transformer-elastic-20210721-103706":0,"tf2-keras-transformer-elastic-20210721-103919":0} "scheduler"="default"
I0721 22:40:23.522533   25701 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0721 22:40:23.522801   25701 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0721 22:40:23.522979   25701 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=[] "scheduler"="default"
I0721 22:40:23.523147   25701 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0721 22:40:23.523345   25701 scheduler.go:180]  "msg"="Nothing changed, skipped ajust placements"  "scheduler"="default"
I0721 22:40:23.523376   25701 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0721 22:53:17.797769   25701 scheduler.go:474]  "msg"="Training job completed"  "elaspedTotalSeconds"=1412.344133631 "gpuTotalSeconds"=1495.044667207 "job"="tf2-keras-cifar10-vgg16-elastic-20210721-102944" "ranTotalSeconds"=1375.041260487 "scheduler"="default" "waitedTotalSeconds"=37.302873144
I0721 22:53:17.797911   25701 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-21T22:42:23.523519252+08:00" "lastResched"="2021-07-21T22:40:23.523519252+08:00" "received"="2021-07-21T22:53:17.797802232+08:00" "scheduler"="default"
I0721 22:53:17.798419   25701 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0721 22:53:17.798486   25701 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0721 22:53:17.810761   25701 ffdl_optimizer.go:129]  "msg"="Finished scheduling"  "FreeGPU"=0 "algorithm"="FfDLOptimizer" "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823":1,"tf2-keras-cifar10-inceptionv3-elastic-20210721-102914":1,"tf2-keras-cifar10-inceptionv3-elastic-20210721-103130":1,"tf2-keras-cifar10-inceptionv3-elastic-20210721-103234":1,"tf2-keras-cifar10-inceptionv3-elastic-20210721-103451":0,"tf2-keras-cifar10-inceptionv3-elastic-20210721-103549":0,"tf2-keras-cifar10-resnet50-elastic-20210721-102846":1,"tf2-keras-cifar10-resnet50-elastic-20210721-103207":1,"tf2-keras-cifar10-resnet50-elastic-20210721-103422":0,"tf2-keras-cifar10-resnet50-elastic-20210721-103611":0,"tf2-keras-cifar10-resnet50-elastic-20210721-103825":0,"tf2-keras-cifar10-resnet50-elastic-20210721-103851":0,"tf2-keras-cifar10-vgg16-elastic-20210721-103005":1,"tf2-keras-cifar10-vgg16-elastic-20210721-103326":1,"tf2-keras-cifar10-vgg16-elastic-20210721-103353":1,"tf2-keras-cifar10-vgg16-elastic-20210721-103644":0,"tf2-keras-cifar10-vgg16-elastic-20210721-103746":0,"tf2-keras-transformer-elastic-20210721-103028":1,"tf2-keras-transformer-elastic-20210721-103055":1,"tf2-keras-transformer-elastic-20210721-103301":1,"tf2-keras-transformer-elastic-20210721-103527":0,"tf2-keras-transformer-elastic-20210721-103706":0,"tf2-keras-transformer-elastic-20210721-103919":0} "scheduler"="default"
I0721 22:53:17.811228   25701 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0721 22:53:17.811586   25701 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0721 22:53:17.811864   25701 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=["tf2-keras-cifar10-vgg16-elastic-20210721-103353"] "scheduler"="default"
I0721 22:53:17.822376   25701 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0721 22:53:17.827615   25701 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0721 22:53:17.827707   25701 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-102914":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103130":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103234":{},"tf2-keras-cifar10-resnet50-elastic-20210721-102846":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103207":{},"tf2-keras-cifar10-vgg16-elastic-20210721-102944":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103005":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103326":{},"tf2-keras-transformer-elastic-20210721-103028":{},"tf2-keras-transformer-elastic-20210721-103055":{},"tf2-keras-transformer-elastic-20210721-103301":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0721 22:53:17.827788   25701 placement_manager.go:250]  "msg"="Released slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-102914":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103130":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103234":{},"tf2-keras-cifar10-resnet50-elastic-20210721-102846":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103207":{},"tf2-keras-cifar10-vgg16-elastic-20210721-102944":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103005":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103326":{},"tf2-keras-transformer-elastic-20210721-103028":{},"tf2-keras-transformer-elastic-20210721-103055":{},"tf2-keras-transformer-elastic-20210721-103301":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0721 22:53:17.828173   25701 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}] "scheduler"="default"
I0721 22:53:17.828501   25701 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=5
I0721 22:53:17.828852   25701 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-102914":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103130":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103234":{},"tf2-keras-cifar10-resnet50-elastic-20210721-102846":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103207":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103005":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103326":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103353":{},"tf2-keras-transformer-elastic-20210721-103028":{},"tf2-keras-transformer-elastic-20210721-103055":{},"tf2-keras-transformer-elastic-20210721-103301":{}} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-102914":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103130":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103234":{},"tf2-keras-cifar10-resnet50-elastic-20210721-102846":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103207":{},"tf2-keras-cifar10-vgg16-elastic-20210721-102944":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103005":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103326":{},"tf2-keras-transformer-elastic-20210721-103028":{},"tf2-keras-transformer-elastic-20210721-103055":{},"tf2-keras-transformer-elastic-20210721-103301":{}} "scheduler"="default"
I0721 22:53:17.829346   25701 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=6 "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210721-102914-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210721-103130-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210721-103234-worker-0":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210721-102846-worker-0":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210721-103207-worker-0":"gpu5","tf2-keras-cifar10-vgg16-elastic-20210721-103005-worker-0":"gpu4","tf2-keras-cifar10-vgg16-elastic-20210721-103326-worker-0":"gpu3","tf2-keras-cifar10-vgg16-elastic-20210721-103353-worker-0":"gpu3","tf2-keras-transformer-elastic-20210721-103028-worker-0":"gpu4","tf2-keras-transformer-elastic-20210721-103055-worker-0":"gpu5","tf2-keras-transformer-elastic-20210721-103301-worker-0":"gpu4"} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210721-102914-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210721-103130-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210721-103234-worker-0":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210721-102846-worker-0":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210721-103207-worker-0":"gpu3","tf2-keras-cifar10-vgg16-elastic-20210721-102944-worker-0":"gpu4","tf2-keras-cifar10-vgg16-elastic-20210721-103005-worker-0":"gpu3","tf2-keras-cifar10-vgg16-elastic-20210721-103326-worker-0":"gpu4","tf2-keras-transformer-elastic-20210721-103028-worker-0":"gpu4","tf2-keras-transformer-elastic-20210721-103055-worker-0":"gpu5","tf2-keras-transformer-elastic-20210721-103301-worker-0":"gpu5"} "scheduler"="default" "workersToDelete"=6
I0721 22:53:17.829649   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210721-103207-worker-0" "scheduler"="default"
I0721 22:53:17.833645   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210721-103207-launcher" "scheduler"="default"
I0721 22:53:17.838321   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-102914-worker-0" "scheduler"="default"
I0721 22:53:17.843076   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-102914-launcher" "scheduler"="default"
I0721 22:53:17.846725   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210721-103005-worker-0" "scheduler"="default"
I0721 22:53:17.850529   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210721-103005-launcher" "scheduler"="default"
I0721 22:53:17.854190   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210721-103301-worker-0" "scheduler"="default"
I0721 22:53:17.857524   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210721-103301-launcher" "scheduler"="default"
I0721 22:53:17.861352   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210721-103326-worker-0" "scheduler"="default"
I0721 22:53:17.865006   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210721-103326-launcher" "scheduler"="default"
I0721 22:53:17.869117   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103130-worker-0" "scheduler"="default"
I0721 22:53:18.034353   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103130-launcher" "scheduler"="default"
I0721 22:53:18.194466   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210721-103353-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0721 22:53:18.910386   25701 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0721 22:53:18.910804   25701 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0721 22:53:18.910404   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210721-103353-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 22:53:25.306900   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210721-103207-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 22:53:26.280085   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-102914-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 22:53:26.318206   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210721-103326-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 22:53:29.517011   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103130-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 22:53:30.514244   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103130-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0721 22:53:30.649628   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210721-103301-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0721 22:53:31.131215   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210721-103005-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 22:53:32.132334   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210721-103301-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 22:53:32.230817   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210721-103005-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0721 22:53:32.849238   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-102914-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0721 22:53:33.118311   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210721-103207-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0721 22:53:35.235584   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210721-103326-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0721 22:55:12.617252   25701 scheduler.go:474]  "msg"="Training job completed"  "elaspedTotalSeconds"=1505.457680873 "gpuTotalSeconds"=1610.048671483 "job"="tf2-keras-cifar10-vgg16-elastic-20210721-103005" "ranTotalSeconds"=1490.045286854 "scheduler"="default" "waitedTotalSeconds"=15.412394019
I0721 22:55:12.617404   25701 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-21T22:55:18.911065751+08:00" "lastResched"="2021-07-21T22:53:18.911065751+08:00" "received"="2021-07-21T22:55:12.617296692+08:00" "scheduler"="default"
I0721 22:55:18.911235   25701 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0721 22:55:18.911446   25701 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0721 22:55:18.923127   25701 ffdl_optimizer.go:129]  "msg"="Finished scheduling"  "FreeGPU"=0 "algorithm"="FfDLOptimizer" "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823":1,"tf2-keras-cifar10-inceptionv3-elastic-20210721-102914":1,"tf2-keras-cifar10-inceptionv3-elastic-20210721-103130":1,"tf2-keras-cifar10-inceptionv3-elastic-20210721-103234":1,"tf2-keras-cifar10-inceptionv3-elastic-20210721-103451":0,"tf2-keras-cifar10-inceptionv3-elastic-20210721-103549":0,"tf2-keras-cifar10-resnet50-elastic-20210721-102846":1,"tf2-keras-cifar10-resnet50-elastic-20210721-103207":1,"tf2-keras-cifar10-resnet50-elastic-20210721-103422":1,"tf2-keras-cifar10-resnet50-elastic-20210721-103611":0,"tf2-keras-cifar10-resnet50-elastic-20210721-103825":0,"tf2-keras-cifar10-resnet50-elastic-20210721-103851":0,"tf2-keras-cifar10-vgg16-elastic-20210721-103326":1,"tf2-keras-cifar10-vgg16-elastic-20210721-103353":1,"tf2-keras-cifar10-vgg16-elastic-20210721-103644":0,"tf2-keras-cifar10-vgg16-elastic-20210721-103746":0,"tf2-keras-transformer-elastic-20210721-103028":1,"tf2-keras-transformer-elastic-20210721-103055":1,"tf2-keras-transformer-elastic-20210721-103301":1,"tf2-keras-transformer-elastic-20210721-103527":0,"tf2-keras-transformer-elastic-20210721-103706":0,"tf2-keras-transformer-elastic-20210721-103919":0} "scheduler"="default"
I0721 22:55:18.923468   25701 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0721 22:55:18.923771   25701 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0721 22:55:18.924014   25701 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=["tf2-keras-cifar10-resnet50-elastic-20210721-103422"] "scheduler"="default"
I0721 22:55:18.935600   25701 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0721 22:55:18.939723   25701 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0721 22:55:18.939877   25701 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-102914":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103130":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103234":{},"tf2-keras-cifar10-resnet50-elastic-20210721-102846":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103207":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103005":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103326":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103353":{},"tf2-keras-transformer-elastic-20210721-103028":{},"tf2-keras-transformer-elastic-20210721-103055":{},"tf2-keras-transformer-elastic-20210721-103301":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0721 22:55:18.939978   25701 placement_manager.go:250]  "msg"="Released slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-102914":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103130":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103234":{},"tf2-keras-cifar10-resnet50-elastic-20210721-102846":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103207":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103005":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103326":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103353":{},"tf2-keras-transformer-elastic-20210721-103028":{},"tf2-keras-transformer-elastic-20210721-103055":{},"tf2-keras-transformer-elastic-20210721-103301":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0721 22:55:18.940363   25701 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}] "scheduler"="default"
I0721 22:55:18.940724   25701 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=6
I0721 22:55:18.941130   25701 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-102914":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103130":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103234":{},"tf2-keras-cifar10-resnet50-elastic-20210721-102846":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103207":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103422":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103326":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103353":{},"tf2-keras-transformer-elastic-20210721-103028":{},"tf2-keras-transformer-elastic-20210721-103055":{},"tf2-keras-transformer-elastic-20210721-103301":{}} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-102914":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103130":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103234":{},"tf2-keras-cifar10-resnet50-elastic-20210721-102846":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103207":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103005":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103326":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103353":{},"tf2-keras-transformer-elastic-20210721-103028":{},"tf2-keras-transformer-elastic-20210721-103055":{},"tf2-keras-transformer-elastic-20210721-103301":{}} "scheduler"="default"
I0721 22:55:18.941587   25701 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=5 "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210721-102914-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210721-103130-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210721-103234-worker-0":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210721-102846-worker-0":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210721-103207-worker-0":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210721-103422-worker-0":"gpu4","tf2-keras-cifar10-vgg16-elastic-20210721-103326-worker-0":"gpu3","tf2-keras-cifar10-vgg16-elastic-20210721-103353-worker-0":"gpu3","tf2-keras-transformer-elastic-20210721-103028-worker-0":"gpu3","tf2-keras-transformer-elastic-20210721-103055-worker-0":"gpu4","tf2-keras-transformer-elastic-20210721-103301-worker-0":"gpu4"} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210721-102914-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210721-103130-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210721-103234-worker-0":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210721-102846-worker-0":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210721-103207-worker-0":"gpu5","tf2-keras-cifar10-vgg16-elastic-20210721-103005-worker-0":"gpu4","tf2-keras-cifar10-vgg16-elastic-20210721-103326-worker-0":"gpu3","tf2-keras-cifar10-vgg16-elastic-20210721-103353-worker-0":"gpu3","tf2-keras-transformer-elastic-20210721-103028-worker-0":"gpu4","tf2-keras-transformer-elastic-20210721-103055-worker-0":"gpu5","tf2-keras-transformer-elastic-20210721-103301-worker-0":"gpu4"} "scheduler"="default" "workersToDelete"=5
I0721 22:55:18.941834   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210721-103028-worker-0" "scheduler"="default"
I0721 22:55:18.949336   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210721-103028-launcher" "scheduler"="default"
I0721 22:55:18.960439   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210721-102846-worker-0" "scheduler"="default"
I0721 22:55:18.963912   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210721-102846-launcher" "scheduler"="default"
I0721 22:55:18.967346   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210721-103207-worker-0" "scheduler"="default"
I0721 22:55:18.970769   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210721-103207-launcher" "scheduler"="default"
I0721 22:55:18.974418   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-102914-worker-0" "scheduler"="default"
I0721 22:55:18.977997   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-102914-launcher" "scheduler"="default"
I0721 22:55:18.982097   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210721-103055-worker-0" "scheduler"="default"
I0721 22:55:18.985129   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210721-103422-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0721 22:55:18.986042   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210721-103055-launcher" "scheduler"="default"
I0721 22:55:19.150013   25701 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0721 22:55:19.150314   25701 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0721 22:55:19.749309   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210721-103422-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 22:55:27.330294   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210721-103207-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0721 22:55:29.186575   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210721-103207-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 22:55:29.752995   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210721-103055-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0721 22:55:29.785705   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-102914-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 22:55:30.173762   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210721-103028-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0721 22:55:31.379555   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210721-103055-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 22:55:39.174425   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210721-102846-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0721 22:55:39.263687   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-102914-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0721 22:55:40.654527   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210721-102846-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 22:55:41.654258   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210721-103028-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 22:58:43.290611   25701 scheduler.go:474]  "msg"="Training job completed"  "elaspedTotalSeconds"=1593.75858697 "gpuTotalSeconds"=1580.049741829 "job"="tf2-keras-cifar10-resnet50-elastic-20210721-103207" "ranTotalSeconds"=1580.049741829 "scheduler"="default" "waitedTotalSeconds"=13.708845141
I0721 22:58:43.290792   25701 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-21T22:57:19.15051321+08:00" "lastResched"="2021-07-21T22:55:19.15051321+08:00" "received"="2021-07-21T22:58:43.290661543+08:00" "scheduler"="default"
I0721 22:58:43.291290   25701 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0721 22:58:43.291408   25701 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0721 22:58:43.305812   25701 ffdl_optimizer.go:129]  "msg"="Finished scheduling"  "FreeGPU"=0 "algorithm"="FfDLOptimizer" "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823":1,"tf2-keras-cifar10-inceptionv3-elastic-20210721-102914":1,"tf2-keras-cifar10-inceptionv3-elastic-20210721-103130":1,"tf2-keras-cifar10-inceptionv3-elastic-20210721-103234":1,"tf2-keras-cifar10-inceptionv3-elastic-20210721-103451":1,"tf2-keras-cifar10-inceptionv3-elastic-20210721-103549":0,"tf2-keras-cifar10-resnet50-elastic-20210721-102846":1,"tf2-keras-cifar10-resnet50-elastic-20210721-103422":1,"tf2-keras-cifar10-resnet50-elastic-20210721-103611":0,"tf2-keras-cifar10-resnet50-elastic-20210721-103825":0,"tf2-keras-cifar10-resnet50-elastic-20210721-103851":0,"tf2-keras-cifar10-vgg16-elastic-20210721-103326":1,"tf2-keras-cifar10-vgg16-elastic-20210721-103353":1,"tf2-keras-cifar10-vgg16-elastic-20210721-103644":0,"tf2-keras-cifar10-vgg16-elastic-20210721-103746":0,"tf2-keras-transformer-elastic-20210721-103028":1,"tf2-keras-transformer-elastic-20210721-103055":1,"tf2-keras-transformer-elastic-20210721-103301":1,"tf2-keras-transformer-elastic-20210721-103527":0,"tf2-keras-transformer-elastic-20210721-103706":0,"tf2-keras-transformer-elastic-20210721-103919":0} "scheduler"="default"
I0721 22:58:43.306230   25701 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0721 22:58:43.306488   25701 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0721 22:58:43.306808   25701 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=["tf2-keras-cifar10-inceptionv3-elastic-20210721-103451"] "scheduler"="default"
I0721 22:58:43.316888   25701 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0721 22:58:43.321776   25701 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0721 22:58:43.321893   25701 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-102914":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103130":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103234":{},"tf2-keras-cifar10-resnet50-elastic-20210721-102846":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103207":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103422":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103326":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103353":{},"tf2-keras-transformer-elastic-20210721-103028":{},"tf2-keras-transformer-elastic-20210721-103055":{},"tf2-keras-transformer-elastic-20210721-103301":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0721 22:58:43.322023   25701 placement_manager.go:250]  "msg"="Released slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-102914":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103130":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103234":{},"tf2-keras-cifar10-resnet50-elastic-20210721-102846":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103207":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103422":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103326":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103353":{},"tf2-keras-transformer-elastic-20210721-103028":{},"tf2-keras-transformer-elastic-20210721-103055":{},"tf2-keras-transformer-elastic-20210721-103301":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0721 22:58:43.322657   25701 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}] "scheduler"="default"
I0721 22:58:43.323054   25701 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=5
I0721 22:58:43.323358   25701 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-102914":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103130":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103234":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103451":{},"tf2-keras-cifar10-resnet50-elastic-20210721-102846":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103422":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103326":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103353":{},"tf2-keras-transformer-elastic-20210721-103028":{},"tf2-keras-transformer-elastic-20210721-103055":{},"tf2-keras-transformer-elastic-20210721-103301":{}} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-102914":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103130":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103234":{},"tf2-keras-cifar10-resnet50-elastic-20210721-102846":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103207":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103422":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103326":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103353":{},"tf2-keras-transformer-elastic-20210721-103028":{},"tf2-keras-transformer-elastic-20210721-103055":{},"tf2-keras-transformer-elastic-20210721-103301":{}} "scheduler"="default"
I0721 22:58:43.323800   25701 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=6 "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210721-102914-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210721-103130-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210721-103234-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210721-103451-worker-0":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210721-102846-worker-0":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210721-103422-worker-0":"gpu4","tf2-keras-cifar10-vgg16-elastic-20210721-103326-worker-0":"gpu5","tf2-keras-cifar10-vgg16-elastic-20210721-103353-worker-0":"gpu4","tf2-keras-transformer-elastic-20210721-103028-worker-0":"gpu3","tf2-keras-transformer-elastic-20210721-103055-worker-0":"gpu5","tf2-keras-transformer-elastic-20210721-103301-worker-0":"gpu4"} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210721-102914-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210721-103130-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210721-103234-worker-0":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210721-102846-worker-0":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210721-103207-worker-0":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210721-103422-worker-0":"gpu4","tf2-keras-cifar10-vgg16-elastic-20210721-103326-worker-0":"gpu3","tf2-keras-cifar10-vgg16-elastic-20210721-103353-worker-0":"gpu3","tf2-keras-transformer-elastic-20210721-103028-worker-0":"gpu3","tf2-keras-transformer-elastic-20210721-103055-worker-0":"gpu4","tf2-keras-transformer-elastic-20210721-103301-worker-0":"gpu4"} "scheduler"="default" "workersToDelete"=6
I0721 22:58:43.324112   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210721-102846-worker-0" "scheduler"="default"
I0721 22:58:43.330207   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210721-102846-launcher" "scheduler"="default"
I0721 22:58:43.334818   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210721-103055-worker-0" "scheduler"="default"
I0721 22:58:43.350429   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210721-103055-launcher" "scheduler"="default"
I0721 22:58:43.355759   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210721-103353-worker-0" "scheduler"="default"
I0721 22:58:43.361720   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210721-103353-launcher" "scheduler"="default"
I0721 22:58:43.366564   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-102914-worker-0" "scheduler"="default"
I0721 22:58:43.369915   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-102914-launcher" "scheduler"="default"
I0721 22:58:43.374221   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103130-worker-0" "scheduler"="default"
I0721 22:58:43.378440   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103130-launcher" "scheduler"="default"
I0721 22:58:43.383187   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210721-103326-worker-0" "scheduler"="default"
I0721 22:58:43.529026   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210721-103326-launcher" "scheduler"="default"
I0721 22:58:43.730236   25701 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0721 22:58:43.730546   25701 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0721 22:58:43.889456   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103451-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0721 22:58:44.288363   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103451-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 22:58:51.727815   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210721-103353-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 22:58:52.733782   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210721-103055-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 22:58:54.589066   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210721-103055-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0721 22:58:59.269957   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103130-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 22:58:59.310201   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210721-103326-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0721 22:58:59.320221   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210721-103353-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0721 22:59:00.924210   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-102914-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0721 22:59:02.328261   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-102914-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 22:59:03.127549   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210721-103326-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 22:59:04.136142   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103130-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0721 22:59:04.933379   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210721-102846-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 22:59:06.126303   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210721-102846-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0721 23:00:03.632262   25701 scheduler.go:474]  "msg"="Training job completed"  "elaspedTotalSeconds"=1595.016696886 "gpuTotalSeconds"=1540.049747019 "job"="tf2-keras-cifar10-vgg16-elastic-20210721-103326" "ranTotalSeconds"=1540.049747019 "scheduler"="default" "waitedTotalSeconds"=54.966949867
I0721 23:00:03.632404   25701 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-21T23:00:43.730756866+08:00" "lastResched"="2021-07-21T22:58:43.730756866+08:00" "received"="2021-07-21T23:00:03.632301477+08:00" "scheduler"="default"
I0721 23:00:27.042014   25701 scheduler.go:474]  "msg"="Training job completed"  "elaspedTotalSeconds"=1900.162074395 "gpuTotalSeconds"=2045.063179477 "job"="tf2-keras-cifar10-resnet50-elastic-20210721-102846" "ranTotalSeconds"=1805.056775262 "scheduler"="default" "waitedTotalSeconds"=95.105299133
I0721 23:00:43.730819   25701 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0721 23:00:43.730983   25701 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0721 23:00:43.740133   25701 ffdl_optimizer.go:129]  "msg"="Finished scheduling"  "FreeGPU"=0 "algorithm"="FfDLOptimizer" "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823":1,"tf2-keras-cifar10-inceptionv3-elastic-20210721-102914":1,"tf2-keras-cifar10-inceptionv3-elastic-20210721-103130":1,"tf2-keras-cifar10-inceptionv3-elastic-20210721-103234":1,"tf2-keras-cifar10-inceptionv3-elastic-20210721-103451":1,"tf2-keras-cifar10-inceptionv3-elastic-20210721-103549":1,"tf2-keras-cifar10-resnet50-elastic-20210721-103422":1,"tf2-keras-cifar10-resnet50-elastic-20210721-103611":0,"tf2-keras-cifar10-resnet50-elastic-20210721-103825":0,"tf2-keras-cifar10-resnet50-elastic-20210721-103851":0,"tf2-keras-cifar10-vgg16-elastic-20210721-103353":1,"tf2-keras-cifar10-vgg16-elastic-20210721-103644":0,"tf2-keras-cifar10-vgg16-elastic-20210721-103746":0,"tf2-keras-transformer-elastic-20210721-103028":1,"tf2-keras-transformer-elastic-20210721-103055":1,"tf2-keras-transformer-elastic-20210721-103301":1,"tf2-keras-transformer-elastic-20210721-103527":1,"tf2-keras-transformer-elastic-20210721-103706":0,"tf2-keras-transformer-elastic-20210721-103919":0} "scheduler"="default"
I0721 23:00:43.740551   25701 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0721 23:00:43.740834   25701 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0721 23:00:43.741076   25701 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=["tf2-keras-transformer-elastic-20210721-103527","tf2-keras-cifar10-inceptionv3-elastic-20210721-103549"] "scheduler"="default"
I0721 23:00:43.761129   25701 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0721 23:00:43.765118   25701 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0721 23:00:43.765226   25701 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-102914":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103130":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103234":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103451":{},"tf2-keras-cifar10-resnet50-elastic-20210721-102846":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103422":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103326":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103353":{},"tf2-keras-transformer-elastic-20210721-103028":{},"tf2-keras-transformer-elastic-20210721-103055":{},"tf2-keras-transformer-elastic-20210721-103301":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0721 23:00:43.765302   25701 placement_manager.go:250]  "msg"="Released slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-102914":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103130":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103234":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103451":{},"tf2-keras-cifar10-resnet50-elastic-20210721-102846":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103422":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103326":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103353":{},"tf2-keras-transformer-elastic-20210721-103028":{},"tf2-keras-transformer-elastic-20210721-103055":{},"tf2-keras-transformer-elastic-20210721-103301":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0721 23:00:43.765840   25701 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}] "scheduler"="default"
I0721 23:00:43.766172   25701 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=6
I0721 23:00:43.766559   25701 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-102914":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103130":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103234":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103451":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103549":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103422":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103353":{},"tf2-keras-transformer-elastic-20210721-103028":{},"tf2-keras-transformer-elastic-20210721-103055":{},"tf2-keras-transformer-elastic-20210721-103301":{},"tf2-keras-transformer-elastic-20210721-103527":{}} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-102914":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103130":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103234":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103451":{},"tf2-keras-cifar10-resnet50-elastic-20210721-102846":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103422":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103326":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103353":{},"tf2-keras-transformer-elastic-20210721-103028":{},"tf2-keras-transformer-elastic-20210721-103055":{},"tf2-keras-transformer-elastic-20210721-103301":{}} "scheduler"="default"
I0721 23:00:43.767075   25701 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=4 "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210721-102914-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210721-103130-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210721-103234-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210721-103451-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210721-103549-worker-0":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210721-103422-worker-0":"gpu4","tf2-keras-cifar10-vgg16-elastic-20210721-103353-worker-0":"gpu5","tf2-keras-transformer-elastic-20210721-103028-worker-0":"gpu3","tf2-keras-transformer-elastic-20210721-103055-worker-0":"gpu5","tf2-keras-transformer-elastic-20210721-103301-worker-0":"gpu4","tf2-keras-transformer-elastic-20210721-103527-worker-0":"gpu4"} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210721-102914-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210721-103130-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210721-103234-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210721-103451-worker-0":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210721-102846-worker-0":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210721-103422-worker-0":"gpu4","tf2-keras-cifar10-vgg16-elastic-20210721-103326-worker-0":"gpu5","tf2-keras-cifar10-vgg16-elastic-20210721-103353-worker-0":"gpu4","tf2-keras-transformer-elastic-20210721-103028-worker-0":"gpu3","tf2-keras-transformer-elastic-20210721-103055-worker-0":"gpu5","tf2-keras-transformer-elastic-20210721-103301-worker-0":"gpu4"} "scheduler"="default" "workersToDelete"=4
I0721 23:00:43.767390   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103451-worker-0" "scheduler"="default"
I0721 23:00:43.771832   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103451-launcher" "scheduler"="default"
I0721 23:00:43.791518   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210721-103353-worker-0" "scheduler"="default"
I0721 23:00:43.798933   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210721-103353-launcher" "scheduler"="default"
I0721 23:00:43.802885   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103130-worker-0" "scheduler"="default"
I0721 23:00:43.808768   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103130-launcher" "scheduler"="default"
I0721 23:00:43.812588   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-102914-worker-0" "scheduler"="default"
I0721 23:00:43.815973   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-102914-launcher" "scheduler"="default"
I0721 23:00:43.820967   25701 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0721 23:00:43.821261   25701 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0721 23:00:43.820498   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210721-103527-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0721 23:00:44.160944   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210721-103527-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 23:00:44.578168   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103549-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0721 23:00:44.975554   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103549-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 23:00:54.611638   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-102914-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 23:00:54.650472   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103130-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 23:00:54.660091   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210721-103353-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0721 23:00:54.671425   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-102914-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0721 23:00:59.263164   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103130-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0721 23:01:00.491746   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103451-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0721 23:01:01.285798   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210721-103353-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 23:01:02.278710   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103451-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 23:13:55.952813   25701 scheduler.go:474]  "msg"="Training job completed"  "elaspedTotalSeconds"=2602.566104964 "gpuTotalSeconds"=2490.081563869 "job"="tf2-keras-transformer-elastic-20210721-103028" "ranTotalSeconds"=2490.081563869 "scheduler"="default" "waitedTotalSeconds"=112.484541095
I0721 23:13:55.952990   25701 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-21T23:02:43.821417389+08:00" "lastResched"="2021-07-21T23:00:43.821417389+08:00" "received"="2021-07-21T23:13:55.952861378+08:00" "scheduler"="default"
I0721 23:13:55.953449   25701 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0721 23:13:55.953517   25701 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0721 23:13:55.967436   25701 ffdl_optimizer.go:129]  "msg"="Finished scheduling"  "FreeGPU"=0 "algorithm"="FfDLOptimizer" "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823":1,"tf2-keras-cifar10-inceptionv3-elastic-20210721-102914":1,"tf2-keras-cifar10-inceptionv3-elastic-20210721-103130":1,"tf2-keras-cifar10-inceptionv3-elastic-20210721-103234":1,"tf2-keras-cifar10-inceptionv3-elastic-20210721-103451":1,"tf2-keras-cifar10-inceptionv3-elastic-20210721-103549":1,"tf2-keras-cifar10-resnet50-elastic-20210721-103422":1,"tf2-keras-cifar10-resnet50-elastic-20210721-103611":1,"tf2-keras-cifar10-resnet50-elastic-20210721-103825":0,"tf2-keras-cifar10-resnet50-elastic-20210721-103851":0,"tf2-keras-cifar10-vgg16-elastic-20210721-103353":1,"tf2-keras-cifar10-vgg16-elastic-20210721-103644":0,"tf2-keras-cifar10-vgg16-elastic-20210721-103746":0,"tf2-keras-transformer-elastic-20210721-103055":1,"tf2-keras-transformer-elastic-20210721-103301":1,"tf2-keras-transformer-elastic-20210721-103527":1,"tf2-keras-transformer-elastic-20210721-103706":0,"tf2-keras-transformer-elastic-20210721-103919":0} "scheduler"="default"
I0721 23:13:55.967757   25701 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0721 23:13:55.967969   25701 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0721 23:13:55.968174   25701 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=["tf2-keras-cifar10-resnet50-elastic-20210721-103611"] "scheduler"="default"
I0721 23:13:55.977792   25701 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0721 23:13:55.982601   25701 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0721 23:13:55.982682   25701 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-102914":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103130":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103234":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103451":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103549":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103422":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103353":{},"tf2-keras-transformer-elastic-20210721-103028":{},"tf2-keras-transformer-elastic-20210721-103055":{},"tf2-keras-transformer-elastic-20210721-103301":{},"tf2-keras-transformer-elastic-20210721-103527":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0721 23:13:55.982765   25701 placement_manager.go:250]  "msg"="Released slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-102914":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103130":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103234":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103451":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103549":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103422":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103353":{},"tf2-keras-transformer-elastic-20210721-103028":{},"tf2-keras-transformer-elastic-20210721-103055":{},"tf2-keras-transformer-elastic-20210721-103301":{},"tf2-keras-transformer-elastic-20210721-103527":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0721 23:13:55.983093   25701 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}] "scheduler"="default"
I0721 23:13:55.983382   25701 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=7
I0721 23:13:55.983653   25701 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-102914":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103130":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103234":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103451":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103549":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103422":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103611":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103353":{},"tf2-keras-transformer-elastic-20210721-103055":{},"tf2-keras-transformer-elastic-20210721-103301":{},"tf2-keras-transformer-elastic-20210721-103527":{}} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-102914":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103130":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103234":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103451":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103549":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103422":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103353":{},"tf2-keras-transformer-elastic-20210721-103028":{},"tf2-keras-transformer-elastic-20210721-103055":{},"tf2-keras-transformer-elastic-20210721-103301":{},"tf2-keras-transformer-elastic-20210721-103527":{}} "scheduler"="default"
I0721 23:13:55.984030   25701 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=4 "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210721-102914-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210721-103130-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210721-103234-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210721-103451-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210721-103549-worker-0":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210721-103422-worker-0":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210721-103611-worker-0":"gpu4","tf2-keras-cifar10-vgg16-elastic-20210721-103353-worker-0":"gpu4","tf2-keras-transformer-elastic-20210721-103055-worker-0":"gpu5","tf2-keras-transformer-elastic-20210721-103301-worker-0":"gpu5","tf2-keras-transformer-elastic-20210721-103527-worker-0":"gpu4"} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210721-102914-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210721-103130-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210721-103234-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210721-103451-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210721-103549-worker-0":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210721-103422-worker-0":"gpu4","tf2-keras-cifar10-vgg16-elastic-20210721-103353-worker-0":"gpu5","tf2-keras-transformer-elastic-20210721-103028-worker-0":"gpu3","tf2-keras-transformer-elastic-20210721-103055-worker-0":"gpu5","tf2-keras-transformer-elastic-20210721-103301-worker-0":"gpu4","tf2-keras-transformer-elastic-20210721-103527-worker-0":"gpu4"} "scheduler"="default" "workersToDelete"=4
I0721 23:13:55.984283   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210721-103301-worker-0" "scheduler"="default"
I0721 23:13:55.988894   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210721-103301-launcher" "scheduler"="default"
I0721 23:13:55.994282   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210721-103353-worker-0" "scheduler"="default"
I0721 23:13:56.011436   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210721-103353-launcher" "scheduler"="default"
I0721 23:13:56.018286   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103130-worker-0" "scheduler"="default"
I0721 23:13:56.022662   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103130-launcher" "scheduler"="default"
I0721 23:13:56.027471   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103234-worker-0" "scheduler"="default"
I0721 23:13:56.031157   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103234-launcher" "scheduler"="default"
I0721 23:13:56.035643   25701 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0721 23:13:56.035873   25701 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0721 23:13:56.346589   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210721-103611-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0721 23:13:56.744755   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210721-103611-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 23:14:04.472944   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210721-103353-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0721 23:14:04.487999   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103234-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0721 23:14:04.582887   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103130-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 23:14:09.736105   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210721-103353-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 23:14:09.794767   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103234-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 23:14:15.320974   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210721-103301-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 23:14:16.119140   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210721-103301-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0721 23:14:17.117649   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103130-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0721 23:16:06.246735   25701 scheduler.go:474]  "msg"="Training job completed"  "elaspedTotalSeconds"=2705.696733725 "gpuTotalSeconds"=2620.086196224 "job"="tf2-keras-transformer-elastic-20210721-103055" "ranTotalSeconds"=2620.086196224 "scheduler"="default" "waitedTotalSeconds"=85.610537501
I0721 23:16:06.246876   25701 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-21T23:15:56.036046882+08:00" "lastResched"="2021-07-21T23:13:56.036046882+08:00" "received"="2021-07-21T23:16:06.246769614+08:00" "scheduler"="default"
I0721 23:16:06.247411   25701 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0721 23:16:06.247446   25701 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0721 23:16:06.256829   25701 ffdl_optimizer.go:129]  "msg"="Finished scheduling"  "FreeGPU"=0 "algorithm"="FfDLOptimizer" "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823":1,"tf2-keras-cifar10-inceptionv3-elastic-20210721-102914":1,"tf2-keras-cifar10-inceptionv3-elastic-20210721-103130":1,"tf2-keras-cifar10-inceptionv3-elastic-20210721-103234":1,"tf2-keras-cifar10-inceptionv3-elastic-20210721-103451":1,"tf2-keras-cifar10-inceptionv3-elastic-20210721-103549":1,"tf2-keras-cifar10-resnet50-elastic-20210721-103422":1,"tf2-keras-cifar10-resnet50-elastic-20210721-103611":1,"tf2-keras-cifar10-resnet50-elastic-20210721-103825":0,"tf2-keras-cifar10-resnet50-elastic-20210721-103851":0,"tf2-keras-cifar10-vgg16-elastic-20210721-103353":1,"tf2-keras-cifar10-vgg16-elastic-20210721-103644":1,"tf2-keras-cifar10-vgg16-elastic-20210721-103746":0,"tf2-keras-transformer-elastic-20210721-103301":1,"tf2-keras-transformer-elastic-20210721-103527":1,"tf2-keras-transformer-elastic-20210721-103706":0,"tf2-keras-transformer-elastic-20210721-103919":0} "scheduler"="default"
I0721 23:16:06.257178   25701 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0721 23:16:06.257445   25701 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0721 23:16:06.257756   25701 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=["tf2-keras-cifar10-vgg16-elastic-20210721-103644"] "scheduler"="default"
I0721 23:16:06.269279   25701 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0721 23:16:06.274170   25701 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0721 23:16:06.274250   25701 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-102914":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103130":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103234":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103451":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103549":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103422":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103611":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103353":{},"tf2-keras-transformer-elastic-20210721-103055":{},"tf2-keras-transformer-elastic-20210721-103301":{},"tf2-keras-transformer-elastic-20210721-103527":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0721 23:16:06.274328   25701 placement_manager.go:250]  "msg"="Released slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-102914":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103130":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103234":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103451":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103549":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103422":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103611":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103353":{},"tf2-keras-transformer-elastic-20210721-103055":{},"tf2-keras-transformer-elastic-20210721-103301":{},"tf2-keras-transformer-elastic-20210721-103527":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0721 23:16:06.274840   25701 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}] "scheduler"="default"
I0721 23:16:06.275394   25701 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=7
I0721 23:16:06.275854   25701 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-102914":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103130":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103234":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103451":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103549":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103422":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103611":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103353":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103644":{},"tf2-keras-transformer-elastic-20210721-103301":{},"tf2-keras-transformer-elastic-20210721-103527":{}} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-102914":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103130":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103234":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103451":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103549":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103422":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103611":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103353":{},"tf2-keras-transformer-elastic-20210721-103055":{},"tf2-keras-transformer-elastic-20210721-103301":{},"tf2-keras-transformer-elastic-20210721-103527":{}} "scheduler"="default"
I0721 23:16:06.276303   25701 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=4 "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210721-102914-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210721-103130-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210721-103234-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210721-103451-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210721-103549-worker-0":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210721-103422-worker-0":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210721-103611-worker-0":"gpu3","tf2-keras-cifar10-vgg16-elastic-20210721-103353-worker-0":"gpu4","tf2-keras-cifar10-vgg16-elastic-20210721-103644-worker-0":"gpu4","tf2-keras-transformer-elastic-20210721-103301-worker-0":"gpu5","tf2-keras-transformer-elastic-20210721-103527-worker-0":"gpu4"} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210721-102914-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210721-103130-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210721-103234-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210721-103451-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210721-103549-worker-0":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210721-103422-worker-0":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210721-103611-worker-0":"gpu4","tf2-keras-cifar10-vgg16-elastic-20210721-103353-worker-0":"gpu4","tf2-keras-transformer-elastic-20210721-103055-worker-0":"gpu5","tf2-keras-transformer-elastic-20210721-103301-worker-0":"gpu5","tf2-keras-transformer-elastic-20210721-103527-worker-0":"gpu4"} "scheduler"="default" "workersToDelete"=4
I0721 23:16:06.276661   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-102823-worker-0" "scheduler"="default"
I0721 23:16:06.280557   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-102823-launcher" "scheduler"="default"
I0721 23:16:06.284302   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103451-worker-0" "scheduler"="default"
I0721 23:16:06.294603   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103451-launcher" "scheduler"="default"
I0721 23:16:06.299546   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103130-worker-0" "scheduler"="default"
I0721 23:16:06.304535   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103130-launcher" "scheduler"="default"
I0721 23:16:06.308149   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210721-103611-worker-0" "scheduler"="default"
I0721 23:16:06.311730   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210721-103611-launcher" "scheduler"="default"
I0721 23:16:06.317144   25701 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0721 23:16:06.317336   25701 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0721 23:16:06.636689   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210721-103644-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0721 23:16:07.038631   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210721-103644-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 23:16:13.801355   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-102823-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 23:16:13.842304   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103451-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0721 23:16:13.850483   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-102823-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0721 23:16:19.268243   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103451-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 23:16:22.859898   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103130-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0721 23:16:24.583357   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210721-103611-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0721 23:16:24.620103   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210721-103611-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 23:16:24.861455   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103130-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 23:16:51.260273   25701 scheduler.go:474]  "msg"="Training job completed"  "elaspedTotalSeconds"=2624.945089315 "gpuTotalSeconds"=2545.08472939 "job"="tf2-keras-transformer-elastic-20210721-103301" "ranTotalSeconds"=2545.08472939 "scheduler"="default" "waitedTotalSeconds"=79.860359925
I0721 23:16:51.260444   25701 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-21T23:18:06.317546053+08:00" "lastResched"="2021-07-21T23:16:06.317546053+08:00" "received"="2021-07-21T23:16:51.260326477+08:00" "scheduler"="default"
I0721 23:18:06.317635   25701 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0721 23:18:06.317735   25701 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0721 23:18:06.328188   25701 ffdl_optimizer.go:129]  "msg"="Finished scheduling"  "FreeGPU"=0 "algorithm"="FfDLOptimizer" "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823":1,"tf2-keras-cifar10-inceptionv3-elastic-20210721-102914":1,"tf2-keras-cifar10-inceptionv3-elastic-20210721-103130":1,"tf2-keras-cifar10-inceptionv3-elastic-20210721-103234":1,"tf2-keras-cifar10-inceptionv3-elastic-20210721-103451":1,"tf2-keras-cifar10-inceptionv3-elastic-20210721-103549":1,"tf2-keras-cifar10-resnet50-elastic-20210721-103422":1,"tf2-keras-cifar10-resnet50-elastic-20210721-103611":1,"tf2-keras-cifar10-resnet50-elastic-20210721-103825":0,"tf2-keras-cifar10-resnet50-elastic-20210721-103851":0,"tf2-keras-cifar10-vgg16-elastic-20210721-103353":1,"tf2-keras-cifar10-vgg16-elastic-20210721-103644":1,"tf2-keras-cifar10-vgg16-elastic-20210721-103746":0,"tf2-keras-transformer-elastic-20210721-103527":1,"tf2-keras-transformer-elastic-20210721-103706":1,"tf2-keras-transformer-elastic-20210721-103919":0} "scheduler"="default"
I0721 23:18:06.328614   25701 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0721 23:18:06.328928   25701 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0721 23:18:06.329189   25701 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=["tf2-keras-transformer-elastic-20210721-103706"] "scheduler"="default"
I0721 23:18:06.341744   25701 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0721 23:18:06.346884   25701 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0721 23:18:06.346998   25701 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-102914":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103130":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103234":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103451":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103549":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103422":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103611":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103353":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103644":{},"tf2-keras-transformer-elastic-20210721-103301":{},"tf2-keras-transformer-elastic-20210721-103527":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0721 23:18:06.347080   25701 placement_manager.go:250]  "msg"="Released slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-102914":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103130":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103234":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103451":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103549":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103422":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103611":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103353":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103644":{},"tf2-keras-transformer-elastic-20210721-103301":{},"tf2-keras-transformer-elastic-20210721-103527":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0721 23:18:06.347580   25701 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}] "scheduler"="default"
I0721 23:18:06.347858   25701 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=5
I0721 23:18:06.348185   25701 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-102914":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103130":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103234":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103451":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103549":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103422":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103611":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103353":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103644":{},"tf2-keras-transformer-elastic-20210721-103527":{},"tf2-keras-transformer-elastic-20210721-103706":{}} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-102914":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103130":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103234":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103451":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103549":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103422":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103611":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103353":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103644":{},"tf2-keras-transformer-elastic-20210721-103301":{},"tf2-keras-transformer-elastic-20210721-103527":{}} "scheduler"="default"
I0721 23:18:06.348591   25701 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=6 "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210721-102914-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210721-103130-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210721-103234-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210721-103451-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210721-103549-worker-0":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210721-103422-worker-0":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210721-103611-worker-0":"gpu5","tf2-keras-cifar10-vgg16-elastic-20210721-103353-worker-0":"gpu5","tf2-keras-cifar10-vgg16-elastic-20210721-103644-worker-0":"gpu3","tf2-keras-transformer-elastic-20210721-103527-worker-0":"gpu4","tf2-keras-transformer-elastic-20210721-103706-worker-0":"gpu5"} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210721-102914-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210721-103130-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210721-103234-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210721-103451-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210721-103549-worker-0":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210721-103422-worker-0":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210721-103611-worker-0":"gpu3","tf2-keras-cifar10-vgg16-elastic-20210721-103353-worker-0":"gpu4","tf2-keras-cifar10-vgg16-elastic-20210721-103644-worker-0":"gpu4","tf2-keras-transformer-elastic-20210721-103301-worker-0":"gpu5","tf2-keras-transformer-elastic-20210721-103527-worker-0":"gpu4"} "scheduler"="default" "workersToDelete"=6
I0721 23:18:06.348858   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210721-103611-worker-0" "scheduler"="default"
I0721 23:18:06.355425   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210721-103611-launcher" "scheduler"="default"
I0721 23:18:06.360416   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210721-103353-worker-0" "scheduler"="default"
I0721 23:18:06.378884   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210721-103353-launcher" "scheduler"="default"
I0721 23:18:06.383381   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103130-worker-0" "scheduler"="default"
I0721 23:18:06.387574   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103130-launcher" "scheduler"="default"
I0721 23:18:06.395664   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-102914-worker-0" "scheduler"="default"
I0721 23:18:06.401775   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-102914-launcher" "scheduler"="default"
I0721 23:18:06.403409   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210721-103706-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0721 23:18:06.416414   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103451-worker-0" "scheduler"="default"
I0721 23:18:06.553085   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103451-launcher" "scheduler"="default"
I0721 23:18:06.953377   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210721-103644-worker-0" "scheduler"="default"
I0721 23:18:07.156955   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210721-103706-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 23:18:07.353783   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210721-103644-launcher" "scheduler"="default"
I0721 23:18:07.755252   25701 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0721 23:18:07.755585   25701 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0721 23:18:13.296321   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210721-103353-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0721 23:18:13.334358   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210721-103353-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 23:18:13.786016   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210721-103611-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0721 23:18:13.821131   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103130-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0721 23:18:13.935428   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103130-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 23:18:14.506468   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-102914-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 23:18:15.835274   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-102914-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0721 23:18:19.260682   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210721-103611-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 23:18:24.826270   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103451-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 23:18:25.287982   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210721-103644-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0721 23:18:30.439350   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103451-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0721 23:18:31.230601   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210721-103644-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 23:18:50.244096   25701 scheduler.go:474]  "msg"="Training job completed"  "elaspedTotalSeconds"=2694.436223441 "gpuTotalSeconds"=1531.348873277 "job"="tf2-keras-cifar10-vgg16-elastic-20210721-103353" "ranTotalSeconds"=1531.348873277 "scheduler"="default" "waitedTotalSeconds"=1163.087350164
I0721 23:18:50.244257   25701 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-21T23:20:07.755837208+08:00" "lastResched"="2021-07-21T23:18:07.755837208+08:00" "received"="2021-07-21T23:18:50.244123367+08:00" "scheduler"="default"
I0721 23:19:44.338410   25701 scheduler.go:474]  "msg"="Training job completed"  "elaspedTotalSeconds"=2720.514583242 "gpuTotalSeconds"=1466.345857074 "job"="tf2-keras-cifar10-resnet50-elastic-20210721-103422" "ranTotalSeconds"=1466.345857074 "scheduler"="default" "waitedTotalSeconds"=1254.168726168
I0721 23:20:07.755888   25701 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0721 23:20:07.755985   25701 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0721 23:20:07.765106   25701 ffdl_optimizer.go:129]  "msg"="Finished scheduling"  "FreeGPU"=0 "algorithm"="FfDLOptimizer" "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823":1,"tf2-keras-cifar10-inceptionv3-elastic-20210721-102914":1,"tf2-keras-cifar10-inceptionv3-elastic-20210721-103130":1,"tf2-keras-cifar10-inceptionv3-elastic-20210721-103234":1,"tf2-keras-cifar10-inceptionv3-elastic-20210721-103451":1,"tf2-keras-cifar10-inceptionv3-elastic-20210721-103549":1,"tf2-keras-cifar10-resnet50-elastic-20210721-103611":1,"tf2-keras-cifar10-resnet50-elastic-20210721-103825":1,"tf2-keras-cifar10-resnet50-elastic-20210721-103851":0,"tf2-keras-cifar10-vgg16-elastic-20210721-103644":1,"tf2-keras-cifar10-vgg16-elastic-20210721-103746":1,"tf2-keras-transformer-elastic-20210721-103527":1,"tf2-keras-transformer-elastic-20210721-103706":1,"tf2-keras-transformer-elastic-20210721-103919":0} "scheduler"="default"
I0721 23:20:07.765640   25701 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0721 23:20:07.765986   25701 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0721 23:20:07.766198   25701 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=["tf2-keras-cifar10-vgg16-elastic-20210721-103746","tf2-keras-cifar10-resnet50-elastic-20210721-103825"] "scheduler"="default"
I0721 23:20:07.794250   25701 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0721 23:20:07.798905   25701 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0721 23:20:07.799040   25701 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-102914":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103130":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103234":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103451":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103549":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103422":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103611":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103353":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103644":{},"tf2-keras-transformer-elastic-20210721-103527":{},"tf2-keras-transformer-elastic-20210721-103706":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0721 23:20:07.799131   25701 placement_manager.go:250]  "msg"="Released slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-102914":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103130":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103234":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103451":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103549":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103422":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103611":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103353":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103644":{},"tf2-keras-transformer-elastic-20210721-103527":{},"tf2-keras-transformer-elastic-20210721-103706":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0721 23:20:07.799650   25701 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}] "scheduler"="default"
I0721 23:20:07.799947   25701 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=4
I0721 23:20:07.800291   25701 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-102914":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103130":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103234":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103451":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103549":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103611":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103825":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103644":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103746":{},"tf2-keras-transformer-elastic-20210721-103527":{},"tf2-keras-transformer-elastic-20210721-103706":{}} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-102914":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103130":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103234":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103451":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103549":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103422":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103611":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103353":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103644":{},"tf2-keras-transformer-elastic-20210721-103527":{},"tf2-keras-transformer-elastic-20210721-103706":{}} "scheduler"="default"
I0721 23:20:07.800714   25701 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=6 "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210721-102914-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210721-103130-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210721-103234-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210721-103451-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210721-103549-worker-0":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210721-103611-worker-0":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210721-103825-worker-0":"gpu5","tf2-keras-cifar10-vgg16-elastic-20210721-103644-worker-0":"gpu3","tf2-keras-cifar10-vgg16-elastic-20210721-103746-worker-0":"gpu4","tf2-keras-transformer-elastic-20210721-103527-worker-0":"gpu5","tf2-keras-transformer-elastic-20210721-103706-worker-0":"gpu3"} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210721-102914-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210721-103130-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210721-103234-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210721-103451-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210721-103549-worker-0":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210721-103422-worker-0":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210721-103611-worker-0":"gpu5","tf2-keras-cifar10-vgg16-elastic-20210721-103353-worker-0":"gpu5","tf2-keras-cifar10-vgg16-elastic-20210721-103644-worker-0":"gpu3","tf2-keras-transformer-elastic-20210721-103527-worker-0":"gpu4","tf2-keras-transformer-elastic-20210721-103706-worker-0":"gpu5"} "scheduler"="default" "workersToDelete"=6
I0721 23:20:07.801006   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103451-worker-0" "scheduler"="default"
I0721 23:20:07.818398   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103451-launcher" "scheduler"="default"
I0721 23:20:07.823478   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210721-103706-worker-0" "scheduler"="default"
I0721 23:20:07.827715   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210721-103706-launcher" "scheduler"="default"
I0721 23:20:07.837832   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-102823-worker-0" "scheduler"="default"
I0721 23:20:07.841389   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-102823-launcher" "scheduler"="default"
I0721 23:20:07.846000   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210721-103527-worker-0" "scheduler"="default"
I0721 23:20:07.849677   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210721-103527-launcher" "scheduler"="default"
I0721 23:20:07.853842   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103549-worker-0" "scheduler"="default"
I0721 23:20:07.857078   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103549-launcher" "scheduler"="default"
I0721 23:20:07.864652   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103130-worker-0" "scheduler"="default"
I0721 23:20:07.987078   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210721-103746-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0721 23:20:08.006098   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103130-launcher" "scheduler"="default"
I0721 23:20:08.406081   25701 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0721 23:20:08.406319   25701 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0721 23:20:08.608407   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210721-103825-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0721 23:20:09.009228   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210721-103746-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 23:20:09.409942   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210721-103825-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 23:20:16.245026   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210721-103706-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0721 23:20:18.039248   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-102823-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 23:20:19.267968   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103451-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0721 23:20:19.301531   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103549-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 23:20:19.312486   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103451-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 23:20:19.323925   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103549-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0721 23:20:19.439604   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210721-103527-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 23:20:20.634320   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-102823-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0721 23:20:23.441028   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210721-103706-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 23:20:25.144589   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103130-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 23:20:25.939717   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210721-103527-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0721 23:20:26.738388   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103130-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0721 23:38:12.555394   25701 scheduler.go:474]  "msg"="Training job completed"  "elaspedTotalSeconds"=4185.296870029 "gpuTotalSeconds"=4779.959842065 "job"="tf2-keras-cifar10-inceptionv3-elastic-20210721-102823" "ranTotalSeconds"=4185.296870029 "scheduler"="default" "waitedTotalSeconds"=0
I0721 23:38:12.555527   25701 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-21T23:22:08.406632145+08:00" "lastResched"="2021-07-21T23:20:08.406632145+08:00" "received"="2021-07-21T23:38:12.555441233+08:00" "scheduler"="default"
I0721 23:38:12.556048   25701 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0721 23:38:12.556115   25701 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0721 23:38:12.565254   25701 ffdl_optimizer.go:129]  "msg"="Finished scheduling"  "FreeGPU"=0 "algorithm"="FfDLOptimizer" "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102914":1,"tf2-keras-cifar10-inceptionv3-elastic-20210721-103130":1,"tf2-keras-cifar10-inceptionv3-elastic-20210721-103234":1,"tf2-keras-cifar10-inceptionv3-elastic-20210721-103451":1,"tf2-keras-cifar10-inceptionv3-elastic-20210721-103549":1,"tf2-keras-cifar10-resnet50-elastic-20210721-103611":1,"tf2-keras-cifar10-resnet50-elastic-20210721-103825":1,"tf2-keras-cifar10-resnet50-elastic-20210721-103851":1,"tf2-keras-cifar10-vgg16-elastic-20210721-103644":1,"tf2-keras-cifar10-vgg16-elastic-20210721-103746":1,"tf2-keras-transformer-elastic-20210721-103527":1,"tf2-keras-transformer-elastic-20210721-103706":1,"tf2-keras-transformer-elastic-20210721-103919":0} "scheduler"="default"
I0721 23:38:12.565585   25701 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0721 23:38:12.565813   25701 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0721 23:38:12.566017   25701 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=["tf2-keras-cifar10-resnet50-elastic-20210721-103851"] "scheduler"="default"
I0721 23:38:12.577839   25701 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0721 23:38:12.581775   25701 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0721 23:38:12.581837   25701 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-102914":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103130":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103234":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103451":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103549":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103611":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103825":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103644":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103746":{},"tf2-keras-transformer-elastic-20210721-103527":{},"tf2-keras-transformer-elastic-20210721-103706":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0721 23:38:12.581886   25701 placement_manager.go:250]  "msg"="Released slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-102914":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103130":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103234":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103451":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103549":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103611":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103825":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103644":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103746":{},"tf2-keras-transformer-elastic-20210721-103527":{},"tf2-keras-transformer-elastic-20210721-103706":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0721 23:38:12.582272   25701 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}] "scheduler"="default"
I0721 23:38:12.582499   25701 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=5
I0721 23:38:12.582763   25701 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102914":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103130":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103234":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103451":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103549":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103611":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103825":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103851":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103644":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103746":{},"tf2-keras-transformer-elastic-20210721-103527":{},"tf2-keras-transformer-elastic-20210721-103706":{}} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-102914":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103130":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103234":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103451":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103549":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103611":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103825":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103644":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103746":{},"tf2-keras-transformer-elastic-20210721-103527":{},"tf2-keras-transformer-elastic-20210721-103706":{}} "scheduler"="default"
I0721 23:38:12.583058   25701 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=6 "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102914-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210721-103130-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210721-103234-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210721-103451-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210721-103549-worker-0":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210721-103611-worker-0":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210721-103825-worker-0":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210721-103851-worker-0":"gpu3","tf2-keras-cifar10-vgg16-elastic-20210721-103644-worker-0":"gpu5","tf2-keras-cifar10-vgg16-elastic-20210721-103746-worker-0":"gpu4","tf2-keras-transformer-elastic-20210721-103527-worker-0":"gpu5","tf2-keras-transformer-elastic-20210721-103706-worker-0":"gpu4"} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102823-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210721-102914-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210721-103130-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210721-103234-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210721-103451-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210721-103549-worker-0":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210721-103611-worker-0":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210721-103825-worker-0":"gpu5","tf2-keras-cifar10-vgg16-elastic-20210721-103644-worker-0":"gpu3","tf2-keras-cifar10-vgg16-elastic-20210721-103746-worker-0":"gpu4","tf2-keras-transformer-elastic-20210721-103527-worker-0":"gpu5","tf2-keras-transformer-elastic-20210721-103706-worker-0":"gpu3"} "scheduler"="default" "workersToDelete"=6
I0721 23:38:12.583306   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210721-103706-worker-0" "scheduler"="default"
I0721 23:38:12.592293   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210721-103706-launcher" "scheduler"="default"
I0721 23:38:12.597848   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210721-103825-worker-0" "scheduler"="default"
I0721 23:38:12.605914   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210721-103825-launcher" "scheduler"="default"
I0721 23:38:12.615467   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103130-worker-0" "scheduler"="default"
I0721 23:38:12.619968   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103130-launcher" "scheduler"="default"
I0721 23:38:12.624678   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210721-103644-worker-0" "scheduler"="default"
I0721 23:38:12.628962   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210721-103644-launcher" "scheduler"="default"
I0721 23:38:12.637489   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103549-worker-0" "scheduler"="default"
I0721 23:38:12.645322   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103549-launcher" "scheduler"="default"
I0721 23:38:12.651768   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103451-worker-0" "scheduler"="default"
I0721 23:38:12.787676   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103451-launcher" "scheduler"="default"
I0721 23:38:12.989404   25701 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0721 23:38:12.989845   25701 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0721 23:38:13.153516   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210721-103851-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0721 23:38:13.552009   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210721-103851-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 23:38:20.052979   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210721-103825-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0721 23:38:20.086059   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103451-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0721 23:38:20.105613   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210721-103644-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0721 23:38:20.139651   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210721-103706-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 23:38:20.463058   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103451-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 23:38:25.223189   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103549-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0721 23:38:26.020319   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103549-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 23:38:29.746915   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103130-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 23:38:29.787320   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210721-103825-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 23:38:31.708686   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-vgg16-elastic-20210721-103644-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 23:38:33.305278   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210721-103706-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0721 23:38:34.126301   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103130-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0721 23:40:27.448996   25701 scheduler.go:474]  "msg"="Training job completed"  "elaspedTotalSeconds"=3851.519895454 "gpuTotalSeconds"=1591.998138324 "job"="tf2-keras-cifar10-resnet50-elastic-20210721-103611" "ranTotalSeconds"=1591.998138324 "scheduler"="default" "waitedTotalSeconds"=2259.52175713
I0721 23:40:27.449143   25701 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-21T23:40:12.990280507+08:00" "lastResched"="2021-07-21T23:38:12.990280507+08:00" "received"="2021-07-21T23:40:27.449030975+08:00" "scheduler"="default"
I0721 23:40:27.449784   25701 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0721 23:40:27.449850   25701 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0721 23:40:27.458001   25701 ffdl_optimizer.go:129]  "msg"="Finished scheduling"  "FreeGPU"=0 "algorithm"="FfDLOptimizer" "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102914":1,"tf2-keras-cifar10-inceptionv3-elastic-20210721-103130":1,"tf2-keras-cifar10-inceptionv3-elastic-20210721-103234":1,"tf2-keras-cifar10-inceptionv3-elastic-20210721-103451":1,"tf2-keras-cifar10-inceptionv3-elastic-20210721-103549":1,"tf2-keras-cifar10-resnet50-elastic-20210721-103825":1,"tf2-keras-cifar10-resnet50-elastic-20210721-103851":1,"tf2-keras-cifar10-vgg16-elastic-20210721-103644":1,"tf2-keras-cifar10-vgg16-elastic-20210721-103746":1,"tf2-keras-transformer-elastic-20210721-103527":1,"tf2-keras-transformer-elastic-20210721-103706":1,"tf2-keras-transformer-elastic-20210721-103919":1} "scheduler"="default"
I0721 23:40:27.458396   25701 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0721 23:40:27.458671   25701 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0721 23:40:27.458880   25701 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=["tf2-keras-transformer-elastic-20210721-103919"] "scheduler"="default"
I0721 23:40:27.468757   25701 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0721 23:40:27.473045   25701 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0721 23:40:27.473110   25701 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102914":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103130":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103234":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103451":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103549":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103611":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103825":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103851":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103644":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103746":{},"tf2-keras-transformer-elastic-20210721-103527":{},"tf2-keras-transformer-elastic-20210721-103706":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0721 23:40:27.473175   25701 placement_manager.go:250]  "msg"="Released slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102914":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103130":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103234":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103451":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103549":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103611":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103825":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103851":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103644":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103746":{},"tf2-keras-transformer-elastic-20210721-103527":{},"tf2-keras-transformer-elastic-20210721-103706":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0721 23:40:27.473571   25701 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}] "scheduler"="default"
I0721 23:40:27.473907   25701 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=6
I0721 23:40:27.474162   25701 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102914":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103130":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103234":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103451":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103549":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103825":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103851":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103644":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103746":{},"tf2-keras-transformer-elastic-20210721-103527":{},"tf2-keras-transformer-elastic-20210721-103706":{},"tf2-keras-transformer-elastic-20210721-103919":{}} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102914":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103130":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103234":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103451":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103549":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103611":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103825":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103851":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103644":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103746":{},"tf2-keras-transformer-elastic-20210721-103527":{},"tf2-keras-transformer-elastic-20210721-103706":{}} "scheduler"="default"
I0721 23:40:27.474543   25701 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=5 "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102914-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210721-103130-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210721-103234-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210721-103451-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210721-103549-worker-0":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210721-103825-worker-0":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210721-103851-worker-0":"gpu5","tf2-keras-cifar10-vgg16-elastic-20210721-103644-worker-0":"gpu5","tf2-keras-cifar10-vgg16-elastic-20210721-103746-worker-0":"gpu4","tf2-keras-transformer-elastic-20210721-103527-worker-0":"gpu3","tf2-keras-transformer-elastic-20210721-103706-worker-0":"gpu4","tf2-keras-transformer-elastic-20210721-103919-worker-0":"gpu3"} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102914-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210721-103130-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210721-103234-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210721-103451-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210721-103549-worker-0":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210721-103611-worker-0":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210721-103825-worker-0":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210721-103851-worker-0":"gpu3","tf2-keras-cifar10-vgg16-elastic-20210721-103644-worker-0":"gpu5","tf2-keras-cifar10-vgg16-elastic-20210721-103746-worker-0":"gpu4","tf2-keras-transformer-elastic-20210721-103527-worker-0":"gpu5","tf2-keras-transformer-elastic-20210721-103706-worker-0":"gpu4"} "scheduler"="default" "workersToDelete"=5
I0721 23:40:27.474792   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210721-103825-worker-0" "scheduler"="default"
I0721 23:40:27.478780   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210721-103825-launcher" "scheduler"="default"
I0721 23:40:27.483322   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103549-worker-0" "scheduler"="default"
I0721 23:40:27.487545   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103549-launcher" "scheduler"="default"
I0721 23:40:27.493118   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210721-103851-worker-0" "scheduler"="default"
I0721 23:40:27.502546   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210721-103851-launcher" "scheduler"="default"
I0721 23:40:27.509495   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210721-103527-worker-0" "scheduler"="default"
I0721 23:40:27.517056   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210721-103527-launcher" "scheduler"="default"
I0721 23:40:27.521683   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103130-worker-0" "scheduler"="default"
I0721 23:40:27.525999   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103130-launcher" "scheduler"="default"
I0721 23:40:27.538125   25701 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0721 23:40:27.538441   25701 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0721 23:40:27.841328   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210721-103919-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0721 23:40:28.281212   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210721-103919-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 23:40:34.655472   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103130-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 23:40:34.695975   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210721-103527-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0721 23:40:34.930908   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210721-103825-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0721 23:40:35.547540   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103549-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 23:40:39.269522   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210721-103851-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0721 23:40:39.310418   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103549-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0721 23:40:42.559461   25701 scheduler.go:474]  "msg"="Training job completed"  "elaspedTotalSeconds"=4083.829048896 "gpuTotalSeconds"=3977.077306737 "job"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103234" "ranTotalSeconds"=3977.077306737 "scheduler"="default" "waitedTotalSeconds"=106.751742159
I0721 23:40:42.559593   25701 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-21T23:42:27.538675474+08:00" "lastResched"="2021-07-21T23:40:27.538675474+08:00" "received"="2021-07-21T23:40:42.559490388+08:00" "scheduler"="default"
I0721 23:40:42.582933   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103130-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0721 23:40:44.593027   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210721-103527-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 23:40:44.633402   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210721-103825-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 23:40:44.643725   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210721-103851-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 23:40:46.197351   25701 scheduler.go:474]  "msg"="Training job completed"  "elaspedTotalSeconds"=3838.581461361 "gpuTotalSeconds"=1481.994035682 "job"="tf2-keras-cifar10-vgg16-elastic-20210721-103644" "ranTotalSeconds"=1481.994035682 "scheduler"="default" "waitedTotalSeconds"=2356.587425679
I0721 23:42:27.470780   25701 scheduler.go:474]  "msg"="Training job completed"  "elaspedTotalSeconds"=3876.801972572 "gpuTotalSeconds"=1340.695143522 "job"="tf2-keras-cifar10-vgg16-elastic-20210721-103746" "ranTotalSeconds"=1340.695143522 "scheduler"="default" "waitedTotalSeconds"=2536.10682905
I0721 23:42:27.538731   25701 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0721 23:42:27.538818   25701 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0721 23:42:27.545458   25701 ffdl_optimizer.go:129]  "msg"="Finished scheduling"  "FreeGPU"=0 "algorithm"="FfDLOptimizer" "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102914":2,"tf2-keras-cifar10-inceptionv3-elastic-20210721-103130":2,"tf2-keras-cifar10-inceptionv3-elastic-20210721-103451":2,"tf2-keras-cifar10-inceptionv3-elastic-20210721-103549":1,"tf2-keras-cifar10-resnet50-elastic-20210721-103825":1,"tf2-keras-cifar10-resnet50-elastic-20210721-103851":1,"tf2-keras-transformer-elastic-20210721-103527":1,"tf2-keras-transformer-elastic-20210721-103706":1,"tf2-keras-transformer-elastic-20210721-103919":1} "scheduler"="default"
I0721 23:42:27.545807   25701 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0721 23:42:27.546021   25701 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0721 23:42:27.546267   25701 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=[] "scheduler"="default"
I0721 23:42:27.546516   25701 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=["tf2-keras-cifar10-inceptionv3-elastic-20210721-103451","tf2-keras-cifar10-inceptionv3-elastic-20210721-102914","tf2-keras-cifar10-inceptionv3-elastic-20210721-103130"] "scheduler"="default"
I0721 23:42:27.595166   25701 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0721 23:42:27.595284   25701 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102914":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103130":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103234":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103451":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103549":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103825":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103851":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103644":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103746":{},"tf2-keras-transformer-elastic-20210721-103527":{},"tf2-keras-transformer-elastic-20210721-103706":{},"tf2-keras-transformer-elastic-20210721-103919":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0721 23:42:27.595369   25701 placement_manager.go:250]  "msg"="Released slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102914":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103130":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103234":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103451":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103549":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103825":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103851":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103644":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103746":{},"tf2-keras-transformer-elastic-20210721-103527":{},"tf2-keras-transformer-elastic-20210721-103706":{},"tf2-keras-transformer-elastic-20210721-103919":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0721 23:42:27.595891   25701 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}] "scheduler"="default"
I0721 23:42:27.596226   25701 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=6
I0721 23:42:27.596680   25701 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102914":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103130":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103451":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103549":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103825":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103851":{},"tf2-keras-transformer-elastic-20210721-103527":{},"tf2-keras-transformer-elastic-20210721-103706":{},"tf2-keras-transformer-elastic-20210721-103919":{}} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102914":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103130":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103234":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103451":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103549":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103825":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103851":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103644":{},"tf2-keras-cifar10-vgg16-elastic-20210721-103746":{},"tf2-keras-transformer-elastic-20210721-103527":{},"tf2-keras-transformer-elastic-20210721-103706":{},"tf2-keras-transformer-elastic-20210721-103919":{}} "scheduler"="default"
I0721 23:42:27.597134   25701 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=3 "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102914-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210721-102914-worker-1":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210721-103130-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210721-103130-worker-1":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210721-103451-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210721-103451-worker-1":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210721-103549-worker-0":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210721-103825-worker-0":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210721-103851-worker-0":"gpu3","tf2-keras-transformer-elastic-20210721-103527-worker-0":"gpu3","tf2-keras-transformer-elastic-20210721-103706-worker-0":"gpu5","tf2-keras-transformer-elastic-20210721-103919-worker-0":"gpu5"} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102914-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210721-103130-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210721-103234-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210721-103451-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210721-103549-worker-0":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210721-103825-worker-0":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210721-103851-worker-0":"gpu5","tf2-keras-cifar10-vgg16-elastic-20210721-103644-worker-0":"gpu5","tf2-keras-cifar10-vgg16-elastic-20210721-103746-worker-0":"gpu4","tf2-keras-transformer-elastic-20210721-103527-worker-0":"gpu3","tf2-keras-transformer-elastic-20210721-103706-worker-0":"gpu4","tf2-keras-transformer-elastic-20210721-103919-worker-0":"gpu3"} "scheduler"="default" "workersToDelete"=3
I0721 23:42:27.597428   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210721-103851-worker-0" "scheduler"="default"
I0721 23:42:27.603711   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210721-103851-launcher" "scheduler"="default"
I0721 23:42:27.608183   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210721-103919-worker-0" "scheduler"="default"
I0721 23:42:27.612561   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210721-103919-launcher" "scheduler"="default"
I0721 23:42:27.616908   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210721-103706-worker-0" "scheduler"="default"
I0721 23:42:27.620408   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210721-103706-launcher" "scheduler"="default"
I0721 23:42:27.625274   25701 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0721 23:42:27.625545   25701 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0721 23:42:27.865153   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-102914-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0721 23:42:28.465248   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103130-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0721 23:42:34.611077   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210721-103706-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 23:42:35.363091   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210721-103919-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0721 23:42:35.993580   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210721-103706-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0721 23:42:49.759088   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210721-103851-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 23:42:49.808595   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210721-103919-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 23:42:49.818775   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210721-103851-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0721 23:44:21.716578   25701 scheduler.go:474]  "msg"="Training job completed"  "elaspedTotalSeconds"=4131.345188439 "gpuTotalSeconds"=2617.034346025 "job"="tf2-keras-transformer-elastic-20210721-103527" "ranTotalSeconds"=2617.034346025 "scheduler"="default" "waitedTotalSeconds"=1514.310842414
I0721 23:44:21.716848   25701 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-21T23:44:27.625742499+08:00" "lastResched"="2021-07-21T23:42:27.625742499+08:00" "received"="2021-07-21T23:44:21.716702611+08:00" "scheduler"="default"
I0721 23:44:27.625886   25701 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0721 23:44:27.625992   25701 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0721 23:44:27.631332   25701 ffdl_optimizer.go:129]  "msg"="Finished scheduling"  "FreeGPU"=0 "algorithm"="FfDLOptimizer" "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102914":2,"tf2-keras-cifar10-inceptionv3-elastic-20210721-103130":2,"tf2-keras-cifar10-inceptionv3-elastic-20210721-103451":2,"tf2-keras-cifar10-inceptionv3-elastic-20210721-103549":2,"tf2-keras-cifar10-resnet50-elastic-20210721-103825":1,"tf2-keras-cifar10-resnet50-elastic-20210721-103851":1,"tf2-keras-transformer-elastic-20210721-103706":1,"tf2-keras-transformer-elastic-20210721-103919":1} "scheduler"="default"
I0721 23:44:27.631799   25701 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0721 23:44:27.632030   25701 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0721 23:44:27.632253   25701 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=[] "scheduler"="default"
I0721 23:44:27.632533   25701 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=["tf2-keras-cifar10-inceptionv3-elastic-20210721-103549"] "scheduler"="default"
I0721 23:44:27.650942   25701 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0721 23:44:27.651023   25701 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102914":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103130":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103451":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103549":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103825":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103851":{},"tf2-keras-transformer-elastic-20210721-103527":{},"tf2-keras-transformer-elastic-20210721-103706":{},"tf2-keras-transformer-elastic-20210721-103919":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0721 23:44:27.651092   25701 placement_manager.go:250]  "msg"="Released slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102914":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103130":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103451":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103549":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103825":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103851":{},"tf2-keras-transformer-elastic-20210721-103527":{},"tf2-keras-transformer-elastic-20210721-103706":{},"tf2-keras-transformer-elastic-20210721-103919":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0721 23:44:27.651640   25701 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}] "scheduler"="default"
I0721 23:44:27.652001   25701 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=7
I0721 23:44:27.652360   25701 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102914":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103130":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103451":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103549":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103825":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103851":{},"tf2-keras-transformer-elastic-20210721-103706":{},"tf2-keras-transformer-elastic-20210721-103919":{}} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102914":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103130":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103451":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103549":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103825":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103851":{},"tf2-keras-transformer-elastic-20210721-103527":{},"tf2-keras-transformer-elastic-20210721-103706":{},"tf2-keras-transformer-elastic-20210721-103919":{}} "scheduler"="default"
I0721 23:44:27.652738   25701 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=2 "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102914-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210721-102914-worker-1":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210721-103130-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210721-103130-worker-1":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210721-103451-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210721-103451-worker-1":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210721-103549-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210721-103549-worker-1":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210721-103825-worker-0":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210721-103851-worker-0":"gpu5","tf2-keras-transformer-elastic-20210721-103706-worker-0":"gpu5","tf2-keras-transformer-elastic-20210721-103919-worker-0":"gpu5"} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102914-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210721-102914-worker-1":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210721-103130-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210721-103130-worker-1":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210721-103451-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210721-103451-worker-1":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210721-103549-worker-0":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210721-103825-worker-0":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210721-103851-worker-0":"gpu3","tf2-keras-transformer-elastic-20210721-103527-worker-0":"gpu3","tf2-keras-transformer-elastic-20210721-103706-worker-0":"gpu5","tf2-keras-transformer-elastic-20210721-103919-worker-0":"gpu5"} "scheduler"="default" "workersToDelete"=4
I0721 23:44:27.652974   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210721-103851-worker-0" "scheduler"="default"
I0721 23:44:27.657377   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210721-103851-launcher" "scheduler"="default"
I0721 23:44:27.662596   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103130-worker-0" "scheduler"="default"
I0721 23:44:27.668379   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103130-worker-1" "scheduler"="default"
I0721 23:44:27.673282   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103130-launcher" "scheduler"="default"
I0721 23:44:27.679578   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103549-worker-0" "scheduler"="default"
I0721 23:44:27.682843   25701 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0721 23:44:27.683106   25701 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0721 23:44:27.685086   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103549-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0721 23:44:35.267053   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103130-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0721 23:44:35.311531   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103130-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0721 23:44:35.323172   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210721-103851-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 23:44:39.749445   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103549-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0721 23:44:39.786966   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103130-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 23:44:41.116101   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210721-103851-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0721 23:44:41.788480   25701 scheduler.go:474]  "msg"="Training job completed"  "elaspedTotalSeconds"=4524.284057789 "gpuTotalSeconds"=5072.110065654 "job"="tf2-keras-cifar10-inceptionv3-elastic-20210721-102914" "ranTotalSeconds"=4457.092068879 "scheduler"="default" "waitedTotalSeconds"=67.19198891
I0721 23:44:41.788672   25701 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-21T23:46:27.683309439+08:00" "lastResched"="2021-07-21T23:44:27.683309439+08:00" "received"="2021-07-21T23:44:41.788534509+08:00" "scheduler"="default"
I0721 23:45:46.137136   25701 scheduler.go:474]  "msg"="Training job completed"  "elaspedTotalSeconds"=4037.914173035 "gpuTotalSeconds"=1540.702053533 "job"="tf2-keras-cifar10-resnet50-elastic-20210721-103825" "ranTotalSeconds"=1540.702053533 "scheduler"="default" "waitedTotalSeconds"=2497.212119502
I0721 23:46:27.683367   25701 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0721 23:46:27.683425   25701 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0721 23:46:27.688251   25701 ffdl_optimizer.go:129]  "msg"="Finished scheduling"  "FreeGPU"=0 "algorithm"="FfDLOptimizer" "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-103130":3,"tf2-keras-cifar10-inceptionv3-elastic-20210721-103451":3,"tf2-keras-cifar10-inceptionv3-elastic-20210721-103549":3,"tf2-keras-cifar10-resnet50-elastic-20210721-103851":1,"tf2-keras-transformer-elastic-20210721-103706":1,"tf2-keras-transformer-elastic-20210721-103919":1} "scheduler"="default"
I0721 23:46:27.688723   25701 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0721 23:46:27.689006   25701 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0721 23:46:27.689263   25701 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=[] "scheduler"="default"
I0721 23:46:27.689536   25701 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=["tf2-keras-cifar10-inceptionv3-elastic-20210721-103130","tf2-keras-cifar10-inceptionv3-elastic-20210721-103451","tf2-keras-cifar10-inceptionv3-elastic-20210721-103549"] "scheduler"="default"
I0721 23:46:27.742186   25701 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0721 23:46:27.742322   25701 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102914":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103130":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103451":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103549":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103825":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103851":{},"tf2-keras-transformer-elastic-20210721-103706":{},"tf2-keras-transformer-elastic-20210721-103919":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0721 23:46:27.742389   25701 placement_manager.go:250]  "msg"="Released slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102914":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103130":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103451":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103549":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103825":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103851":{},"tf2-keras-transformer-elastic-20210721-103706":{},"tf2-keras-transformer-elastic-20210721-103919":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0721 23:46:27.742938   25701 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{},{},{},{},{},{},{},{},{},{},{}] "scheduler"="default"
I0721 23:46:27.743260   25701 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=5
I0721 23:46:27.743626   25701 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-103130":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103451":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103549":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103851":{},"tf2-keras-transformer-elastic-20210721-103706":{},"tf2-keras-transformer-elastic-20210721-103919":{}} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102914":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103130":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103451":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103549":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103825":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103851":{},"tf2-keras-transformer-elastic-20210721-103706":{},"tf2-keras-transformer-elastic-20210721-103919":{}} "scheduler"="default"
I0721 23:46:27.744024   25701 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=2 "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-103130-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210721-103130-worker-1":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210721-103130-worker-2":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210721-103451-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210721-103451-worker-1":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210721-103451-worker-2":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210721-103549-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210721-103549-worker-1":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210721-103549-worker-2":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210721-103851-worker-0":"gpu4","tf2-keras-transformer-elastic-20210721-103706-worker-0":"gpu5","tf2-keras-transformer-elastic-20210721-103919-worker-0":"gpu3"} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-102914-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210721-102914-worker-1":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210721-103130-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210721-103130-worker-1":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210721-103451-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210721-103451-worker-1":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210721-103549-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210721-103549-worker-1":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210721-103825-worker-0":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210721-103851-worker-0":"gpu5","tf2-keras-transformer-elastic-20210721-103706-worker-0":"gpu5","tf2-keras-transformer-elastic-20210721-103919-worker-0":"gpu5"} "scheduler"="default" "workersToDelete"=4
I0721 23:46:27.744472   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210721-103851-worker-0" "scheduler"="default"
I0721 23:46:27.751042   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210721-103851-launcher" "scheduler"="default"
I0721 23:46:27.755172   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103451-worker-2" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0721 23:46:27.756331   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210721-103919-worker-0" "scheduler"="default"
I0721 23:46:27.769360   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210721-103919-launcher" "scheduler"="default"
I0721 23:46:27.775209   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103451-worker-0" "scheduler"="default"
I0721 23:46:27.779292   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103451-worker-1" "scheduler"="default"
I0721 23:46:27.787142   25701 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0721 23:46:27.787352   25701 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0721 23:46:27.794611   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103549-worker-2" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0721 23:46:28.152853   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103451-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0721 23:46:34.863832   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210721-103851-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 23:46:35.439275   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103451-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0721 23:46:40.396484   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210721-103851-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0721 23:46:41.197652   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210721-103919-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 23:46:41.993113   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210721-103919-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0721 23:52:35.774125   25701 scheduler.go:474]  "msg"="Training job completed"  "elaspedTotalSeconds"=4862.779955025 "gpuTotalSeconds"=5792.137617514 "job"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103130" "ranTotalSeconds"=4812.104237392 "scheduler"="default" "waitedTotalSeconds"=50.675717633
I0721 23:52:35.774293   25701 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-21T23:48:27.787517024+08:00" "lastResched"="2021-07-21T23:46:27.787517024+08:00" "received"="2021-07-21T23:52:35.774169396+08:00" "scheduler"="default"
I0721 23:52:35.774769   25701 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0721 23:52:35.774836   25701 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0721 23:52:35.780014   25701 ffdl_optimizer.go:129]  "msg"="Finished scheduling"  "FreeGPU"=0 "algorithm"="FfDLOptimizer" "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-103451":4,"tf2-keras-cifar10-inceptionv3-elastic-20210721-103549":4,"tf2-keras-cifar10-resnet50-elastic-20210721-103851":2,"tf2-keras-transformer-elastic-20210721-103706":1,"tf2-keras-transformer-elastic-20210721-103919":1} "scheduler"="default"
I0721 23:52:35.780419   25701 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0721 23:52:35.780730   25701 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0721 23:52:35.781048   25701 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=[] "scheduler"="default"
I0721 23:52:35.781331   25701 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=["tf2-keras-cifar10-inceptionv3-elastic-20210721-103451","tf2-keras-cifar10-inceptionv3-elastic-20210721-103549","tf2-keras-cifar10-resnet50-elastic-20210721-103851"] "scheduler"="default"
I0721 23:52:35.834924   25701 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0721 23:52:35.834967   25701 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-103130":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103451":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103549":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103851":{},"tf2-keras-transformer-elastic-20210721-103706":{},"tf2-keras-transformer-elastic-20210721-103919":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0721 23:52:35.834998   25701 placement_manager.go:250]  "msg"="Released slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-103130":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103451":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103549":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103851":{},"tf2-keras-transformer-elastic-20210721-103706":{},"tf2-keras-transformer-elastic-20210721-103919":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0721 23:52:35.835367   25701 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{},{},{},{},{},{},{},{},{}] "scheduler"="default"
I0721 23:52:35.835595   25701 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=7
I0721 23:52:35.835806   25701 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-103451":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103549":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103851":{},"tf2-keras-transformer-elastic-20210721-103706":{},"tf2-keras-transformer-elastic-20210721-103919":{}} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-103130":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103451":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103549":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103851":{},"tf2-keras-transformer-elastic-20210721-103706":{},"tf2-keras-transformer-elastic-20210721-103919":{}} "scheduler"="default"
I0721 23:52:35.836095   25701 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=1 "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-103451-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210721-103451-worker-1":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210721-103451-worker-2":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210721-103451-worker-3":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210721-103549-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210721-103549-worker-1":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210721-103549-worker-2":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210721-103549-worker-3":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210721-103851-worker-0":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210721-103851-worker-1":"gpu3","tf2-keras-transformer-elastic-20210721-103706-worker-0":"gpu3","tf2-keras-transformer-elastic-20210721-103919-worker-0":"gpu3"} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-103130-worker-0":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210721-103130-worker-1":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210721-103130-worker-2":"gpu3","tf2-keras-cifar10-inceptionv3-elastic-20210721-103451-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210721-103451-worker-1":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210721-103451-worker-2":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210721-103549-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210721-103549-worker-1":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210721-103549-worker-2":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210721-103851-worker-0":"gpu4","tf2-keras-transformer-elastic-20210721-103706-worker-0":"gpu5","tf2-keras-transformer-elastic-20210721-103919-worker-0":"gpu3"} "scheduler"="default" "workersToDelete"=2
I0721 23:52:35.836331   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210721-103851-worker-0" "scheduler"="default"
I0721 23:52:35.839790   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210721-103706-worker-0" "scheduler"="default"
I0721 23:52:35.844245   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210721-103706-launcher" "scheduler"="default"
I0721 23:52:35.848822   25701 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0721 23:52:35.849019   25701 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0721 23:52:36.367666   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103549-worker-3" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0721 23:52:36.967422   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210721-103851-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0721 23:52:49.795816   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210721-103706-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0721 23:52:54.602214   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210721-103851-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0721 23:52:54.644269   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210721-103706-launcher" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Exists","effect":"NoExecute"}
I0721 23:56:45.216705   25701 scheduler.go:474]  "msg"="Training job completed"  "elaspedTotalSeconds"=4853.515332444 "gpuTotalSeconds"=4972.115604284 "job"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103549" "ranTotalSeconds"=3362.059511637 "scheduler"="default" "waitedTotalSeconds"=1491.455820807
I0721 23:56:45.216917   25701 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-21T23:54:35.84919287+08:00" "lastResched"="2021-07-21T23:52:35.84919287+08:00" "received"="2021-07-21T23:56:45.216782582+08:00" "scheduler"="default"
I0721 23:56:45.217546   25701 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0721 23:56:45.217601   25701 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0721 23:56:45.222582   25701 ffdl_optimizer.go:129]  "msg"="Finished scheduling"  "FreeGPU"=0 "algorithm"="FfDLOptimizer" "result"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-103451":4,"tf2-keras-cifar10-resnet50-elastic-20210721-103851":4,"tf2-keras-transformer-elastic-20210721-103706":2,"tf2-keras-transformer-elastic-20210721-103919":2} "scheduler"="default"
I0721 23:56:45.222911   25701 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0721 23:56:45.223250   25701 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0721 23:56:45.223580   25701 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=[] "scheduler"="default"
I0721 23:56:45.223948   25701 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=["tf2-keras-transformer-elastic-20210721-103706","tf2-keras-cifar10-resnet50-elastic-20210721-103851","tf2-keras-transformer-elastic-20210721-103919"] "scheduler"="default"
I0721 23:56:45.275070   25701 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0721 23:56:45.275161   25701 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-103451":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103549":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103851":{},"tf2-keras-transformer-elastic-20210721-103706":{},"tf2-keras-transformer-elastic-20210721-103919":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0721 23:56:45.275227   25701 placement_manager.go:250]  "msg"="Released slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-103451":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103549":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103851":{},"tf2-keras-transformer-elastic-20210721-103706":{},"tf2-keras-transformer-elastic-20210721-103919":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0721 23:56:45.275789   25701 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{},{},{},{},{},{},{}] "scheduler"="default"
I0721 23:56:45.276189   25701 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=6
I0721 23:56:45.276635   25701 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-103451":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103851":{},"tf2-keras-transformer-elastic-20210721-103706":{},"tf2-keras-transformer-elastic-20210721-103919":{}} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-103451":{},"tf2-keras-cifar10-inceptionv3-elastic-20210721-103549":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103851":{},"tf2-keras-transformer-elastic-20210721-103706":{},"tf2-keras-transformer-elastic-20210721-103919":{}} "scheduler"="default"
I0721 23:56:45.277072   25701 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=0 "new"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-103451-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210721-103451-worker-1":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210721-103451-worker-2":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210721-103451-worker-3":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210721-103851-worker-0":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210721-103851-worker-1":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210721-103851-worker-2":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210721-103851-worker-3":"gpu3","tf2-keras-transformer-elastic-20210721-103706-worker-0":"gpu4","tf2-keras-transformer-elastic-20210721-103706-worker-1":"gpu4","tf2-keras-transformer-elastic-20210721-103919-worker-0":"gpu4","tf2-keras-transformer-elastic-20210721-103919-worker-1":"gpu4"} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-103451-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210721-103451-worker-1":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210721-103451-worker-2":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210721-103451-worker-3":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210721-103549-worker-0":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210721-103549-worker-1":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210721-103549-worker-2":"gpu4","tf2-keras-cifar10-inceptionv3-elastic-20210721-103549-worker-3":"gpu4","tf2-keras-cifar10-resnet50-elastic-20210721-103851-worker-0":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210721-103851-worker-1":"gpu3","tf2-keras-transformer-elastic-20210721-103706-worker-0":"gpu3","tf2-keras-transformer-elastic-20210721-103919-worker-0":"gpu3"} "scheduler"="default" "workersToDelete"=2
I0721 23:56:45.277380   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210721-103706-worker-0" "scheduler"="default"
I0721 23:56:45.285807   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210721-103919-worker-0" "scheduler"="default"
I0721 23:56:45.291822   25701 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0721 23:56:45.292267   25701 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0721 23:56:45.615551   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210721-103706-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0721 23:56:46.615427   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210721-103851-worker-2" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0721 23:56:46.813037   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210721-103919-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0721 23:56:47.012646   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-cifar10-resnet50-elastic-20210721-103851-worker-3" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu3","effect":"NoExecute"}
I0721 23:56:59.286408   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210721-103919-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0721 23:56:59.330798   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210721-103706-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0721 23:58:50.493323   25701 scheduler.go:474]  "msg"="Training job completed"  "elaspedTotalSeconds"=5037.308908371 "gpuTotalSeconds"=5712.143239896 "job"="tf2-keras-cifar10-inceptionv3-elastic-20210721-103451" "ranTotalSeconds"=3607.068287914 "scheduler"="default" "waitedTotalSeconds"=1430.240620457
I0721 23:58:50.493432   25701 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-21T23:58:45.292577633+08:00" "lastResched"="2021-07-21T23:56:45.292577633+08:00" "received"="2021-07-21T23:58:50.493350745+08:00" "scheduler"="default"
I0721 23:58:50.494138   25701 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0721 23:58:50.494175   25701 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0721 23:58:50.496735   25701 ffdl_optimizer.go:129]  "msg"="Finished scheduling"  "FreeGPU"=0 "algorithm"="FfDLOptimizer" "result"={"tf2-keras-cifar10-resnet50-elastic-20210721-103851":4,"tf2-keras-transformer-elastic-20210721-103706":4,"tf2-keras-transformer-elastic-20210721-103919":4} "scheduler"="default"
I0721 23:58:50.497005   25701 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0721 23:58:50.497245   25701 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0721 23:58:50.497473   25701 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=[] "scheduler"="default"
I0721 23:58:50.497734   25701 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=["tf2-keras-transformer-elastic-20210721-103706","tf2-keras-transformer-elastic-20210721-103919"] "scheduler"="default"
I0721 23:58:50.532145   25701 placement_manager.go:166]  "msg"="Started job placements adjustment"  "scheduler"="default"
I0721 23:58:50.532211   25701 placement_manager.go:192]  "msg"="Releasing slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-103451":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103851":{},"tf2-keras-transformer-elastic-20210721-103706":{},"tf2-keras-transformer-elastic-20210721-103919":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0721 23:58:50.532255   25701 placement_manager.go:250]  "msg"="Released slots"  "jobs"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-103451":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103851":{},"tf2-keras-transformer-elastic-20210721-103706":{},"tf2-keras-transformer-elastic-20210721-103919":{}} "nodes"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default"
I0721 23:58:50.532722   25701 placement_manager.go:305]  "msg"="Found best-fit"  "crossNode"=0 "nodes"=[{},{},{}] "requests"=[{},{},{},{},{},{}] "scheduler"="default"
I0721 23:58:50.532948   25701 placement_manager.go:339]  "msg"="nodeStates updated"  "new"={"gpu3":{},"gpu4":{},"gpu5":{}} "old"={"gpu3":{},"gpu4":{},"gpu5":{}} "scheduler"="default" "score"=6
I0721 23:58:50.533159   25701 placement_manager.go:387]  "msg"="jobStates updated"  "new"={"tf2-keras-cifar10-resnet50-elastic-20210721-103851":{},"tf2-keras-transformer-elastic-20210721-103706":{},"tf2-keras-transformer-elastic-20210721-103919":{}} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-103451":{},"tf2-keras-cifar10-resnet50-elastic-20210721-103851":{},"tf2-keras-transformer-elastic-20210721-103706":{},"tf2-keras-transformer-elastic-20210721-103919":{}} "scheduler"="default"
I0721 23:58:50.533429   25701 placement_manager.go:434]  "msg"="podNodeName updated"  "launchersToDelete"=0 "new"={"tf2-keras-cifar10-resnet50-elastic-20210721-103851-worker-0":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210721-103851-worker-1":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210721-103851-worker-2":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210721-103851-worker-3":"gpu3","tf2-keras-transformer-elastic-20210721-103706-worker-0":"gpu5","tf2-keras-transformer-elastic-20210721-103706-worker-1":"gpu5","tf2-keras-transformer-elastic-20210721-103706-worker-2":"gpu5","tf2-keras-transformer-elastic-20210721-103706-worker-3":"gpu5","tf2-keras-transformer-elastic-20210721-103919-worker-0":"gpu4","tf2-keras-transformer-elastic-20210721-103919-worker-1":"gpu4","tf2-keras-transformer-elastic-20210721-103919-worker-2":"gpu4","tf2-keras-transformer-elastic-20210721-103919-worker-3":"gpu4"} "old"={"tf2-keras-cifar10-inceptionv3-elastic-20210721-103451-worker-0":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210721-103451-worker-1":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210721-103451-worker-2":"gpu5","tf2-keras-cifar10-inceptionv3-elastic-20210721-103451-worker-3":"gpu5","tf2-keras-cifar10-resnet50-elastic-20210721-103851-worker-0":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210721-103851-worker-1":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210721-103851-worker-2":"gpu3","tf2-keras-cifar10-resnet50-elastic-20210721-103851-worker-3":"gpu3","tf2-keras-transformer-elastic-20210721-103706-worker-0":"gpu4","tf2-keras-transformer-elastic-20210721-103706-worker-1":"gpu4","tf2-keras-transformer-elastic-20210721-103919-worker-0":"gpu4","tf2-keras-transformer-elastic-20210721-103919-worker-1":"gpu4"} "scheduler"="default" "workersToDelete"=2
I0721 23:58:50.533730   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210721-103706-worker-0" "scheduler"="default"
I0721 23:58:50.542192   25701 placement_manager.go:451]  "msg"="Deleting pod that need migration"  "podName"="tf2-keras-transformer-elastic-20210721-103706-worker-1" "scheduler"="default"
I0721 23:58:50.546166   25701 placement_manager.go:183]  "msg"="Finished job placements adjustment"  "scheduler"="default"
I0721 23:58:50.546397   25701 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0721 23:58:50.559094   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210721-103706-worker-2" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0721 23:58:50.687001   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210721-103706-worker-3" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0721 23:58:50.888033   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210721-103919-worker-2" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0721 23:58:51.340282   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210721-103919-worker-3" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu4","effect":"NoExecute"}
I0721 23:58:59.198085   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210721-103706-worker-1" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0721 23:59:05.209906   25701 placement_manager.go:147]  "msg"="Adding toleration to pod"  "podName"="tf2-keras-transformer-elastic-20210721-103706-worker-0" "scheduler"="default" "toleration"={"key":"celeste/hostname","operator":"Equal","value":"gpu5","effect":"NoExecute"}
I0722 00:00:50.502290   25701 scheduler.go:474]  "msg"="Training job completed"  "elaspedTotalSeconds"=4917.02123031 "gpuTotalSeconds"=2345.083819288 "job"="tf2-keras-cifar10-resnet50-elastic-20210721-103851" "ranTotalSeconds"=1360.047607834 "scheduler"="default" "waitedTotalSeconds"=3556.973622476
I0722 00:00:50.502437   25701 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-22T00:00:50.546593421+08:00" "lastResched"="2021-07-21T23:58:50.546593421+08:00" "received"="2021-07-22T00:00:50.502327793+08:00" "scheduler"="default"
I0722 00:00:50.546625   25701 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0722 00:00:50.546667   25701 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0722 00:00:50.549006   25701 ffdl_optimizer.go:129]  "msg"="Finished scheduling"  "FreeGPU"=4 "algorithm"="FfDLOptimizer" "result"={"tf2-keras-transformer-elastic-20210721-103706":4,"tf2-keras-transformer-elastic-20210721-103919":4} "scheduler"="default"
I0722 00:00:50.549387   25701 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0722 00:00:50.549696   25701 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0722 00:00:50.549929   25701 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=[] "scheduler"="default"
I0722 00:00:50.550206   25701 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0722 00:00:50.550562   25701 scheduler.go:180]  "msg"="Nothing changed, skipped ajust placements"  "scheduler"="default"
I0722 00:00:50.550593   25701 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0722 00:02:45.420256   25701 scheduler.go:474]  "msg"="Training job completed"  "elaspedTotalSeconds"=5136.773132727 "gpuTotalSeconds"=3512.068854196 "job"="tf2-keras-transformer-elastic-20210721-103706" "ranTotalSeconds"=2682.037237406 "scheduler"="default" "waitedTotalSeconds"=2454.735895321
I0722 00:02:45.420419   25701 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-22T00:02:50.550815899+08:00" "lastResched"="2021-07-22T00:00:50.550815899+08:00" "received"="2021-07-22T00:02:45.420292266+08:00" "scheduler"="default"
I0722 00:02:50.550862   25701 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0722 00:02:50.550906   25701 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0722 00:02:50.552649   25701 ffdl_optimizer.go:129]  "msg"="Finished scheduling"  "FreeGPU"=8 "algorithm"="FfDLOptimizer" "result"={"tf2-keras-transformer-elastic-20210721-103919":4} "scheduler"="default"
I0722 00:02:50.553031   25701 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0722 00:02:50.553383   25701 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0722 00:02:50.553630   25701 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=[] "scheduler"="default"
I0722 00:02:50.553830   25701 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0722 00:02:50.553993   25701 scheduler.go:180]  "msg"="Nothing changed, skipped ajust placements"  "scheduler"="default"
I0722 00:02:50.554014   25701 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
I0722 00:09:34.477089   25701 scheduler.go:474]  "msg"="Training job completed"  "elaspedTotalSeconds"=5414.151359082 "gpuTotalSeconds"=3810.139895568 "job"="tf2-keras-transformer-elastic-20210721-103919" "ranTotalSeconds"=1750.062548314 "scheduler"="default" "waitedTotalSeconds"=3664.088810768
I0722 00:09:34.477219   25701 scheduler.go:135]  "msg"="Received resched event, may be blocked because of rate limit"  "blockedUntil"="2021-07-22T00:04:50.554165578+08:00" "lastResched"="2021-07-22T00:02:50.554165578+08:00" "received"="2021-07-22T00:09:34.477123351+08:00" "scheduler"="default"
I0722 00:09:34.477748   25701 scheduler.go:159]  "msg"="Started resched"  "scheduler"="default"
I0722 00:09:34.477799   25701 scheduler.go:193]  "msg"="Updating all jobs info"  "scheduler"="default"
I0722 00:09:34.478261   25701 ffdl_optimizer.go:40]  "msg"="Finished scheduling"  "FreeGPU"=12 "algorithm"="FfDLOptimizer" "result"={} "scheduler"="default"
I0722 00:09:34.478607   25701 scheduler.go:384]  "msg"="Trying to delete multiple training jobs"  "jobs"=[] "scheduler"="default"
I0722 00:09:34.478916   25701 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0722 00:09:34.479232   25701 scheduler.go:292]  "msg"="Trying to start multiple training jobs"  "jobs"=[] "scheduler"="default"
I0722 00:09:34.479478   25701 scheduler.go:342]  "msg"="Trying to scale multiple training jobs"  "jobs"=[] "scheduler"="default"
I0722 00:09:34.479789   25701 scheduler.go:180]  "msg"="Nothing changed, skipped ajust placements"  "scheduler"="default"
I0722 00:09:34.479821   25701 scheduler.go:182]  "msg"="Finished resched"  "scheduler"="default"
